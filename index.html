<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Taimicï½œAI ä¿éšªèˆ‡è³‡ç”¢é…ç½®</title>
  <meta name="description" content="ç”¨ Taimic å¹«ä½ å¿«é€Ÿæª¢è¦–ä¿éšªèˆ‡è³‡ç”¢é…ç½®æ–¹å‘ï¼Œæ ¹æ“šå¹´é½¡ã€å®¶åº­èˆ‡è³‡ç”¢è¦æ¨¡ï¼Œçµ¦å‡ºåˆæ­¥å»ºè­°ã€‚" />

  <style>
    :root {
      --brand-blue: #0057b8;
      --brand-blue-light: #e6f0fb;
      --text-main: #1f2933;
      --text-sub: #6b7280;
      --bg-page: #f5f5f7;
      --border-soft: #e5e7eb;
      --radius-lg: 16px;
      --shadow-soft: 0 6px 18px rgba(15, 23, 42, 0.08);
      --max-width: 1120px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans TC", "PingFang TC", sans-serif;
      background: var(--bg-page); color: var(--text-main); line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    a { color: inherit; text-decoration: none; }
    .page { min-height: 100vh; display: flex; flex-direction: column; }
    .page-inner { max-width: var(--max-width); width: 100%; margin: 0 auto; padding: 0 20px 48px; flex: 1; }

    /* Header */
    .site-header-wrap {
      width: 100%; border-bottom: 1px solid #e5e7eb; background: #ffffffcc; backdrop-filter: blur(16px);
      position: sticky; top: 0; z-index: 1000;
    }
    .site-header {
      max-width: var(--max-width); margin: 0 auto; padding: 10px 20px;
      display: flex; align-items: center; justify-content: space-between;
    }
    .header-left { display: flex; align-items: center; gap: 10px; }
    .logo-mark { width: 32px; height: 32px; border-radius: 999px; border: 1.5px solid var(--brand-blue); position: relative;
      background: radial-gradient(circle at 30% 30%, #e5f0ff 0, #ffffff 40%, #e5edf8 100%); box-shadow: 0 0 0 1px rgba(0,87,184,.08); }
    .logo-clock::before, .logo-clock::after {
      content: ""; position: absolute; left: 50%; top: 50%; transform-origin: 50% 100%; background: #1f2933; border-radius: 999px;
    }
    .logo-clock::before { width: 2px; height: 9px; transform: translate(-50%, -100%) rotate(0deg); animation: clock-hour 180s linear infinite; }
    .logo-clock::after  { width: 2px; height: 12px;transform: translate(-50%, -100%) rotate(0deg); animation: clock-minute 60s linear infinite; }
    @keyframes clock-hour   { from {transform: translate(-50%,-100%) rotate(0)} to {transform: translate(-50%,-100%) rotate(360deg)} }
    @keyframes clock-minute { from {transform: translate(-50%,-100%) rotate(0)} to {transform: translate(-50%,-100%) rotate(360deg)} }

    .logo-text-main { font-size: 16px; font-weight: 600; letter-spacing: .04em; }
    .logo-text-sub  { font-size: 11px; color: var(--text-sub); }
    .header-center { flex: 1; display: flex; justify-content: center; gap: 32px; font-size: 15px; font-weight: 500; }
    .top-nav-link { position: relative; padding: 4px 0; color: #4b5563; }
    .top-nav-link:hover { color: #111827; }
    .top-nav-link.active::after { content:""; position:absolute; left:0; right:0; bottom:-10px; height:3px; border-radius:999px; background:#b91c1c; }

    .header-right { display:flex; align-items:center; gap:16px; font-size:13px; position: relative; z-index: 1001; }
    .header-search { font-size:18px; color:#6b7280; }

    /* èªè¨€åˆ‡æ›ï¼ˆç©©å®šï¼‰ */
    .lang-switch { position: relative; }
    .lang-toggle {
      display:inline-flex; align-items:center; gap:6px; padding:4px 12px; border-radius:999px; border:none; background:#f3f4f6;
      cursor:pointer; color:#4b5563;
    }
    .lang-toggle:hover { background:#e5e7eb; }
    .lang-switch-icon { font-size:14px; }
    .lang-menu {
      position:absolute; right:0; top:110%; padding:10px 18px; border-radius:14px;
      background: rgba(249,250,251,.98); box-shadow: 0 10px 25px rgba(15,23,42,.12);
      display:none; flex-direction:column; gap:4px; min-width:140px; z-index: 9999;
    }
    .lang-switch.open .lang-menu { display:flex; }
    .lang-item { border:none; background:transparent; padding:2px 0; font-size:13px; text-align:left; color:#6b7280; cursor:pointer; }
    .lang-item.active { color:#b91c1c; font-weight:600; }

    /* Hero & sections */
    section:not(.hero) {
      margin: 24px 0 0; background:#fff; border-radius:var(--radius-lg); border:1px solid var(--border-soft);
      box-shadow:var(--shadow-soft); padding: 20px 22px;
    }
    .hero {
      display:grid; grid-template-columns: minmax(0,1.2fr) minmax(0,1.1fr); gap:32px;
      padding: 28px 48px; background:#fff; border-radius:var(--radius-lg); border:1px solid var(--border-soft);
      box-shadow:var(--shadow-soft); margin-top: 16px;
    }
    .hero-left-title { font-size:28px; font-weight:700; margin: 8px 0; }
    .hero-left-title span { color: var(--brand-blue); }
    .hero-left-sub { font-size:14px; color:var(--text-sub); margin-bottom: 16px; max-width:520px; }
    .hero-tag { display:inline-flex; align-items:center; gap:8px; font-size:12px; margin-bottom:8px; color:var(--brand-blue); }
    .hero-tag-pill { padding:2px 8px; border-radius:999px; border:1px solid var(--brand-blue); font-size:11px; }

    .btn-primary { padding:9px 16px; border-radius:999px; background:var(--brand-blue); border:none; color:#fff; font-size:14px; font-weight:600; cursor:pointer; }
    .btn-secondary { padding:9px 16px; border-radius:999px; border:1px solid var(--border-soft); background:#fff; font-size:14px; cursor:pointer; }
    .small-hint { font-size:11px; color:var(--text-sub); margin-top: 6px; }

    .assessment-layout { display:grid; grid-template-columns: minmax(0,1.1fr) minmax(0,1fr); gap:18px; margin-top: 6px; }
    .form { display:flex; flex-direction:column; gap:8px; font-size:13px; }
    .form-row { display:flex; flex-direction:column; gap:4px; }
    .form-row-inline { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; }
    label { font-size:12px; color:var(--text-sub); }
    input, select, textarea {
      padding:7px 9px; border-radius:6px; border:1px solid #d1d5db; font-size:13px; background:#fff; color:var(--text-main); outline:none;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--brand-blue); box-shadow:0 0 0 1px rgba(0,87,184,.2); }
    textarea { min-height:70px; resize:vertical; }

    .result-preview {
      border-radius:10px; border:1px solid #d6e1f5; background: var(--brand-blue-light);
      padding: 10px 12px; font-size:13px;
    }
    .result-tag { font-size:11px; color:var(--brand-blue); margin-bottom: 4px; }
    .result-title { font-size:14px; font-weight:600; margin-bottom:6px; }
    .result-line { margin-bottom:4px; font-size:13px; color:#111827; }
    .result-highlight { color:#c05621; font-weight:500; }

    .footer { border-top: 1px solid #e5e7eb; background:#fff; margin-top: 24px; }
    .footer-inner {
      max-width: var(--max-width); margin:0 auto; padding:10px 20px 14px;
      font-size:11px; color:var(--text-sub); display:flex; justify-content:space-between; gap:12px;
    }

    @media (max-width: 900px){
      .hero{ grid-template-columns:1fr; padding:18px 16px; margin-top:4px; }
      .assessment-layout{ grid-template-columns:1fr; }
    }

    /* çµæœå¡ç‰‡é–ƒä¸€ä¸‹ */
    @keyframes flash {
      0% { box-shadow: 0 0 0 rgba(0,87,184,0); transform: scale(1); }
      25%{ box-shadow: 0 0 18px rgba(0,87,184,.4); transform: scale(1.01); }
      100%{ box-shadow: var(--shadow-soft); transform: scale(1); }
    }
    #aiOutput {
  white-space: pre-line;
}
  </style>
</head>

<body>
  <div class="page">
    <!-- HEADER -->
    <div class="site-header-wrap">
      <header class="site-header">
        <div class="header-left">
          <div class="logo-mark logo-clock"></div>
          <div>
            <div class="logo-text-main">Taimic</div>
            <div class="logo-text-sub">AI ä¿éšª Ã— è³‡ç”¢é…ç½®</div>
          </div>
        </div>

        <nav class="header-center">
          <a href="#overview" class="top-nav-link">æœå‹™èªªæ˜</a>
          <a href="#flow" class="top-nav-link">æµç¨‹</a>
          <a href="#assessment" class="top-nav-link">å…è²»å¥æª¢</a>
          <a href="#about" class="top-nav-link">é—œæ–¼ Taimic</a>
          <a href="#contact" class="top-nav-link">è¯çµ¡</a>
        </nav>

        <div class="header-right">
          <span class="header-search">ğŸ”</span>

          <!-- èªè¨€åˆ‡æ›ï¼ˆç©©å®šç‰ˆï¼‰ -->
          <div class="lang-switch" id="langSwitch">
            <button class="lang-toggle" id="langToggle" type="button">
              <span class="lang-switch-icon">ğŸŒ</span>
              <span id="currentLangLabel">ç¹ä¸­</span>
            </button>

            <div class="lang-menu" id="langMenu" role="menu" aria-hidden="true">
              <button class="lang-item" data-lang="en">English</button>
              <button class="lang-item active" data-lang="zh-Hant">ç¹ä¸­</button>
              <button class="lang-item" data-lang="zh-Hans">ç°¡ä¸­</button>
              <button class="lang-item" data-lang="ja">æ—¥æœ¬èª</button>
            </div>
          </div>
        </div>
      </header>
    </div>

    <div class="page-inner">
      <main>
        <!-- HERO -->
        <section class="hero" id="top">
          <div>
            <div class="hero-tag">
              <span class="hero-tag-pill">æ¦‚å¿µé©—è­‰</span>
              <span>å°šæœªä¸²æ¥ä¿éšªå…¬å¸èˆ‡çœŸå¯¦å•†å“</span>
            </div>
            <h1 class="hero-left-title">çµ¦ä½ ä¸€å€‹<br/>çœ‹å¾—æ‡‚çš„ <span>ä¿éšªï¼‹è³‡ç”¢é…ç½®æ–¹å‘</span></h1>
            <p class="hero-left-sub">
              Taimic ç›®å‰æ˜¯ä¸€å€‹ç”¨ä¾†å’Œå®¢æˆ¶æºé€šçš„å·¥å…·ï¼Œé€éå¹¾å€‹ç°¡å–®å•é¡Œï¼Œåˆæ­¥å¹«ä½ æ•´ç†ã€Œä¿éšœæ˜¯å¦å¤ªå°‘ã€èˆ‡ã€Œè³‡ç”¢å¤§æ–¹å‘æ€éº¼åˆ†ã€ã€‚
            </p>
            <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:8px;">
              <button class="btn-primary" onclick="scrollToId('assessment')">3 åˆ†é˜å…è²»å¥æª¢</button>
              <button class="btn-secondary" onclick="scrollToId('overview')">å…ˆäº†è§£æœå‹™å…§å®¹</button>
            </div>
            <div class="small-hint">â€» æ‰€æœ‰çµæœåƒ…ä¾›æ•™è‚²èˆ‡ç¤ºæ„ç”¨é€”ï¼Œå¯¦éš›æŠ•ä¿èˆ‡æŠ•è³‡ä»é ˆèˆ‡åˆæ³•å°ˆæ¥­äººå“¡è¨è«–ã€‚</div>
          </div>

          <aside class="result-preview">
            <div class="result-tag">é€™å€‹å¯ä»¥åšä»€éº¼ï¼Ÿ</div>
            <div class="result-line">çœ‹ä¸€ä¸‹ç›®å‰ä¿éšªå¤§æ¦‚æ˜¯åå°‘ã€å‰›å¥½æˆ–ç•¥å¤š</div>
            <div class="result-line">æ ¹æ“šé¢¨éšªå±¬æ€§çµ¦å‡ºã€Œç¾é‡‘ / å‚µåˆ¸ / æˆé•·ã€çš„æ¯”ä¾‹æ–¹å‘</div>
            <div class="result-line">æç¤ºä¸‹ä¸€æ­¥å¯ä»¥æº–å‚™å“ªäº›è³‡æ–™</div>
          </aside>
        </section>

        <!-- æœå‹™èªªæ˜ï¼ˆçœç•¥æ–‡å­—ï¼Œå¯è‡ªè¡Œè£œï¼‰ -->
        <section id="overview">
          <h2 style="font-size:18px; font-weight:600; margin-bottom:6px;">Taimic æƒ³è§£æ±ºçš„æ˜¯ä»€éº¼ï¼Ÿ</h2>
          <p class="small-hint">æŠŠä¿éšªç•¶é¢¨éšªé˜²è­·ç¶²ã€æŠŠè³‡ç”¢é…ç½®ç•¶é•·æœŸåœ°åœ–ã€æŠŠ AI ç•¶å°è©±èµ·é»ã€‚</p>
        </section>

        <!-- æµç¨‹ï¼ˆçœç•¥æ–‡å­—ï¼Œå¯è‡ªè¡Œè£œï¼‰ -->
        <section id="flow">
          <h2 style="font-size:18px; font-weight:600; margin-bottom:6px;">ä½¿ç”¨æµç¨‹</h2>
          <p class="small-hint">å¡«å¯«ã€çœ‹åˆæ­¥åˆ†æã€å¸¶è‘—çµæœè¨è«–ã€‚</p>
        </section>

        <!-- Demo è©•ä¼° -->
        <section id="assessment">
          <div style="margin-bottom:14px;">
            <h2 style="font-size:18px; font-weight:600; margin-bottom:4px;">3 åˆ†é˜è©¦ç®—ä½ çš„ã€Œè²¡å‹™å®‰å…¨æŒ‡ç´‹ã€</h2>
            <p class="small-hint">é€™è£¡çš„çµæœåªæ˜¯ Demo è¦å‰‡ï¼Œä¸æœƒå¹«ä½ ä¸‹å–®ï¼Œä¹Ÿä¸æœƒå­˜ä»»ä½•å€‹è³‡ï¼›é‡æ•´é é¢è³‡æ–™å°±æœƒæ¶ˆå¤±ã€‚</p>
          </div>

          <div class="assessment-layout">
            <!-- è¡¨å–® -->
            <form class="form" id="demoForm" onsubmit="handleDemoSubmit(event)">
              <div class="form-row-inline">
                <div class="form-row">
                  <label for="age">ä½ çš„å¹´é½¡</label>
                  <input id="age" type="number" placeholder="ä¾‹å¦‚ï¼š32" required />
                </div>
                <div class="form-row">
                  <label for="family">å®¶åº­ç‹€æ³</label>
                  <select id="family" required>
                    <option value="">è«‹é¸æ“‡</option>
                    <option>å–®èº«</option>
                    <option>å·²å©šï¼Œç„¡å°å­©</option>
                    <option>å·²å©šï¼Œæœ‰å°å­©</option>
                    <option>å…¶ä»–ï¼ä¸æ–¹ä¾¿é€éœ²</option>
                  </select>
                </div>
              </div>

              <div class="form-row-inline">
                <div class="form-row">
                  <label for="income">å¤§ç´„æœˆæ”¶å…¥å€é–“</label>
                  <select id="income" required>
                    <option value="">è«‹é¸æ“‡</option>
                    <option>5 è¬ä»¥ä¸‹</option>
                    <option>5â€“10 è¬</option>
                    <option>10â€“20 è¬</option>
                    <option>20 è¬ä»¥ä¸Š</option>
                  </select>
                </div>
                <div class="form-row">
                  <label for="assets">å¤§ç´„å¯æŠ•è³‡è³‡ç”¢è¦æ¨¡</label>
                  <select id="assets" required>
                    <option value="">è«‹é¸æ“‡</option>
                    <option>50 è¬ä»¥ä¸‹</option>
                    <option>50â€“200 è¬</option>
                    <option>200â€“500 è¬</option>
                    <option>500 è¬ä»¥ä¸Š</option>
                  </select>
                </div>
              </div>

              <div class="form-row-inline">
                <div class="form-row">
                  <label for="risk">ä½ è¦ºå¾—è‡ªå·±å±¬æ–¼å“ªç¨®é¢¨éšªå±¬æ€§ï¼Ÿ</label>
                  <select id="risk" required>
                    <option value="">è«‹é¸æ“‡</option>
                    <option>éå¸¸ä¿å®ˆï¼ˆä¸å¤ªèƒ½æ¥å—è™§æï¼‰</option>
                    <option>ç©©å¥ï¼ˆå¯ä»¥æ¥å—ä¸€äº›æ³¢å‹•ï¼‰</option>
                    <option>ç©æ¥µï¼ˆé¡˜æ„æ›æ³¢å‹•æ›æˆé•·ï¼‰</option>
                  </select>
                </div>
                <div class="form-row">
                  <label for="insurance">ç›®å‰æœ‰æ²’æœ‰ä¿å–®ï¼Ÿ</label>
                  <select id="insurance" required>
                    <option value="">è«‹é¸æ“‡</option>
                    <option>å¹¾ä¹æ²’æœ‰</option>
                    <option>æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚</option>
                    <option>æœ‰ï¼Œè¦ºå¾—é‚„ç®—å¤ </option>
                  </select>
                </div>
              </div>

              <div class="form-row">
                <label for="focus">ä½ æœ€åœ¨æ„ä»€éº¼ï¼Ÿï¼ˆé¸å¡«ï¼‰</label>
                <textarea id="focus" placeholder="ä¾‹å¦‚ï¼šæ€•ç”Ÿç—…èŠ±å¾ˆå¤šéŒ¢ã€æ“”å¿ƒå°å­©æ•™è‚²è²»ã€æƒ³ 10 å¹´å…§å¯ä»¥åŠé€€ä¼‘â‹¯â‹¯"></textarea>
              </div>

              <button type="submit" class="btn-primary">ç”¢ç”Ÿ Demo å»ºè­° âš¡</button>

              <button type="button" id="aiGenBtn" class="btn-secondary">ç”¨ AI ç”¢ç”Ÿå»ºè­°</button>
              <div class="small-hint">é€å‡ºå¾Œå³å´æœƒæ›´æ–°å»ºè­°å…§å®¹ï¼Œä¸æœƒå¯„ä¿¡ã€ä¸æœƒå„²å­˜åˆ°ä»»ä½•ä¼ºæœå™¨ã€‚</div>
            </form>

            <!-- çµæœå€ -->
            <div>
              <div class="result-preview" id="resultPreview">
                <div class="result-tag">å»ºè­°é è¦½</div>
                <div class="result-title">è«‹å…ˆå·¦å´å¡«å¯«è³‡æ–™ï¼Œå†æŒ‰ä¸‹ã€Œç”¢ç”Ÿ Demo å»ºè­°ã€ã€‚</div>
                <p class="result-line">âœ… ä¿éšªéƒ¨åˆ†çš„å»ºè­°æœƒå‡ºç¾åœ¨é€™è£¡ã€‚</p>
                <p class="result-line">ğŸ’¡ è³‡ç”¢é…ç½®æ¯”ä¾‹èˆ‡é¢¨éšªå±¬æ€§æœƒå‡ºç¾åœ¨é€™è£¡ã€‚</p>
                <p class="result-line">ğŸ”” ä¸‹ä¸€æ­¥å…·é«”è¡Œå‹•æ–¹å‘æœƒå‡ºç¾åœ¨é€™è£¡ã€‚</p>
              </div>

              <div class="result-preview" id="aiOutput" style="display:none; margin-top:10px;">
                <div class="result-tag">AI å»ºè­°</div>
                <div class="result-title" id="aiTitle">ç­‰å¾…ç”¢ç”Ÿä¸­â€¦</div>
                <div class="result-line" id="aiText"></div>
              </div>
            </div>
          </div>

          <div class="small-hint" style="margin-top:10px;">
            æ³•å¾‹è²æ˜ï¼šæœ¬é é¢ç‚ºæ¦‚å¿µå±•ç¤ºèˆ‡ä¸€èˆ¬æ€§è²¡å‹™æ•™è‚²è³‡è¨Šï¼Œä¸æ§‹æˆä»»ä½•ä¿éšªã€åŸºé‡‘ã€å‚µåˆ¸ã€è‚¡ç¥¨ç­‰å•†å“ä¹‹æ‹›æ”¬æˆ–å»ºè­°ã€‚å¯¦éš›æ±ºç­–è«‹å‹™å¿…èˆ‡å…·åˆæ³•è³‡æ ¼ä¹‹å°ˆæ¥­äººå“¡è¨è«–ã€‚
          </div>
        </section>

        <!-- é—œæ–¼ / è¯çµ¡ï¼ˆç°¡åŒ–ï¼‰ -->
        <section id="about">
          <h2 style="font-size:18px; font-weight:600; margin-bottom:6px;">é—œæ–¼ Taimic</h2>
          <p class="small-hint">æˆ‘å€‘æ­£åœ¨æ¢ç´¢ã€ŒAI èƒ½ä¸èƒ½åŒæ™‚å¹«å¿™çœ‹ä¿éšªèˆ‡è³‡ç”¢é…ç½®ã€ã€‚</p>
        </section>

        <section id="contact">
          <h2 style="font-size:18px; font-weight:600; margin-bottom:6px;">æƒ³çŸ¥é“ä¹‹å¾Œçš„æ­£å¼ç‰ˆæœ¬ï¼Ÿ</h2>
          <p class="small-hint">è‹¥ä½ é¡˜æ„æ”¶åˆ°æœªä¾† alpha / beta ç‰ˆæœ¬æ¶ˆæ¯ï¼Œä¹‹å¾Œæœƒæä¾›è¡¨å–®ã€‚</p>
        </section>
      </main>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-inner">
        <div>Â© <span id="year"></span> Taimic. All rights reserved.</div>
        <div>è¯çµ¡ä¿¡ç®±ï¼š<a href="mailto:founder@example.com">founder@example.com</a></div>
      </div>
    </footer>
  </div>

  <script>
    // === ä¸€æ‰“é–‹å°±æŠŠ HERO æ‹‰åˆ°å¯è¦–(é¿å…é ‚éƒ¨ç©ºç™½éå¤§) ===
    document.addEventListener("DOMContentLoaded", function () {
      const hero = document.getElementById("top");
      if (!hero) return;
      const gap = hero.getBoundingClientRect().top;
      if (gap > 80) hero.scrollIntoView({ behavior: "auto", block: "start" });
    });

    // å¹´ä»½
    document.getElementById("year").textContent = new Date().getFullYear();

    // æ²å‹•åˆ°å€å¡Š
    function scrollToId(id) {
      const el = document.getElementById(id);
      if (!el) return;
      el.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    // === èªè¨€åˆ‡æ›ï¼ˆç©©å®šç‰ˆï¼‰===
    document.addEventListener('DOMContentLoaded', () => {
      try {
        const switchEl  = document.getElementById('langSwitch');
        const toggleEl  = document.getElementById('langToggle');
        const menuEl    = document.getElementById('langMenu');
        const items     = menuEl ? menuEl.querySelectorAll('.lang-item') : [];
        const currentEl = document.getElementById('currentLangLabel');
        if (!switchEl || !toggleEl || !menuEl || !currentEl) return;

        toggleEl.addEventListener('click', (e) => {
          e.stopPropagation();
          switchEl.classList.toggle('open');
        });

        items.forEach((btn) => {
          btn.addEventListener('click', () => {
            items.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentEl.textContent = btn.textContent;
            switchEl.classList.remove('open');
            // TODO: ä¹‹å¾Œæ¥ä½ çš„å¤šèªé‚è¼¯ï¼šbtn.dataset.lang
          });
        });

        document.addEventListener('click', (e) => {
          if (!switchEl.contains(e.target)) switchEl.classList.remove('open');
        });
      } catch (err) {
        console.error('lang switch init failed:', err);
      }
    });

    // === Demo è¡¨å–®ï¼šæœ¬åœ°è¦å‰‡ç”¢ç”Ÿ ===
    function handleDemoSubmit(e) {
      e.preventDefault();

      const age = Number(document.getElementById("age").value);
      const family = document.getElementById("family").value;
      const income = document.getElementById("income").value;
      const assets = document.getElementById("assets").value;
      const risk = document.getElementById("risk").value;
      const insurance = document.getElementById("insurance").value;
      const focus = document.getElementById("focus").value.trim();

      // 1. ä¿éšªä¿éšœè©•èª
      let protectLevel = "";
      if (insurance === "å¹¾ä¹æ²’æœ‰") {
        protectLevel = "ä¿éšœç¼ºå£æ˜é¡¯ï¼Œå»ºè­°ç›¡å¿«è£œé½Šã€Œé†«ç™‚ï¼‹é‡å¤§ç–¾ç—…ï¼‹å£½éšªã€ä¸‰å¤§åŸºæœ¬é˜²ç·šã€‚";
      } else if (insurance === "æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚") {
        protectLevel = "ç›®å‰æœ‰ä¸€å®šä¿éšœï¼Œä½†å…§å®¹å¯èƒ½ä¸å¤ æ¸…æ¥šï¼Œå»ºè­°å…ˆåšä¸€æ¬¡ä¿å–®ç¸½é«”æª¢ï¼Œç¢ºèªæ²’æœ‰é‡è¤‡æˆ–ç¼ºè§’ã€‚";
      } else {
        protectLevel = "æ•´é«”ä¿éšœçœ‹èµ·ä¾†é‚„å¯ä»¥ï¼Œå†æŠŠé†«ç™‚èˆ‡æ”¶å…¥ä¸­æ–·é¢¨éšªç¨å¾®è£œå¼·æœƒæ›´å®‰å¿ƒã€‚";
      }

      // 2. æŠ•è³‡é¢¨æ ¼ & æ¯”ä¾‹
      let profile = "", mix = "";
      if (risk.includes("éå¸¸ä¿å®ˆ")) {
        profile = "åä¿å®ˆå‹";
        mix = "ç¾é‡‘ / æ´»å­˜é å‚™é‡‘ç´„ 30%ï¼Œç©©å¥å‚µåˆ¸æˆ–ä¿å®ˆå‹åŸºé‡‘ç´„ 50%ï¼Œæˆé•·å‹è³‡ç”¢ç´„ 20%ã€‚";
      } else if (risk.includes("ç©©å¥")) {
        profile = "ç©©å¥æˆé•·å‹";
        mix = "ç¾é‡‘ 20%ï¼Œç©©å¥å‚µåˆ¸æˆ–å¹³è¡¡å‹åŸºé‡‘ 40%ï¼Œæˆé•·å‹åŸºé‡‘æˆ–è‚¡ç¥¨ 40%ã€‚";
      } else {
        profile = "ç©æ¥µæˆé•·å‹";
        mix = "ç¾é‡‘ 10â€“15%ï¼Œç©©å¥å‚µåˆ¸ 25â€“30%ï¼Œæˆé•·å‹è‚¡ç¥¨ / åŸºé‡‘ 55â€“65%ã€‚";
      }

      // 3. ä¾è³‡ç”¢è¦æ¨¡çµ¦ä¸‹ä¸€æ­¥å»ºè­°
      let stepNext = "";
      if (assets === "50 è¬ä»¥ä¸‹") {
        stepNext = "å…ˆæŠŠç·Šæ€¥é å‚™é‡‘å­˜åˆ° 6 å€‹æœˆç”Ÿæ´»è²»ï¼Œå†é–‹å§‹åšé•·æœŸæŠ•è³‡æœƒæ¯”è¼ƒèˆ’æœã€‚";
      } else if (assets === "50â€“200 è¬") {
        stepNext = "å¯ä»¥åˆ†æ‰¹æŠ•å…¥åŸºé‡‘æˆ– ETFï¼Œåˆ©ç”¨å®šæœŸå®šé¡åˆ†æ•£é€²å ´æ™‚é–“ã€‚";
      } else if (assets === "200â€“500 è¬") {
        stepNext = "å¯ä»¥è¦åŠƒä¸€éƒ¨åˆ†åšé•·æœŸæˆé•·ï¼Œä¸€éƒ¨åˆ†åšè¼ƒç©©çš„ç¾é‡‘æµï¼ˆä¾‹å¦‚å‚µåˆ¸æˆ–é…æ¯å‹æ¨™çš„ï¼‰ã€‚";
      } else {
        stepNext = "è³‡ç”¢è¦æ¨¡å·²ç¶“ä¸å°ï¼Œå»ºè­°æ­é…ç¨…å‹™èˆ‡è²¡ç”¢å‚³æ‰¿çš„æ€è€ƒï¼Œä¸€èµ·åšä¸­é•·æœŸè¦åŠƒã€‚";
      }
      if (family.includes("æœ‰å°å­©")) {
        stepNext += " å¦å¤–ï¼Œå› ç‚ºä½ æœ‰å°å­©ï¼Œå¯ä»¥ç‰¹åˆ¥ç•™æ„å£½éšªä¿é¡èˆ‡æ•™è‚²é‡‘æº–å‚™ã€‚";
      }

      // 4. å®¢è£½åŒ–é—œæ³¨é»
      let focusLine = focus ? `ä½ ç‰¹åˆ¥åœ¨æ„çš„é‡é»æ˜¯ï¼šã€Œ${focus}ã€ï¼Œä¹‹å¾Œåœ¨èª¿æ•´ä¿éšªèˆ‡æŠ•è³‡é…ç½®æ™‚ï¼Œå¯ä»¥ä»¥é€™å€‹ç›®æ¨™ç•¶å„ªå…ˆã€‚` : "";

      // å¡å›ç•«é¢
      const preview = document.getElementById("resultPreview");
      const titleEl = preview.querySelector(".result-title");
      const lines = preview.querySelectorAll(".result-line");

      titleEl.textContent = "ä¾ç…§ä½ ç›®å‰å¡«å¯«çš„åˆæ­¥åˆ†ææ‘˜è¦";
      lines[0].innerHTML = "âœ… ä¿éšªéƒ¨åˆ†ï¼š" + `<span class="result-highlight">${protectLevel}</span>`;
      lines[1].innerHTML = "ğŸ’¡ è³‡ç”¢é…ç½®éƒ¨åˆ†ï¼šä¾ä½ çš„é¢¨éšªå±¬æ€§ï¼Œç›®å‰è¼ƒæ¥è¿‘ " +
        `<span class="result-highlight">${profile}</span>ï¼Œå¯åƒè€ƒçš„æ¯”ä¾‹ç‚ºï¼š` +
        `<span class="result-highlight">${mix}</span>`;
      lines[2].innerHTML = "ğŸ”” ä¸‹ä¸€æ­¥å»ºè­°ï¼š" + stepNext + (focusLine ? "<br>" + focusLine : "");

      // è®“å¡ç‰‡é–ƒä¸€ä¸‹
      preview.style.animation = "none"; void preview.offsetWidth; preview.style.animation = "flash .6s ease-out";

      // é¡¯ç¤ºçµæœå€ï¼ˆé¿å…è¢«ä½ ä¹‹å‰çš„ CSS éš±è—ï¼‰
      preview.style.display = "block";
    }

    // === ç”¨ AI ç”¢ç”Ÿå»ºè­°ï¼ˆå‘¼å« Cloudflare Workerï¼‰ ===
    const AI_ENDPOINT = "https://cool-cell-b227.amy20060226.workers.dev/chat"; // â† å¦‚éœ€æ›¿æ›ï¼Œæ”¹é€™è£¡

    async function aiSuggest() {
      const btn = document.getElementById("aiGenBtn");
      const outBox = document.getElementById("aiOutput");
      const aiTitle = document.getElementById("aiTitle");
      const aiText  = document.getElementById("aiText");

      // æ”¶é›†è³‡æ–™
      const payload = {
        age: Number(document.getElementById("age").value || 0),
        family: document.getElementById("family").value,
        income: document.getElementById("income").value,
        assets: document.getElementById("assets").value,
        risk: document.getElementById("risk").value,
        insurance: document.getElementById("insurance").value,
        focus: (document.getElementById("focus").value || "").trim()
      };

      // åŸºæœ¬æ ¡é©—ï¼ˆå…ˆè¦æ±‚ç”¨æˆ¶æŠŠè¡¨å–®å¿…å¡«é¸å¥½ï¼‰
      if (!payload.family || !payload.income || !payload.assets || !payload.risk || !payload.insurance) {
        outBox.style.display = "block";
        aiTitle.textContent = "AI å»ºè­°ç”¢ç”Ÿå¤±æ•—";
        aiText.textContent = "è«‹å…ˆæŠŠå·¦å´å¿…å¡«æ¬„ä½éƒ½é¸å¥½ï¼Œå†è©¦ä¸€æ¬¡ã€‚";
        return;
      }

      btn.disabled = true;
      btn.textContent = "ç”¢ç”Ÿä¸­â€¦";
      outBox.style.display = "block";
      aiTitle.textContent = "AI ç”¢ç”Ÿä¸­â€¦";
      aiText.textContent = "è«‹ç¨ç­‰ 1â€“3 ç§’ï¼ˆä¾ç¶²è·¯èˆ‡æ¨¡å‹è² è¼‰è€Œå®šï¼‰ã€‚";

      try {
        const res = await fetch(AI_ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        // Worker å¤šåŠå› text/plainï¼›ä¿éšªäº›å°±ç”¨ text() æ¥
        const text = await res.text();

        if (!res.ok) {
          aiTitle.textContent = "AI å»ºè­°ç”¢ç”Ÿå¤±æ•—";
          aiText.textContent = `ç‹€æ…‹ ${res.status}ï¼š${text || "æœªçŸ¥éŒ¯èª¤"}`;
        } else {
          aiTitle.textContent = "ä¾ä½ çš„æ¢ä»¶ï¼ŒAI çš„å»ºè­°æ‘˜è¦";
          aiText.textContent = text.trim();
        }
      } catch (err) {
        aiTitle.textContent = "AI å»ºè­°ç”¢ç”Ÿå¤±æ•—";
        aiText.textContent = `éŒ¯èª¤ï¼š${err.message || err}`;
      } finally {
        btn.disabled = false;
        btn.textContent = "ç”¨ AI ç”¢ç”Ÿå»ºè­°";
      }
    }

    document.getElementById("aiGenBtn").addEventListener("click", aiSuggest);
  </script>
</body>
</html>
