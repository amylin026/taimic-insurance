<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Taimicï½œAI ä¿éšªï¼†è³‡ç”¢é…ç½® Demo</title>

  <style>
    :root{
      --brand:#1f6feb;
      --ink:#111;
      --sub:#666;
      --bg:#f7f8fb;
      --card:#fff;
      --ok:#12b886;
      --warn:#f08c00;
      --danger:#e03131;
      --pill:#eef3ff;
      --line:#e9eef5;
      --radius:14px;
    }
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,"PingFang TC","Noto Sans TC","Microsoft JhengHei",sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    .wrap{max-width:1080px;margin:0 auto;padding:24px}
    header{
      display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:18px
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand__logo{width:28px;height:28px;border-radius:8px;background:var(--brand);display:grid;place-items:center;color:#fff;font-weight:700}
    .brand__name{font-weight:700}

    /* æœå°‹ + èªè¨€ */
    .header-right{display:flex;align-items:center;gap:16px}
    .search-ico{width:22px;height:22px;opacity:.85}
    .lang-switch{position:relative}
    .lang-pill{
      display:flex;align-items:center;gap:10px;
      background:var(--pill);
      padding:8px 14px;border-radius:9999px;
      cursor:pointer;user-select:none;border:1px solid #cfe0ff;
    }
    .lang-pill .globe{font-size:18px;opacity:.9}
    #langCurrent{font-weight:700}

    .lang-menu{
      position:absolute;top:44px;left:0;min-width:180px;
      background:var(--card);border-radius:12px;
      box-shadow:0 8px 24px rgba(18,38,63,.12);
      border:1px solid var(--line);
      padding:8px;display:none;z-index:20;
    }
    .lang-switch.open .lang-menu{display:block}
    .lang-item{
      width:100%;text-align:left;border:0;background:#fff;
      padding:10px 12px;border-radius:10px;cursor:pointer;
      font-size:14px;
    }
    .lang-item:hover{background:#f5f8ff}
    .lang-item.active{background:#e9f2ff;font-weight:700}

    /* å…§å®¹ */
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .card{
      background:var(--card);border-radius:16px;border:1px solid var(--line);
      padding:18px;
    }
    h2{margin:0 0 12px}
    label{display:block;margin:12px 0 6px;font-size:14px;color:var(--sub)}
    input[type="text"],input[type="number"],select,textarea{
      width:100%;padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:#fff;outline:none;
    }
    textarea{min-height:84px;resize:vertical}

    .btn-row{display:flex;gap:12px;margin-top:14px}
    .btn{
      padding:12px 18px;border-radius:12px;border:1px solid var(--line);background:#fff;cursor:pointer;font-weight:700;
    }
    .btn-primary{background:var(--brand);border-color:var(--brand);color:#fff}
    .btn:disabled{opacity:.5;cursor:not-allowed}

    .hint{font-size:12px;color:var(--sub);margin-top:10px}

    /* æŒ‡æ•¸å¡ç‰‡ */
    .score-card{
      border-radius:14px;
      border:1px solid var(--line);
      padding:12px 14px;
      margin-bottom:14px;
      background:linear-gradient(135deg,#f3f6ff,#ffffff);
    }
    .score-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:13px;
      color:var(--sub);
      margin-bottom:6px;
    }
    .score-main{
      display:flex;
      align-items:baseline;
      gap:8px;
      margin-bottom:6px;
    }
    .score-value{
      font-size:26px;
      font-weight:700;
    }
    .score-max{
      font-size:13px;
      color:var(--sub);
    }
    .score-tag{
      display:inline-flex;
      align-items:center;
      padding:4px 10px;
      border-radius:999px;
      font-size:12px;
      border:1px solid var(--line);
      background:#fff;
      margin-bottom:4px;
    }
    .score-tag.ok{border-color:var(--ok);color:var(--ok);background:#e6fbf4;}
    .score-tag.warn{border-color:var(--warn);color:var(--warn);background:#fff4e6;}
    .score-tag.danger{border-color:var(--danger);color:var(--danger);background:#ffe3e3;}
    .score-note{
      font-size:12px;
      color:var(--sub);
    }

    /* çµæœ */
    .result-title{font-weight:700;margin-bottom:6px}
    #resultPreview{white-space:pre-line}
    #aiOutput{white-space:pre-line} /* å¾ˆé‡è¦ï¼šAI æ–‡å­—çš„æ›è¡Œ */

    /* ä¿è­·æ™‚é˜ï¼ä»»æ„åœ“å½¢åœ–ç¤ºä¸è¢«è† å›Šæ¨£å¼æ‹‰æ‰¯ */
    .clock{
      width:28px;aspect-ratio:1/1;border-radius:50% !important;
      padding:0 !important;display:grid;place-items:center;box-sizing:border-box;
    }
    .clock svg,.clock img{width:70%;height:70%;aspect-ratio:1/1;object-fit:contain}

    @media (max-width:900px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="brand__logo">T</div>
        <div class="brand__name">Taimic</div>
      </div>
      <div class="header-right">
        <img class="search-ico" alt="search" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 24 24'%3E%3Cpath fill='%23555' d='M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5A6.5 6.5 0 1 0 9.5 16a6.471 6.471 0 0 0 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0A4.5 4.5 0 1 1 14 9.5A4.505 4.505 0 0 1 9.5 14'/%3E%3C/svg%3E">
        <div class="lang-switch" id="langSwitch">
          <span class="lang-pill" id="langToggle">
            <span class="globe">ğŸŒ</span>
            <span id="langCurrent">ç¹ä¸­</span>
          </span>
          <div class="lang-menu" id="langMenu" role="menu" aria-hidden="true">
            <button class="lang-item active" data-lang="zh-Hant">ç¹ä¸­</button>
            <button class="lang-item" data-lang="zh-Hans">ç®€ä¸­</button>
            <button class="lang-item" data-lang="en">English</button>
            <button class="lang-item" data-lang="ja">æ—¥æœ¬èª</button>
          </div>
        </div>
      </div>
    </header>

    <div class="grid">
      <!-- å·¦ï¼šè¼¸å…¥ -->
      <div class="card">
        <h2 data-i18n="title">3 åˆ†é˜è©¦ç®—ä½ çš„ã€Œè²¡å‹™å®‰å…¨æŒ‡æ•¸ã€</h2>

        <form id="mainForm">
          <label for="age" data-i18n="age">ä½ çš„å¹´é½¡</label>
          <input id="age" type="number" min="0" placeholder="ä¾‹å¦‚ï¼š30" />

          <label for="family" data-i18n="family">å®¶åº­ç‹€æ³</label>
          <select id="family">
            <option value="å–®èº«">å–®èº«</option>
            <option value="å·²å©šï¼Œç„¡å°å­©">å·²å©šï¼Œç„¡å°å­©</option>
            <option value="å·²å©šï¼Œæœ‰å°å­©">å·²å©šï¼Œæœ‰å°å­©</option>
          </select>

          <label for="income" data-i18n="income">å¤§ç´„æœˆæ”¶å…¥å€é–“</label>
          <select id="income">
            <option>20 è¬ä»¥ä¸Š</option>
            <option>10â€“20 è¬</option>
            <option>5â€“10 è¬</option>
            <option>3â€“5 è¬</option>
            <option>3 è¬ä»¥ä¸‹</option>
          </select>

          <label for="assets" data-i18n="assets">å¤§ç´„å¯æŠ•è³‡è³‡ç”¢è¦æ¨¡</label>
          <select id="assets">
            <option>200â€“500 è¬</option>
            <option>500 è¬ä»¥ä¸Š</option>
            <option>100â€“200 è¬</option>
            <option>100 è¬ä»¥ä¸‹</option>
          </select>

          <label for="risk" data-i18n="risk">ä½ è¦ºå¾—è‡ªå·±å±¬æ–¼å“ªç¨®é¢¨éšªå±¬æ€§ï¼Ÿ</label>
          <select id="risk">
            <option>ç©æ¥µï¼ˆé¡˜æ„æ›æ³¢å‹•æ›æˆé•·ï¼‰</option>
            <option>ç©©å¥ï¼ˆå¯ä»¥æ¥å—ä¸€äº›æ³¢å‹•ï¼‰</option>
            <option>ä¿å®ˆï¼ˆä»¥ç©©å®šç‚ºä¸»ï¼‰</option>
          </select>

          <label for="insurance" data-i18n="insuranceNow">ç›®å‰æœ‰æ²’æœ‰ä¿å–®ï¼Ÿ</label>
          <select id="insurance">
            <option>æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚</option>
            <option>å¹¾ä¹æ²’æœ‰</option>
            <option>å¾ˆå®Œæ•´</option>
          </select>

          <label for="focus" data-i18n="focus">ä½ æœ€åœ¨æ„ä»€éº¼ï¼Ÿï¼ˆé¸å¡«ï¼‰</label>
          <textarea id="focus" placeholder="ä¾‹å¦‚ï¼šæ€•ç”Ÿç—…èŠ±å¾ˆå¤šéŒ¢ã€æ“”å¿ƒå°å­©æ•™è‚²è²»ã€æƒ³ 10 å¹´å…§å¯ä»¥åŠé€€ä¼‘â€¦â€¦"></textarea>

          <div class="btn-row">
            <button type="submit" class="btn btn-primary" id="demoBtn" data-i18n="btn_demo">ç”¢ç”Ÿ Demo å»ºè­° âš¡</button>
            <button type="button" class="btn" id="aiGenBtn" data-i18n="btn_ai">ç”¨ AI ç”¢ç”Ÿå»ºè­°</button>
          </div>
          <div class="hint" data-i18n="hint">é€å‡ºå¾Œå³å´æœƒæ›´æ–°å»ºè­°å…§å®¹ï¼›ä¸æœƒå¯„ä¿¡ã€ä¸æœƒå„²å­˜åˆ°ä»»ä½•ä¼ºæœå™¨ã€‚</div>
        </form>
      </div>

      <!-- å³ï¼šè¼¸å‡º -->
      <div class="card">
        <!-- NEW: è²¡å‹™å®‰å…¨æŒ‡æ•¸ -->
        <div class="score-card" id="scoreCard">
          <div class="score-header">
            <span>ä½ çš„è²¡å‹™å®‰å…¨æŒ‡æ•¸</span>
            <span style="font-size:12px;color:var(--sub);">è¶Šé«˜ä»£è¡¨é˜²ç¦¦è¶Šå®Œæ•´</span>
          </div>
          <div class="score-main">
            <div class="score-value" id="scoreValue">--</div>
            <div class="score-max">/ 100</div>
          </div>
          <div class="score-tag" id="scoreTag">è«‹å…ˆåœ¨å·¦å´å¡«å¯«åŸºæœ¬è³‡æ–™</div>
          <div class="score-note" id="scoreNote">é€™åªæ˜¯æ¦‚ç•¥æŒ‡æ•¸ï¼Œä¸ç­‰åŒå®Œæ•´è²¡å‹™è¦åŠƒå–”ã€‚</div>
        </div>

        <div class="result-title" data-i18n="preview">å»ºè­°é è¦½</div>
        <div id="resultPreview" style="margin-bottom:14px;color:#222;"></div>

        <div class="result-title" id="aiTitle">AI å»ºè­°</div>
        <div id="aiOutput" class="result" style="display:none;color:#222;"></div>
      </div>
    </div>
  </div>

  <script>
    /* === 1) è¨­å®šä½ çš„ Worker API === */
    const AI_ENDPOINT = "https://cool-cell-b227.amy20060226.workers.dev/chat"; 
    // è‹¥ä½ çš„ worker åç¨±ä¸åŒï¼Œæ”¹æˆä½ çš„ /chat å³å¯

    /* === 2) Demoï¼ˆæœ¬åœ°ä¸èµ° AIï¼‰ === */
    const form = document.getElementById('mainForm');
    const resultPreview = document.getElementById('resultPreview');

    const scoreValueEl = document.getElementById('scoreValue');
    const scoreTagEl   = document.getElementById('scoreTag');
    const scoreNoteEl  = document.getElementById('scoreNote');

    form.addEventListener('submit', handleDemoSubmit);

    function handleDemoSubmit(e){
      e.preventDefault();
      const age = Number(document.getElementById('age').value) || 0;
      const family = document.getElementById('family').value;
      const income = document.getElementById('income').value;
      const assets = document.getElementById('assets').value;
      const risk = document.getElementById('risk').value;
      const insurance = document.getElementById('insurance').value;
      const focus = document.getElementById('focus').value.trim();

      /* --- ä¿éšªæ–‡å­—å»ºè­° --- */
      let protectLevel = "";
      if (insurance === "å¹¾ä¹æ²’æœ‰"){
        protectLevel = "ä¿éšœç¼ºå£æ˜é¡¯ï¼Œå»ºè­°ç›¡å¿«è£œé½Šã€Œé†«ç™‚ï¼‹é‡å¤§ç–¾ç—…ï¼‹å£½éšªã€ä¸‰å¤§åŸºæœ¬é˜²ç·šã€‚";
      } else if (insurance === "æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚"){
        protectLevel = "ç›®å‰æœ‰ä¸€å®šä¿éšœï¼Œä½†å…§å®¹å¯èƒ½ä¸å¤ æ¸…æ¥šï¼Œå»ºè­°å…ˆåšä¸€æ¬¡ä¿å–®ç¸½é«”æª¢ï¼Œç¢ºèªæ²’æœ‰é‡è¤‡æˆ–ç¼ºè§’ã€‚";
      } else {
        protectLevel = "ä¿éšœçœ‹èµ·ä¾†å®Œæ•´ï¼Œå»ºè­°æª¢è¦–ä¿é¡æ˜¯å¦èˆ‡æ”¶å…¥ã€å®¶åº­è²¬ä»»ç›¸ç¬¦ï¼Œæ¯ 1â€“2 å¹´æ›´æ–°ä¸€æ¬¡ã€‚";
      }

      /* --- è³‡ç”¢é…ç½®æ–‡å­—å»ºè­° --- */
      let assetPlan = "";
      if (risk.includes("ç©æ¥µ")){
        assetPlan = "è³‡ç”¢é…ç½®åå‘æˆé•·å‹ï¼šè‚¡ç¥¨ï¼é«˜è‚¡æ¯ï¼æ–°èˆˆå¸‚å ´ç­‰ä½”æ¯”å¯æ‹‰é«˜ï¼Œä½†éœ€æ¥å—æ³¢å‹•èˆ‡èª¿æ•´é€±æœŸã€‚";
      } else if (risk.includes("ç©©å¥")){
        assetPlan = "è³‡ç”¢é…ç½®åå‘å¹³è¡¡ï¼šè‚¡å‚µå„åŠæˆ– 6:4ï¼Œå¿…è¦æ™‚åŠ å…¥ç¾é‡‘éƒ¨ä½ç¶­æŒæµå‹•æ€§èˆ‡å¿ƒæ…‹ç©©å®šã€‚";
      } else {
        assetPlan = "è³‡ç”¢é…ç½®åå‘é˜²ç¦¦ï¼šæé«˜å‚µåˆ¸èˆ‡ç¾é‡‘æ¯”é‡ã€å®šæœŸå®šé¡é€²å ´ã€ç”¨æ™‚é–“æ›å–è¤‡åˆ©ã€‚";
      }

      const msg = [
        `ã€ä¿éšªæ¦‚æ³ã€‘${protectLevel}`,
        `ã€è³‡ç”¢é…ç½®ã€‘${assetPlan}`,
        focus ? `ã€ä½ çš„ç„¦é»ã€‘${focus}` : ""
      ].filter(Boolean).join("\n\n");

      resultPreview.textContent = msg;

      /* --- ç°¡æ˜“è²¡å‹™å®‰å…¨æŒ‡æ•¸è¨ˆç®— --- */
      let score = 50; // åŸºç¤åˆ†

      // ä¿å–®
      if (insurance === "å¹¾ä¹æ²’æœ‰") score -= 15;
      else if (insurance === "æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚") score -= 5;
      else if (insurance === "å¾ˆå®Œæ•´") score += 10;

      // è³‡ç”¢è¦æ¨¡
      if (assets === "500 è¬ä»¥ä¸Š") score += 15;
      else if (assets === "200â€“500 è¬") score += 8;
      else if (assets === "100â€“200 è¬") score += 3;
      else if (assets === "100 è¬ä»¥ä¸‹") score += 0;

      // æ”¶å…¥å€é–“
      if (income === "20 è¬ä»¥ä¸Š") score += 10;
      else if (income === "10â€“20 è¬") score += 6;
      else if (income === "5â€“10 è¬") score += 3;
      else if (income === "3â€“5 è¬") score += 1;
      else if (income === "3 è¬ä»¥ä¸‹") score -= 5;

      // å®¶åº­è²¬ä»»ï¼‹ä¿å–®ä¸è¶³ï¼šç¨å¾®æ‰£åˆ†
      if (family === "å·²å©šï¼Œæœ‰å°å­©" && (insurance === "å¹¾ä¹æ²’æœ‰" || insurance === "æœ‰ä¸€äº›ï¼Œä½†çœ‹ä¸å¤ªæ‡‚")){
        score -= 5;
      }

      // é¢¨éšªå±¬æ€§ï¼šå¤ªç©æ¥µåˆè³‡ç”¢ä¸å¤§ï¼Œå°±å°æ‰£
      if (risk.includes("ç©æ¥µ") && (assets === "100 è¬ä»¥ä¸‹" || assets === "100â€“200 è¬")){
        score -= 3;
      }

      // é™åˆ¶åœ¨ 0â€“100
      score = Math.max(0, Math.min(100, score));

      // æ ¹æ“šåˆ†æ•¸çµ¦ä¸€å€‹ç­‰ç´šæ–‡å­—
      let tagText = "";
      let level = "";
      if (score >= 80){
        level = "ok";
        tagText = "é«˜å®‰å…¨å€ï¼šé˜²ç¦¦åŸºç¤ä¸éŒ¯ï¼Œå¯ä»¥æ€è€ƒå¦‚ä½•å„ªåŒ–å ±é…¬ç‡èˆ‡ç¨…å‹™è¦åŠƒã€‚";
      }else if (score >= 60){
        level = "warn";
        tagText = "ç©©å¥å€ï¼šå¤§æ–¹å‘é‚„å¯ä»¥ï¼Œä½†æŸäº›ç’°ç¯€ï¼ˆä¾‹å¦‚ä¿éšªæˆ–ç·Šæ€¥é å‚™é‡‘ï¼‰å¯ä»¥å†è£œå¼·ã€‚";
      }else{
        level = "danger";
        tagText = "éœ€è£œå¼·å€ï¼šå»ºè­°å„ªå…ˆè™•ç†é¢¨éšªè½‰ç§»ï¼ˆä¿éšªï¼‰èˆ‡ç¾é‡‘æµç©©å®šï¼Œå†è«‡æˆé•·å‹æŠ•è³‡ã€‚";
      }

      updateScoreUI(score, tagText, level);
    }

    function updateScoreUI(score, tagText, level){
      scoreValueEl.textContent = score.toString();

      // reset class
      scoreTagEl.classList.remove("ok","warn","danger");
      if (level) scoreTagEl.classList.add(level);

      scoreTagEl.textContent = tagText;
      scoreNoteEl.textContent = "æ­¤æŒ‡æ•¸åƒ…ç‚º Demo æ¨ä¼°ï¼Œå¯¦éš›ä»éœ€æ ¹æ“šä½ å®Œæ•´è²¡å‹™èˆ‡ä¿å–®æ˜ç´°èª¿æ•´ã€‚";
    }

    /* === 3) AI ç”¢ç”Ÿå»ºè­° === */
    const aiBtn   = document.getElementById('aiGenBtn');
    const aiTitle = document.getElementById('aiTitle');
    const aiText  = document.getElementById('aiOutput');

    aiBtn.addEventListener('click', aiSuggest);

    async function aiSuggest(){
      const btn = aiBtn;
      const out = aiText;
      out.style.display = "block";
      btn.disabled = true;
      btn.textContent = "ç”¢ç”Ÿä¸­â€¦";

      // æ”¶é›† payload
      const payload = {
        age: Number(document.getElementById('age').value)||0,
        family: document.getElementById('family').value,
        income: document.getElementById('income').value,
        assets: document.getElementById('assets').value,
        risk: document.getElementById('risk').value,
        insurance: document.getElementById('insurance').value,
        focus: document.getElementById('focus').value.trim()
      };

      try{
        const res = await fetch(AI_ENDPOINT, {
          method:"POST",
          headers:{ "Content-Type":"application/json" },
          body: JSON.stringify(payload)
        });

        const raw = await res.text(); // Worker å¤šåŠå› text/plain
        if(!res.ok){
          aiTitle.textContent = "AI å»ºè­°ç”¢ç”Ÿå¤±æ•—";
          aiText.textContent  = `ç‹€æ…‹ ${res.status}ï¼š${raw || "æœªçŸ¥éŒ¯èª¤"}`;
        }else{
          // å˜—è©¦è§£ææˆ JSONï¼Œè‹¥æœ‰ text æ¬„ä½å°±ç”¨ï¼Œå¦å‰‡ç”¨åŸå§‹æ–‡å­—
          let text = raw;
          try{
            const j = JSON.parse(raw);
            if (j && typeof j === 'object' && j.text) text = j.text;
          }catch(_){} // ä¸æ˜¯ JSON å°±ç›´æ¥ç”¨ raw

          aiTitle.textContent = "ä¾ä½ çš„æ¢ä»¶ï¼ŒAI çš„å»ºè­°æ‘˜è¦";
          aiText.textContent  = text.trim();
        }
      }catch(err){
        aiTitle.textContent = "AI å»ºè­°ç”¢ç”Ÿå¤±æ•—";
        aiText.textContent  = `éŒ¯èª¤ï¼š${err.message || err}`;
      }finally{
        btn.disabled = false;
        btn.textContent = "ç”¨ AI ç”¢ç”Ÿå»ºè­°";
      }
    }

    /* === 4) èªè¨€åˆ‡æ›ï¼ˆå±•é–‹ï¼æ”¶èµ·ï¼é»é¸ï¼‰ === */
    document.addEventListener("DOMContentLoaded", () => {
      const switchEl = document.getElementById("langSwitch");
      if(!switchEl) return;

      const toggleEl = document.getElementById("langToggle");
      const menuEl   = document.getElementById("langMenu");
      const items    = menuEl.querySelectorAll(".lang-item");
      const current  = document.getElementById("langCurrent");

      toggleEl.addEventListener("click", (e) => {
        e.stopPropagation();
        switchEl.classList.toggle("open");
      });

      items.forEach(btn=>{
        btn.addEventListener("click", (e)=>{
          e.stopPropagation();
          items.forEach(b=>b.classList.remove("active"));
          btn.classList.add("active");
          current.textContent = btn.textContent.trim();
          switchEl.classList.remove("open");
          // å¯åœ¨æ­¤å‘¼å« applyI18n(btn.dataset.lang)
          applyI18n(btn.dataset.lang);
        });
      });

      document.addEventListener("click", (e)=>{
        if(!switchEl.contains(e.target)) switchEl.classList.remove("open");
      });
    });

    /* === 5) i18n === */
    const I18N = {
      "zh-Hant": {
        title:"3 åˆ†é˜è©¦ç®—ä½ çš„ã€Œè²¡å‹™å®‰å…¨æŒ‡æ•¸ã€",
        age:"ä½ çš„å¹´é½¡", family:"å®¶åº­ç‹€æ³", income:"å¤§ç´„æœˆæ”¶å…¥å€é–“",
        assets:"å¤§ç´„å¯æŠ•è³‡è³‡ç”¢è¦æ¨¡", risk:"ä½ è¦ºå¾—è‡ªå·±å±¬æ–¼å“ªç¨®é¢¨éšªå±¬æ€§ï¼Ÿ",
        insuranceNow:"ç›®å‰æœ‰æ²’æœ‰ä¿å–®ï¼Ÿ", focus:"ä½ æœ€åœ¨æ„ä»€éº¼ï¼Ÿï¼ˆé¸å¡«ï¼‰",
        btn_demo:"ç”¢ç”Ÿ Demo å»ºè­° âš¡", btn_ai:"ç”¨ AI ç”¢ç”Ÿå»ºè­°",
        preview:"å»ºè­°é è¦½", hint:"é€å‡ºå¾Œå³å´æœƒæ›´æ–°å»ºè­°å…§å®¹ï¼›ä¸æœƒå¯„ä¿¡ã€ä¸æœƒå„²å­˜åˆ°ä»»ä½•ä¼ºæœå™¨ã€‚"
      },
      "en": {
        title:"3-min Check: Your Financial Safety Index",
        age:"Age", family:"Family status", income:"Monthly income range",
        assets:"Investable assets", risk:"Risk tolerance",
        insuranceNow:"Current insurance status", focus:"What do you care most? (optional)",
        btn_demo:"Generate Demo Advice âš¡", btn_ai:"Generate with AI",
        preview:"Preview", hint:"No email will be sent and nothing is stored. Right panel updates after submit."
      },
      "zh-Hans": {
        title:"3 åˆ†é’Ÿè¯•ç®—ä½ çš„ã€Œè´¢åŠ¡å®‰å…¨æŒ‡æ•°ã€",
        age:"ä½ çš„å¹´é¾„", family:"å®¶åº­çŠ¶å†µ", income:"å¤§çº¦æœˆæ”¶å…¥åŒºé—´",
        assets:"å¯æŠ•èµ„èµ„äº§è§„æ¨¡", risk:"ä½ è®¤ä¸ºè‡ªå·±å±äºå“ªç§é£é™©å±æ€§ï¼Ÿ",
        insuranceNow:"ç›®å‰æœ‰æ²¡æœ‰ä¿å•ï¼Ÿ", focus:"ä½ æœ€åœ¨æ„ä»€ä¹ˆï¼Ÿï¼ˆé€‰å¡«ï¼‰",
        btn_demo:"äº§ç”Ÿ Demo å»ºè®® âš¡", btn_ai:"ç”¨ AI äº§ç”Ÿå»ºè®®",
        preview:"å»ºè®®é¢„è§ˆ", hint:"å³ä¾§ä¼šæ›´æ–°å»ºè®®ï¼Œä¸ä¼šå‘ä¿¡ã€ä¸åšå­˜å‚¨ã€‚"
      },
      "ja": {
        title:"3åˆ†ã§åˆ†ã‹ã‚‹ã‚ãªãŸã®ã€è³‡ç”£å®‰å…¨æŒ‡æ•°ã€",
        age:"å¹´é½¢", family:"å®¶æ—çŠ¶æ³", income:"æœˆåã®ç›®å®‰",
        assets:"æŠ•è³‡å¯èƒ½è³‡ç”£", risk:"ãƒªã‚¹ã‚¯è¨±å®¹åº¦",
        insuranceNow:"ä¿é™ºã®çŠ¶æ³", focus:"ä¸€ç•ªæ°—ã«ãªã‚‹ã“ã¨ï¼ˆä»»æ„ï¼‰",
        btn_demo:"ãƒ‡ãƒ¢ææ¡ˆã‚’ä½œæˆ âš¡", btn_ai:"AIã§ææ¡ˆã‚’ä½œæˆ",
        preview:"ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼", hint:"å³å´ã«çµæœãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚‚ä¿å­˜ã‚‚è¡Œã„ã¾ã›ã‚“ã€‚"
      }
    };

    function applyI18n(lang){
      const dict = I18N[lang] || I18N["zh-Hant"];
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(dict[key]) el.textContent = dict[key];
      });
    }
  </script>
</body>
</html>
