<!DOCTYPE html>
<html lang="en">
<head>
  <title>Taimic – Operating System for Cross-Border Families | 跨國家庭的作業系統</title>

  <meta name="description" content="Taimic is the operating system for cross-border families and global citizens with assets in multiple countries. We consolidate bank accounts, insurance policies and properties across borders, track your global net worth, and use AI to help with tax, insurance and legacy planning. Taimic 專為在美台灣人與 Global Citizens 設計，一個 App 整合台灣與美國資產，追蹤全球淨值，並用 AI 幫你處理跨境稅務、保險配置與資產傳承。">

  <meta name="google-site-verification" content="gV1-KrDsf1kP8p7LjdDUhNCEhEJXMG9gvrFhZU9Ab_0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: "Inter", "Noto Sans TC", sans-serif;
      background-color: #f5f5f5;
      color: #333333;
      -webkit-font-smoothing: antialiased;
    }

    :root {
      --brand-blue: #0066cc;
      --brand-dark: #004c99;
      --text-main: #222222;
    }

    /* --- Logo Clock：統一成 Figma 扁平藍風格 --- */
    .logo-clock { width: 44px; height: 44px; }
    .logo-clock-hero { width: 40px; height: 40px; }
    .logo-clock-about { width: 52px; height: 52px; }

    .clock-outer { fill: none; stroke: #e4edff; stroke-width: 4; }
    .clock-inner { fill: #f5f7ff; stroke: #e4edff; stroke-width: 3; }
    .clock-core { fill: url(#clockGradient); }
    .clock-tick-line { stroke: #d7e3ff; stroke-width: 3; stroke-linecap: round; }

    .hand { stroke-linecap: round; transform-origin: 50% 50%; }
    .hand-hour { stroke: #111827; stroke-width: 4.5; }
    .hand-minute { stroke: #2563eb; stroke-width: 4; }
    .center-dot { fill: #ffffff; stroke: #2563eb; stroke-width: 3; }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* --- Nav --- */
    .nav-link {
      font-size: 15px;
      font-weight: 500;
      color: #555;
      padding: 0 20px;
      height: 72px;
      display: flex;
      align-items: center;
      border-bottom: 3px solid transparent;
      transition: all 0.2s;
      text-decoration: none;
    }
    .nav-link:hover {
      color: var(--brand-blue);
      border-bottom-color: var(--brand-blue);
    }
    .nav-link.active {
      color: #000;
      font-weight: 700;
      border-bottom-color: transparent;
    }

    .dropdown-container {
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
    }
    .dropdown-menu {
      position: absolute;
      top: 70px;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
      min-width: 180px;
      z-index: 50;
      border-radius: 12px;
      padding: 6px 0;
      overflow: hidden;
    }
    .dropdown-item {
      padding: 10px 18px;
      font-size: 14px;
      color: #4b5563;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.15s, color 0.15s;
    }
    .dropdown-item:hover {
      background-color: #f3f4ff;
      color: var(--brand-blue);
    }
    .dropdown-item.active {
      font-weight: 700;
      color: var(--brand-blue);
      background-color: #eef2ff;
    }

    .btn-corp {
      background-color: var(--brand-blue);
      color: white;
      font-size: 14px;
      font-weight: 600;
      padding: 10px 24px;
      border-radius: 9999px;
      transition: background 0.2s, transform 0.1s;
    }
    .btn-corp:hover {
      background-color: var(--brand-dark);
      transform: translateY(-1px);
    }

    .scan-overlay {
      background: linear-gradient(to bottom, transparent, rgba(0, 102, 204, 0.15), transparent);
      animation: scan 2s linear infinite;
    }
    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }

    .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .panel {
      background: white;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
    }

    .pricing-card { transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s; }
    .pricing-card:hover {
      border-color: #2563eb !important;
      box-shadow: 0 20px 50px rgba(37, 99, 235, 0.25) !important;
      transform: translateY(-2px);
    }

    .footer-col-title {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #6b7280;
      margin-bottom: 10px;
    }
    .footer-link {
      font-size: 14px;
      color: #4b5563;
      padding: 4px 0;
      cursor: pointer;
    }
    .footer-link:hover { color: var(--brand-blue); }

    .reports-section { background: linear-gradient(to bottom, #f7fbff, #e3f2fd, #bfdbfe); }
    .reports-shell { min-height: calc(100vh - 72px - 220px); display: flex; align-items: center; }

    /* Hero Screener Slide-Up Interaction */
.hero-card-outer {
  transition: transform 0.35s ease, box-shadow 0.25s ease;
  transform: translateY(0);
}

/* 桌機：往上拉更多，剛好蓋到 CROSS-BORDER WEALTH OS 那一行 */
.hero-card-outer.hero-card-open { 
  transform: translateY(-430px);
}

/* 平板：少一點，避免頂到最上面 */
@media (max-width: 1023px) {
  .hero-card-outer.hero-card-open { 
    transform: translateY(-430px);
  }
}

/* 手機：再少一點 */
@media (max-width: 767px) {
  .hero-card-outer.hero-card-open { 
    transform: translateY(-370px);
  }
}
    .hero-overlay-active { display: block !important; }
    /* === Dashboard Design System for post-login (A/B/C/D blocks) === */
:root {
  --tm-bg-canvas: #F5F7FA;
  --tm-bg-alt: #F8F9FA;
  --tm-primary: #0066cc;       /* Logo Deep Blue */
  --tm-primary-dark: #004c99;
  --tm-accent: #60a5fa;        /* Clock Light Blue */
  --tm-text-main: #1E293B;
  --tm-text-muted: #64748B;
}

.dashboard-canvas {
  background-color: var(--tm-bg-canvas);
}

.shadow-soft {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
}

.card-elevated {
  background-color: #ffffff;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
}

.card-elevated-12 {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
}

.sidebar-shell {
  background-color: #ffffff;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
  border-right: 1px solid rgba(148, 163, 184, 0.25);
}

.sidebar-link {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 9px 14px;
  font-size: 13px;
  color: var(--tm-text-muted);
  border-radius: 9999px;
  cursor: pointer;
  transition: background-color 0.18s ease, color 0.18s ease;
}

.sidebar-link:hover {
  background-color: rgba(96, 165, 250, 0.12);
  color: var(--tm-primary);
}

.sidebar-link-active {
  background-color: rgba(96, 165, 250, 0.12);
  color: var(--tm-primary);
  font-weight: 600;
}

.sidebar-link-active::after {
  content: "";
  position: absolute;
  right: -18px;
  top: 16%;
  bottom: 16%;
  width: 3px;
  border-radius: 9999px;
  background-color: var(--tm-primary);
}

.dash-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.dash-breadcrumb {
  font-size: 12px;
  color: var(--tm-text-muted);
}

.dash-breadcrumb span {
  color: var(--tm-text-main);
  font-weight: 500;
}

.btn-ghost-primary {
  background: transparent;
  border-radius: 9999px;
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 500;
  color: var(--tm-primary);
  display: inline-flex;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  transition: background-color 0.18s ease, color 0.18s ease;
}

.btn-ghost-primary:hover {
  background-color: rgba(96, 165, 250, 0.12);
  color: var(--tm-primary-dark);
}

.networth-hero {
  position: relative;
  overflow: hidden;
}

.networth-bg-orbit {
  position: absolute;
  right: -120px;
  top: -80px;
  width: 260px;
  height: 260px;
  border-radius: 9999px;
  background: radial-gradient(circle at 30% 30%, rgba(96, 165, 250, 0.14), transparent 60%);
  opacity: 0.9;
  pointer-events: none;
}

.networth-bg-orbit::after {
  content: "";
  position: absolute;
  inset: 32px;
  border-radius: inherit;
  border: 1px dashed rgba(148, 163, 184, 0.4);
}

.networth-kpi-label {
  font-size: 11px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--tm-text-muted);
  font-weight: 600;
}

.networth-value {
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 40px;
  line-height: 1.05;
  letter-spacing: -0.04em;
  color: var(--tm-primary-dark);
}

@media (min-width: 1024px) {
  .networth-value {
    font-size: 48px;
  }
}

.networth-change {
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 9999px;
  background-color: rgba(22, 163, 74, 0.08);
  color: #15803d;
  font-weight: 500;
}

.networth-change.neg {
  background-color: rgba(248, 113, 113, 0.08);
  color: #b91c1c;
}

/* Geo Asset Map */
.geo-map {
  position: relative;
  border-radius: 16px;
  background-color: #E2E8F0;
  overflow: hidden;
  min-height: 260px;
}

.geo-map::before {
  content: "";
  position: absolute;
  inset: 18%;
  border-radius: 9999px;
  background: radial-gradient(circle at 20% 20%, rgba(148, 163, 184, 0.7), transparent 60%),
              radial-gradient(circle at 80% 60%, rgba(148, 163, 184, 0.6), transparent 70%);
  opacity: 0.45;
}

.geo-dot {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 9999px;
  background-color: var(--tm-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.5);
  animation: geo-ripple 2.1s ease-out infinite;
  cursor: pointer;
}

.geo-dot-inner {
  width: 6px;
  height: 6px;
  border-radius: inherit;
  background-color: #ffffff;
}

@keyframes geo-ripple {
  from {
    box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.6);
    opacity: 1;
  }
  to {
    box-shadow: 0 0 0 18px rgba(96, 165, 250, 0);
    opacity: 0;
  }
}

.geo-tooltip {
  position: absolute;
  min-width: 180px;
  max-width: 220px;
  padding: 8px 10px;
  border-radius: 12px;
  background-color: #0f172a;
  color: #e5e7eb;
  font-size: 11px;
  box-shadow: 0 10px 30px rgba(15, 23, 42, 0.35);
  pointer-events: none;
  opacity: 0;
  transform: translate(-50%, -110%);
  transition: opacity 0.12s ease;
  z-index: 20;
}

/* Currency Impact Bar */
.currency-bar-bg {
  position: relative;
  height: 10px;
  border-radius: 9999px;
  background: linear-gradient(to right, #f97373, #e5e7eb, #22c55e);
  overflow: hidden;
}

.currency-bar-indicator {
  position: absolute;
  top: 50%;
  width: 2px;
  height: 18px;
  background-color: #0f172a;
  border-radius: 9999px;
  transform: translate(-50%, -50%);
}

/* Compliance timeline */
.timeline-rail {
  position: relative;
  height: 2px;
  background-color: #e5e7eb;
}

.timeline-node {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-width: 140px;
}

.timeline-dot {
  width: 16px;
  height: 16px;
  border-radius: 9999px;
  border-width: 2px;
  border-style: solid;
  background-color: #ffffff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
}

.timeline-dot-upcoming {
  border-color: var(--tm-primary);
}

.timeline-dot-done {
  border-color: #9ca3af;
  background-color: #9ca3af;
  color: #f9fafb;
}

.timeline-dot-urgent {
  border-color: #f97316;
  background-color: #f97316;
  color: #fff7ed;
}

.timeline-label {
  font-size: 11px;
  color: var(--tm-text-muted);
}

.timeline-tag {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 9999px;
  background-color: #e5e7eb;
  color: #374151;
  font-weight: 500;
}

.timeline-tag-urgent {
  background-color: #f97316;
  color: #fff7ed;
}

@media (max-width: 1023px) {
  .sidebar-shell {
    border-radius: 12px;
  }
}
  </style>
</head>

<body class="flex flex-col min-h-screen bg-[#f3f5f9]">
  <header class="bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm h-[72px]">
    <div class="max-w-[1440px] mx-auto px-6 h-full flex justify-between items-center relative">
      <div class="flex items-center gap-4 cursor-pointer" onclick="switchSection('overview')">
        <svg class="logo-clock" viewBox="0 0 100 100">
          <defs>
            <linearGradient id="clockGradient" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#bfdbfe" />
              <stop offset="100%" stop-color="#60a5fa" />
            </linearGradient>
          </defs>
          <circle cx="50" cy="50" r="46" class="clock-outer" />
          <circle cx="50" cy="50" r="38" class="clock-inner" />
          <circle cx="50" cy="50" r="30" class="clock-core" />
          <line x1="50" y1="12" x2="50" y2="18" class="clock-tick-line" />
          <line x1="88" y1="50" x2="82" y2="50" class="clock-tick-line" />
          <line x1="50" y1="82" x2="50" y2="88" class="clock-tick-line" />
          <line x1="18" y1="50" x2="12" y2="50" class="clock-tick-line" />
          <line x1="50" y1="50" x2="50" y2="30" class="hand hand-hour" />
          <line x1="50" y1="50" x2="66" y2="34" class="hand hand-minute" />
          <circle cx="50" cy="50" r="3.2" class="center-dot" />
        </svg>
        <div class="flex flex-col justify-center">
          <span class="text-[22px] font-[700] tracking-tight text-[#0066cc] leading-none">TAIMIC</span>
          <span class="text-[10px] font-[600] tracking-[0.2em] text-gray-500 mt-1 uppercase">Global Wealth</span>
        </div>
      </div>

      <nav class="hidden lg:flex h-full items-center space-x-4">
        <a href="#" class="nav-link active" data-section="overview" data-i18n="nav.overview">Overview</a>
        <a href="#" class="nav-link" data-section="pricing" data-i18n="nav.pricing">Pricing</a>
        <a href="#" class="nav-link" data-section="reports" data-i18n="nav.reports">Reports</a>
        <a href="#" class="nav-link" data-section="about" data-i18n="nav.about">About Taimic</a>
      </nav>

      <div class="flex items-center gap-6 h-full">
        <div class="hidden sm:flex items-center text-xs font-medium text-gray-600 border border-gray-200 rounded-full overflow-hidden bg-gray-50 shadow-sm">
          <button id="btn-usd" onclick="setCurrency('USD')" class="px-4 py-2 transition-colors">USD</button>
          <button id="btn-twd" onclick="setCurrency('TWD')" class="px-4 py-2 transition-colors">TWD</button>
        </div>

        <div class="dropdown-container cursor-pointer h-full">
          <button id="lang-toggle" type="button" class="flex items-center gap-2 text-gray-600 hover:text-[#0066cc] transition-colors">
            <div class="w-9 h-9 rounded-full flex items-center justify-center bg-gray-50 border border-gray-200">
              <i class="fa-solid fa-globe text-sm"></i>
            </div>
            <i class="fa-solid fa-caret-down text-xs"></i>
          </button>
          <div id="lang-menu" class="dropdown-menu hidden">
            <div id="opt-zh" class="dropdown-item" onclick="changeLang('zh')">繁體中文</div>
            <div id="opt-en" class="dropdown-item active" onclick="changeLang('en')">English</div>
          </div>
        </div>

        <div class="dropdown-container cursor-pointer h-full border-l border-gray-200 pl-4">
          <button id="user-toggle" type="button" class="w-10 h-10 bg-[#f3f4f6] text-gray-600 rounded-full flex items-center justify-center hover:bg-[#0066cc] hover:text-white transition-colors">
            <i class="fa-solid fa-user text-base"></i>
          </button>
          <div id="user-menu" class="dropdown-menu hidden">
            <div class="dropdown-item" onclick="openAuthModal('login')">
              <i class="fa-solid fa-right-to-bracket"></i>
              <span data-i18n="user.login">Login</span>
            </div>
            <div class="dropdown-item" onclick="openAuthModal('register')">
              <i class="fa-solid fa-user-plus"></i>
              <span data-i18n="user.register">Sign up</span>
            </div>
            <div class="border-t border-gray-100 my-1"></div>
            <div class="dropdown-item">
              <i class="fa-solid fa-circle-question"></i>
              <span>Help</span>
            </div>
          </div>
        </div>

        <button id="mobile-menu-btn" class="lg:hidden pl-2 text-gray-600 hover:text-[#0066cc] focus:outline-none">
          <i class="fa-solid fa-bars text-xl"></i>
        </button>
      </div>
    </div>

    <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-100 absolute top-[72px] left-0 w-full shadow-lg z-30">
      <div class="flex flex-col p-4 space-y-2">
        <a href="#" class="mobile-nav-link block px-4 py-3 rounded-lg text-gray-600 font-medium hover:bg-gray-50 hover:text-[#0066cc]" data-section="overview" data-i18n="nav.overview">Overview</a>
        <a href="#" class="mobile-nav-link block px-4 py-3 rounded-lg text-gray-600 font-medium hover:bg-gray-50 hover:text-[#0066cc]" data-section="pricing" data-i18n="nav.pricing">Pricing</a>
        <a href="#" class="mobile-nav-link block px-4 py-3 rounded-lg text-gray-600 font-medium hover:bg-gray-50 hover:text-[#0066cc]" data-section="reports" data-i18n="nav.reports">Reports</a>
        <a href="#" class="mobile-nav-link block px-4 py-3 rounded-lg text-gray-600 font-medium hover:bg-gray-50 hover:text-[#0066cc]" data-section="about" data-i18n="nav.about">About Taimic</a>
        
        <div class="pt-2 mt-2 border-t border-gray-100 flex gap-2">
          <button onclick="setCurrency('USD')" class="flex-1 py-2 text-xs font-bold border border-gray-200 rounded text-center hover:bg-gray-50">USD</button>
          <button onclick="setCurrency('TWD')" class="flex-1 py-2 text-xs font-bold border border-gray-200 rounded text-center hover:bg-gray-50">TWD</button>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-grow">
        <!-- === Post-login Dashboard Layout for Taimic (Stripe / Amex 風格) === -->
    <section id="section-dashboard" class="dashboard-canvas py-10">
      <div class="max-w-[1440px] mx-auto px-6">
        <div class="flex flex-col lg:flex-row gap-6 lg:gap-8">
          <!-- Sidebar Navigation -->
          <aside class="sidebar-shell w-full max-w-full lg:w-64 flex flex-col justify-between">
            <div class="p-5 pb-3 border-b border-slate-100">
              <div class="flex items-center gap-3">
                <!-- 直接重用你現有的 Logo Clock 樣式 -->
                <svg class="logo-clock" viewBox="0 0 100 100">
                  <defs>
                    <linearGradient id="clockGradientDashboard" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#bfdbfe" />
                      <stop offset="100%" stop-color="#60a5fa" />
                    </linearGradient>
                  </defs>
                  <circle cx="50" cy="50" r="46" class="clock-outer" />
                  <circle cx="50" cy="50" r="38" class="clock-inner" />
                  <circle cx="50" cy="50" r="30" class="clock-core" />
                  <line x1="50" y1="12" x2="50" y2="18" class="clock-tick-line" />
                  <line x1="88" y1="50" x2="82" y2="50" class="clock-tick-line" />
                  <line x1="50" y1="82" x2="50" y2="88" class="clock-tick-line" />
                  <line x1="18" y1="50" x2="12" y2="50" class="clock-tick-line" />
                  <line x1="50" y1="50" x2="50" y2="30" class="hand hand-hour" />
                  <line x1="50" y1="50" x2="66" y2="34" class="hand hand-minute" />
                  <circle cx="50" cy="50" r="3.2" class="center-dot" />
                </svg>
                <div class="flex flex-col">
                  <span class="text-[18px] font-[700] tracking-tight text-[#0066cc] leading-none">TAIMIC</span>
                  <span class="text-[9px] font-[600] tracking-[0.2em] text-gray-500 mt-1 uppercase">Family OS</span>
                </div>
              </div>
            </div>

            <nav class="px-4 py-4 space-y-1">
              <button class="sidebar-link sidebar-link-active">
                <i class="fa-solid fa-chart-line text-xs"></i>
                <span>Dashboard</span>
              </button>
              <button class="sidebar-link">
                <i class="fa-solid fa-layer-group text-xs"></i>
                <span>Accounts &amp; Entities</span>
              </button>
              <button class="sidebar-link">
                <i class="fa-solid fa-shield-halved text-xs"></i>
                <span>Compliance</span>
              </button>
              <button class="sidebar-link">
                <i class="fa-solid fa-folder-open text-xs"></i>
                <span>Documents</span>
              </button>
              <button class="sidebar-link">
                <i class="fa-solid fa-gear text-xs"></i>
                <span>Settings</span>
              </button>
            </nav>

            <div class="px-4 py-4 border-t border-slate-100 text-[11px] text-slate-400 flex items-center justify-between">
              <span>v0.1 • Taimic</span>
              <span class="inline-flex items-center gap-1">
                <i class="fa-solid fa-shield-check text-[10px]"></i>
                <span>Bank-grade</span>
              </span>
            </div>
          </aside>

          <!-- Main Dashboard Area -->
          <div class="flex-1 flex flex-col gap-6">
            <!-- Top header (Breadcrumb + 按鈕) -->
            <header class="dash-header">
              <div class="space-y-1">
                <div class="dash-breadcrumb">
                  Home &gt; <span>Global Dashboard</span>
                </div>
                <h1 class="text-[20px] md:text-[22px] font-semibold text-[#0f172a] tracking-tight">
                  Cross-border wealth overview
                </h1>
                <p class="text-[12px] text-slate-500">
                  Consolidated view of your Taiwan, US and offshore positions — refreshed daily.
                </p>
              </div>
              <div class="flex items-center gap-3">
                <!-- 無邊框文字按鈕：聯絡理財顧問 -->
                <button class="btn-ghost-primary">
                  <i class="fa-solid fa-user-tie text-xs"></i>
                  <span>聯絡理財顧問</span>
                </button>
                <button class="w-9 h-9 rounded-full bg-white shadow-soft flex items-center justify-center text-slate-500">
                  <i class="fa-regular fa-bell text-xs"></i>
                </button>
                <div class="w-9 h-9 rounded-full bg-slate-900 text-slate-50 text-[11px] font-semibold flex items-center justify-center">
                  YC
                </div>
              </div>
            </header>

            <!-- 區塊 A：總覽與核心指標 -->
            <section class="card-elevated networth-hero p-5 md:p-7">
              <div class="networth-bg-orbit"></div>
              <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-5 relative z-10">
                <div class="space-y-3">
                  <div class="networth-kpi-label">
                    TOTAL NET WORTH
                  </div>
                  <div class="flex items-baseline gap-3 flex-wrap">
                    <div class="networth-value">
                      $1,245,800
                    </div>
                    <div class="networth-change">
                      <i class="fa-solid fa-arrow-trend-up text-[11px]"></i>
                      <span>+$12,500</span>
                      <span class="text-[11px] text-emerald-700/90">Today</span>
                    </div>
                  </div>
                  <div class="flex flex-wrap gap-4 text-[11px] text-slate-500">
                    <div class="flex items-center gap-1.5">
                      <span class="inline-block w-1.5 h-1.5 rounded-full bg-[#2563eb]"></span>
                      <span>TWD • US • SGD consolidated at live FX</span>
                    </div>
                    <div class="flex items-center gap-1.5">
                      <i class="fa-solid fa-shield-check text-[10px] text-emerald-600"></i>
                      <span>Estate &amp; gift tax exposure monitored</span>
                    </div>
                  </div>
                </div>

                <div class="space-y-3 min-w-[220px] max-w-xs">
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>Liquidity (next 30 days)</span>
                    <span class="font-medium text-slate-700">$180,000</span>
                  </div>
                  <div class="w-full h-1.5 rounded-full bg-slate-100 overflow-hidden">
                    <div class="h-full w-2/3 bg-gradient-to-r from-[#2563eb] to-[#60a5fa]"></div>
                  </div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>FX sensitivity (TWD vs USD)</span>
                    <span class="font-medium text-slate-700">1% move ≈ $9,200</span>
                  </div>
                </div>
              </div>
            </section>

            <!-- 區塊 B + C -->
            <section class="grid grid-cols-1 lg:grid-cols-3 gap-6">
              <!-- 區塊 B：全球資產地圖 -->
              <div id="geo-asset-map" class="card-elevated p-5 md:p-6 lg:col-span-2">
                <div class="flex items-center justify-between mb-4">
                  <div>
                    <div class="networth-kpi-label">GLOBAL ASSET MAP</div>
                    <p class="mt-1 text-[12px] text-slate-500">
                      Countries with positions • hover for breakdown
                    </p>
                  </div>
                  <div class="flex items-center gap-2 text-[11px] text-slate-500">
                    <div class="w-2.5 h-2.5 rounded-full bg-[#0066cc]"></div>
                    <span>Has assets</span>
                  </div>
                </div>
                <div class="geo-map">
                  <!-- Taiwan -->
                  <button
                    type="button"
                    class="geo-dot"
                    style="left: 64%; top: 54%;"
                    data-country="Taiwan"
                    data-amount="$350,000"
                    data-breakdown="Cash, brokerages, real estate"
                  >
                    <span class="geo-dot-inner"></span>
                  </button>

                  <!-- United States -->
                  <button
                    type="button"
                    class="geo-dot"
                    style="left: 23%; top: 48%; animation-delay: 0.4s;"
                    data-country="United States"
                    data-amount="$620,000"
                    data-breakdown="Brokerages, 401(k), RSUs"
                  >
                    <span class="geo-dot-inner"></span>
                  </button>

                  <!-- Singapore -->
                  <button
                    type="button"
                    class="geo-dot"
                    style="left: 57%; top: 66%; animation-delay: 0.8s;"
                    data-country="Singapore"
                    data-amount="$95,800"
                    data-breakdown="Cash &amp; private banking"
                  >
                    <span class="geo-dot-inner"></span>
                  </button>

                  <!-- Tooltip -->
                  <div id="geo-tooltip" class="geo-tooltip"></div>
                </div>
              </div>

              <!-- 區塊 C：風險與配置 -->
              <div class="space-y-4">
                <!-- 卡片 1：Currency Impact -->
                <div class="card-elevated-12 p-4 md:p-5">
                  <div class="flex items-center justify-between mb-2">
                    <div class="networth-kpi-label">CURRENCY IMPACT</div>
                    <span class="text-[11px] text-slate-500">Rolling 30 days</span>
                  </div>
                  <p class="text-[12px] text-slate-600 mb-3">
                    Current FX moves have <span class="font-semibold text-emerald-700">+NT$280,000</span> impact on your total net worth.
                  </p>
                  <div class="space-y-2">
                    <div class="currency-bar-bg">
                      <!-- 中間是 neutral，往左紅、往右綠 -->
                      <div id="currency-bar-indicator" class="currency-bar-indicator" style="left: 58%;"></div>
                    </div>
                    <div class="flex justify-between text-[11px] text-slate-500">
                      <span>TWD stronger</span>
                      <span>Neutral</span>
                      <span>USD stronger</span>
                    </div>
                  </div>
                </div>

                <!-- 卡片 2：Asset Allocation Donut -->
                <div class="card-elevated-12 p-4 md:p-5">
                  <div class="flex items-center justify-between mb-3">
                    <div class="networth-kpi-label">ASSET ALLOCATION</div>
                    <span class="text-[11px] text-slate-500">By net worth</span>
                  </div>
                  <div class="flex items-center gap-4">
                    <div class="w-28 h-28 md:w-32 md:h-32 relative">
                      <canvas id="allocationDonut"></canvas>
                      <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <div class="text-center">
                          <div class="text-[15px] font-semibold text-slate-900 leading-none">100%</div>
                          <div class="mt-1 text-[9px] uppercase tracking-[0.18em] text-slate-400">Allocated</div>
                        </div>
                      </div>
                    </div>
                    <div class="flex-1 space-y-1.5 text-[11px] text-slate-600">
                      <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                          <span class="inline-block w-2 h-2 rounded-full bg-[#0066cc]"></span>
                          <span>Core holdings (public markets)</span>
                        </div>
                        <span class="font-medium text-slate-900">55%</span>
                      </div>
                      <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                          <span class="inline-block w-2 h-2 rounded-full" style="background-color: rgba(0,102,204,0.6);"></span>
                          <span>Satellite / alternatives</span>
                        </div>
                        <span class="font-medium text-slate-900">30%</span>
                      </div>
                      <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                          <span class="inline-block w-2 h-2 rounded-full bg-[#60a5fa]"></span>
                          <span>Cash &amp; buffers</span>
                        </div>
                        <span class="font-medium text-slate-900">15%</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- 區塊 D：智能合規日曆 -->
            <section class="card-elevated p-5 md:p-6">
              <div class="flex items-center justify-between mb-4">
                <div>
                  <div class="networth-kpi-label">UPCOMING COMPLIANCE DEADLINES</div>
                  <p class="mt-1 text-[12px] text-slate-500">
                    Key filings based on your current structure. Dates are based on US &amp; Taiwan rules.
                  </p>
                </div>
                <button
                  type="button"
                  class="inline-flex items-center gap-2 rounded-full px-3 py-2 text-[12px] font-semibold bg-[#e0edff] text-[#1d4ed8] hover:bg-[#d0e3ff]"
                >
                  <i class="fa-solid fa-file-arrow-up text-xs"></i>
                  <span>Upload Documents</span>
                </button>
              </div>

              <div class="mt-3 overflow-x-auto">
                <div class="min-w-max pb-1">
                  <div class="timeline-rail mb-6"></div>
                  <div class="flex items-start gap-10">
                    <!-- 已完成 -->
                    <div class="timeline-node">
                      <div class="timeline-dot timeline-dot-done">
                        <i class="fa-solid fa-check"></i>
                      </div>
                      <div class="timeline-label">Jan 31</div>
                      <div class="timeline-tag">TW withholding summary</div>
                    </div>

                    <!-- 緊急 (<7 天) -->
                    <div class="timeline-node">
                      <div class="timeline-dot timeline-dot-urgent">
                        <i class="fa-solid fa-exclamation"></i>
                      </div>
                      <div class="timeline-label">Apr 15 • 6 days</div>
                      <div class="timeline-tag timeline-tag-urgent">US Form 1040 + 8938</div>
                    </div>

                    <!-- FBAR -->
                    <div class="timeline-node">
                      <div class="timeline-dot timeline-dot-upcoming"></div>
                      <div class="timeline-label">Apr 15</div>
                      <div class="timeline-tag">FBAR (FinCEN 114)</div>
                    </div>

                    <!-- 台灣綜所稅 -->
                    <div class="timeline-node">
                      <div class="timeline-dot timeline-dot-upcoming"></div>
                      <div class="timeline-label">May 31</div>
                      <div class="timeline-tag">TW individual filing</div>
                    </div>

                    <!-- Q2 預估稅 -->
                    <div class="timeline-node">
                      <div class="timeline-dot timeline-dot-upcoming"></div>
                      <div class="timeline-label">Jun 15</div>
                      <div class="timeline-tag">US quarterly tax</div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

          </div>
        </div>
      </div>
    </section>
    <section id="section-overview">
       <section class="relative border-b border-slate-200 bg-gradient-to-b from-[#ecf3ff] via-[#f7f9ff] to-[#e5edf9]">
        <div id="hero-overlay" class="absolute inset-0 z-20 hidden cursor-pointer"></div>

        <div class="max-w-[1440px] mx-auto px-6 pt-16 pb-10 md:pt-20 md:pb-24">
          <div class="max-w-3xl mx-auto text-center space-y-6">
            <p class="text-xs font-semibold tracking-[0.28em] text-slate-500 uppercase">
              CROSS-BORDER WEALTH OS
            </p>
            <h1 class="text-[32px] sm:text-[40px] md:text-[46px] font-extrabold tracking-tight text-slate-900 leading-tight">
              The OS for your
              <span class="text-[#0066cc]">Cross-border Wealth.</span>
            </h1>
            <p class="text-sm md:text-base text-slate-600 leading-relaxed max-w-xl mx-auto">
              <span class="block">Automated FATCA compliance.</span>
              <span class="block">Real-time net worth tracking.</span>
              <span class="block">AI insights for global families.</span>
            </p>

            <div class="flex flex-wrap items-center justify-center gap-3">
              <button
                id="hero-run-scan-btn"
                type="button"
                class="inline-flex items-center justify-center px-7 py-3 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm md:text-base font-semibold shadow-[0_18px_60px_rgba(37,99,235,0.45)]">
                Run Free Risk Scan
              </button>
              </div>

            <div class="flex items-center justify-center gap-2 text-[11px] text-slate-500 pt-1">
              <span>No sign-up for first scan</span>
              <span class="hidden sm:inline">·</span>
              <span>Takes 60 seconds</span>
            </div>
          </div>

          <div class="mt-10 md:mt-12 flex justify-center relative">
  <div
  id="compliance-card"
  class="w-full max-w-4xl hero-card-outer relative transition-all duration-500 ease-out z-30">
              <div class="bg-white/95 rounded-3xl shadow-[0_24px_80px_rgba(37,99,235,0.26)] border border-blue-100 px-6 py-6 md:px-8 md:py-7">
                <div class="flex items-center justify-between mb-5">
                  <div>
                    <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                      Compliance Risk Screener
                    </p>
                    <div class="mt-2 inline-flex items-center gap-2 rounded-full bg-blue-50 border border-blue-100 px-2.5 py-1">
                      <span class="inline-flex w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                      <span class="text-[10px] font-semibold tracking-[0.18em] uppercase text-[#1d4ed8]">
                        Powered by Taimic AI
                      </span>
                    </div>
                  </div>
                  <div class="flex items-center gap-2 text-[11px] text-slate-500">
                    <div class="w-8 h-8 rounded-full bg-slate-50 border border-slate-200 flex items-center justify-center">
                      <i class="fa-solid fa-shield-halved text-xs text-[#1d4ed8]"></i>
                    </div>
                    <span class="uppercase tracking-[0.18em] font-semibold">
                      Bank-level encryption
                    </span>
                  </div>
                </div>

                <div class="space-y-5">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                      <input id="hero-identity" type="hidden" value="non-us" />
                      <input id="hero-residence" type="hidden" value="tw" />

                      <div class="space-y-2">
                        <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                          Tax Status
                        </p>
                        <div class="inline-flex rounded-full bg-slate-100 p-1 gap-1">
                          <button
                            type="button"
                            class="hero-identity-pill px-3.5 py-1.5 rounded-full text-[11px] font-semibold bg-slate-900 text-white shadow-sm"
                            onclick="
                              document.getElementById('hero-identity').value='non-us';
                              document.querySelectorAll('.hero-identity-pill').forEach(function(btn){
                                btn.classList.remove('bg-slate-900','text-white');
                                btn.classList.add('bg-transparent','text-slate-600');
                              });
                              this.classList.add('bg-slate-900','text-white');
                              this.classList.remove('bg-transparent','text-slate-600');
                              calculateHeroTotal();
                            "
                          >
                            Non-US Person
                          </button>
                          <button
                            type="button"
                            class="hero-identity-pill px-3.5 py-1.5 rounded-full text-[11px] font-semibold bg-transparent text-slate-600 hover:bg-slate-200/70"
                            onclick="
                              document.getElementById('hero-identity').value='us';
                              document.querySelectorAll('.hero-identity-pill').forEach(function(btn){
                                btn.classList.remove('bg-slate-900','text-white');
                                btn.classList.add('bg-transparent','text-slate-600');
                              });
                              this.classList.add('bg-slate-900','text-white');
                              this.classList.remove('bg-transparent','text-slate-600');
                              calculateHeroTotal();
                            "
                          >
                            US Citizen / Green Card
                          </button>
                        </div>
                      </div>

                      <div class="space-y-2">
                        <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                          Residence
                        </p>
                        <div class="inline-flex rounded-full bg-slate-100 p-1 gap-1">
                          <button
                            type="button"
                            class="hero-residence-pill px-3.5 py-1.5 rounded-full text-[11px] font-semibold bg-slate-900 text-white shadow-sm"
                            onclick="
                              document.getElementById('hero-residence').value='tw';
                              document.querySelectorAll('.hero-residence-pill').forEach(function(btn){
                                btn.classList.remove('bg-slate-900','text-white');
                                btn.classList.add('bg-transparent','text-slate-600');
                              });
                              this.classList.add('bg-slate-900','text-white');
                              this.classList.remove('bg-transparent','text-slate-600');
                              calculateHeroTotal();
                            "
                          >
                            Living in Taiwan
                          </button>
                          <button
                            type="button"
                            class="hero-residence-pill px-3.5 py-1.5 rounded-full text-[11px] font-semibold bg-transparent text-slate-600 hover:bg-slate-200/70"
                            onclick="
                              document.getElementById('hero-residence').value='us';
                              document.querySelectorAll('.hero-residence-pill').forEach(function(btn){
                                btn.classList.remove('bg-slate-900','text-white');
                                btn.classList.add('bg-transparent','text-slate-600');
                              });
                              this.classList.add('bg-slate-900','text-white');
                              this.classList.remove('bg-transparent','text-slate-600');
                              calculateHeroTotal();
                            "
                          >
                            Living in US
                          </button>
                        </div>
                      </div>

                      <div class="space-y-2">
                        <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                          Asset Types
                        </p>
                        <div class="flex flex-wrap gap-2">
                          <label class="inline-flex items-center gap-2 text-[11px] md:text-[12px] text-slate-600 bg-slate-50 border border-slate-200 rounded-full px-3 py-1.5">
                            <input
                              id="hero-asset-cash"
                              type="checkbox"
                              class="rounded border-slate-300"
                              onchange="calculateHeroTotal()"
                            />
                            <span>現金存款 Cash</span>
                          </label>
                          <label class="inline-flex items-center gap-2 text-[11px] md:text-[12px] text-slate-600 bg-slate-50 border border-slate-200 rounded-full px-3 py-1.5">
                            <input
                              id="hero-asset-stocks"
                              type="checkbox"
                              class="rounded border-slate-300"
                              onchange="calculateHeroTotal()"
                            />
                            <span>股票 Stocks</span>
                          </label>
                          <label class="inline-flex items-center gap-2 text-[11px] md:text-[12px] text-slate-600 bg-slate-50 border border-slate-200 rounded-full px-3 py-1.5">
                            <input
                              id="hero-asset-funds"
                              type="checkbox"
                              class="rounded border-slate-300"
                              onchange="calculateHeroTotal()"
                            />
                            <span>基金 / ETF Funds <span class="text-[10px] text-red-500">（PFIC 高風險）</span></span>
                          </label>
                          <label class="inline-flex items-center gap-2 text-[11px] md:text-[12px] text-slate-600 bg-slate-50 border border-slate-200 rounded-full px-3 py-1.5">
                            <input
                              id="hero-asset-insurance"
                              type="checkbox"
                              class="rounded border-slate-300"
                              onchange="calculateHeroTotal()"
                            />
                            <span>保險 / 年金 Insurance <span class="text-[10px] text-red-500">（PFIC / Excise Tax）</span></span>
                          </label>
                        </div>
                        <p id="hero-assets-error" class="hidden text-[11px] text-red-500 mt-1">
                          請至少勾選一項資產類型 / Please select at least one asset type.
                        </p>
                      </div>
                    </div>

                    <div class="space-y-4">
                      <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                        Assets (TWD / USD)
                      </p>

                      <div class="space-y-2">
                        <label for="hero-twd" class="block text-[11px] font-medium text-slate-600 mb-1.5">
                          Taiwan Assets (TWD) / 台灣資產
                        </label>
                        <div class="relative">
                          <span
                            class="absolute left-3 top-1/2 -translate-y-1/2 text-[11px] text-slate-400"
                          >
                            NT$
                          </span>
                          <input
                            id="hero-twd"
                            type="number"
                            inputmode="decimal"
                            min="0"
                            oninput="calculateHeroTotal()"
                            class="w-full pl-9 pr-3 py-2.5 rounded-xl border border-slate-200 bg-slate-50/80 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb] text-sm text-slate-900"
                            placeholder="e.g. 12,000,000"
                          />
                        </div>
                      </div>

                      <div class="space-y-2">
                        <label for="hero-usd" class="block text-[11px] font-medium text-slate-600 mb-1.5">
                          US / Overseas Assets (USD) / 美國・海外資產
                        </label>
                        <div class="relative">
                          <span
                            class="absolute left-3 top-1/2 -translate-y-1/2 text-[11px] text-slate-400"
                          >
                            $
                          </span>
                          <input
                            id="hero-usd"
                            type="number"
                            inputmode="decimal"
                            min="0"
                            oninput="calculateHeroTotal()"
                            class="w-full pl-7 pr-3 py-2.5 rounded-xl border border-slate-200 bg-slate-50/80 focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb] text-sm text-slate-900"
                            placeholder="e.g. 450,000"
                          />
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="pt-4 border-t border-slate-100 flex flex-col md:flex-row items-center justify-between gap-3">
                    <p class="text-[11px] text-slate-500 flex items-center gap-1">
                      <i class="fa-solid fa-circle-info text-[10px] text-slate-400"></i>
                      <span>No sign-up for first scan · Takes about 60 seconds</span>
                    </p>
                    <button
                      type="button"
                      onclick="calculateHeroTotal()"
                      class="inline-flex items-center justify-center gap-2 rounded-full bg-[#111827] hover:bg-black text-white text-sm font-semibold px-6 py-2.5 shadow-sm transition"
                    >
                      <span>Analyze My Risks</span>
                      <i class="fa-solid fa-magnifying-glass-chart text-xs"></i>
                    </button>
                  </div>
                </div>

                <div id="hero-result" class="mt-6 hidden space-y-5 animate-fade-in">
                  <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-3">
                    <div>
                      <p class="text-[11px] font-semibold tracking-[0.2em] text-slate-500 uppercase mb-1">
                        Est. Global Net Worth (USD)
                      </p>
                      <div
                        id="hero-total"
                        class="text-3xl md:text-4xl font-bold text-slate-900 font-mono tracking-tight"
                      >
                        $0
                      </div>
                      <p class="mt-1 text-[11px] text-slate-500" id="hero-rate-label">
                        </p>
                    </div>
                    <p class="text-[11px] text-slate-600 max-w-xs">
                      Across Taiwan, US and offshore accounts based on the amounts you entered.  
                      This is an estimate for screening, not a legal or tax opinion.
                    </p>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div
                      id="hero-us-status"
                      class="rounded-2xl border border-slate-200 bg-white px-4 py-3 flex flex-col gap-2"
                    >
                      <div class="flex items-center justify-between">
                        <div class="text-[11px] font-semibold tracking-[0.18em] text-slate-600 uppercase">
                          🇺🇸 US Compliance
                        </div>
                        <div id="hero-us-tag" class="text-[10px] px-2 py-0.5 rounded-full font-semibold tracking-wide bg-slate-100 text-slate-600">
                          —
                        </div>
                      </div>
                      <div id="hero-us-body" class="text-xs text-slate-700 space-y-1.5">
                        </div>
                    </div>

                    <div
                      id="hero-tw-status"
                      class="rounded-2xl border border-slate-200 bg-white px-4 py-3 flex flex-col gap-2"
                    >
                      <div class="flex items-center justify-between">
                        <div class="text-[11px] font-semibold tracking-[0.18em] text-slate-600 uppercase">
                          🇹🇼 Taiwan Tax Exposure
                        </div>
                        <div id="hero-tw-tag" class="text-[10px] px-2 py-0.5 rounded-full font-semibold tracking-wide bg-slate-100 text-slate-600">
                          —
                        </div>
                      </div>
                      <div id="hero-tw-body" class="text-xs text-slate-700 space-y-1.5">
                        </div>
                    </div>
                  </div>

                  <div class="relative mt-4 overflow-hidden rounded-2xl border border-slate-200 bg-slate-50/80">
                    <div class="absolute inset-0 bg-slate-100/70 backdrop-blur-sm pointer-events-none"></div>
                    <div class="relative p-4 md:p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                      <div class="flex items-start gap-3">
                        <div class="mt-0.5">
                          <div class="w-8 h-8 rounded-full bg-slate-900 flex items-center justify-center text-slate-50">
                            <i class="fa-solid fa-lock text-xs"></i>
                          </div>
                        </div>
                        <div class="space-y-1.5 text-[11px] text-slate-700">
                          <p class="text-sm md:text-[15px] font-semibold text-slate-900">
                            Unlock full cross-border report for your family.
                          </p>
                          <ul class="space-y-1.5">
                            <li class="flex items-start gap-1.5">
                              <i class="fa-solid fa-check text-[10px] text-emerald-600 mt-0.5"></i>
                              <span>Full FATCA / FBAR / CRS threshold checks across accounts.</span>
                            </li>
                            <li class="flex items-start gap-1.5">
                              <i class="fa-solid fa-check text-[10px] text-emerald-600 mt-0.5"></i>
                              <span>Detailed estate &amp; gift tax scenarios for cross-border families.</span>
                            </li>
                            <li class="flex items-start gap-1.5">
                              <i class="fa-solid fa-check text-[10px] text-emerald-600 mt-0.5"></i>
                              <span>AI-generated next steps tailored to your structure.</span>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="flex md:flex-col md:items-end">
                        <button
                          id="hero-cta-btn"
                          type="button"
                          onclick="openAuthModal('register')"
                          class="hidden inline-flex items-center justify-center gap-2 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm font-semibold px-6 py-2.5 shadow-md transition"
                        >
                          <span>Create a free Taimic account</span>
                          <i class="fa-solid fa-arrow-right-long text-xs"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                </div>
            </div>
          </div>
        </div>
      </section>

      <section class="py-16 md:py-20 bg-[#f3f5f9]">
        <div class="max-w-[1100px] mx-auto px-6">
          <div class="text-center max-w-2xl mx-auto mb-10">
            <p
              class="text-xs font-semibold tracking-[0.22em] text-gray-500 uppercase mb-2"
            >
              Built for globally mobile families
            </p>
            <h2
              class="text-2xl md:text-[28px] font-bold tracking-tight text-slate-900 mb-3"
            >
              See your global balance sheet in one place.
            </h2>
            <p class="text-sm md:text-base text-slate-600">
              Taimic helps you stop guessing and finally see how your Taiwan,
              US and offshore assets fit together — with compliance risks
              surfaced automatically.
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
            <div class="panel p-6 md:p-7 flex flex-col gap-3">
              <div
                class="w-10 h-10 rounded-full bg-blue-50 text-[#2563eb] flex items-center justify-center mb-1"
              >
                <i class="fa-solid fa-globe-asia text-sm"></i>
              </div>
              <h3 class="text-base font-semibold text-slate-900">
                Global View
              </h3>
              <p class="text-sm text-slate-600 leading-relaxed">
                整合台美與多國資產，統一以單一幣別呈現市值與資產配置，
                並自動套用實時匯率，讓你一眼看懂整體淨值結構。
              </p>
            </div>

            <div class="panel p-6 md:p-7 flex flex-col gap-3">
              <div
                class="w-10 h-10 rounded-full bg-blue-50 text-[#2563eb] flex items-center justify-center mb-1"
              >
                <i class="fa-solid fa-shield-check text-sm"></i>
              </div>
              <h3 class="text-base font-semibold text-slate-900">
                Compliance Radar
              </h3>
              <p class="text-sm text-slate-600 leading-relaxed">
                自動化 FATCA / FBAR / CRS 風險檢測，追蹤關鍵門檻與餘額，
                讓稅務不再憑印象，而是有數據、有提醒、有脈絡。
              </p>
            </div>

            <div class="panel p-6 md:p-7 flex flex-col gap-3">
              <div
                class="w-10 h-10 rounded-full bg-blue-50 text-[#2563eb] flex items-center justify-center mb-1"
              >
                <i class="fa-solid fa-bolt text-sm"></i>
              </div>
              <h3 class="text-base font-semibold text-slate-900">
                AI Insights
              </h3>
              <p class="text-sm text-slate-600 leading-relaxed">
                針對你實際持有的部位，提供 AI 驅動的稅務風險提示、
                資產集中度分析與情境模擬，幫你提前看見問題與機會。
              </p>
            </div>
          </div>
        </div>
      </section>

      <section
        class="py-16 md:py-20 bg-gradient-to-r from-[#e0f2fe] via-[#bfdbfe] to-[#93c5fd] border-t border-blue-100"
      >
        <div class="max-w-[1100px] mx-auto px-6">
          <div
            class="bg-white/95 rounded-3xl shadow-lg px-8 py-10 md:px-10 md:py-12 flex flex-col md:flex-row items-center justify-between gap-6"
          >
            <div class="text-center md:text-left space-y-2">
              <p
                class="text-xs font-semibold tracking-[0.2em] text-[#2563eb] uppercase"
              >
                Stop living in spreadsheets
              </p>
              <h2
                class="text-2xl md:text-[28px] font-bold tracking-tight text-slate-900"
              >
                Stop managing your millions in spreadsheets.
              </h2>
              <p class="text-sm md:text-base text-slate-600 max-w-xl">
                Bring your Taiwan, US and offshore assets回到同一個畫面，
                讓 Taimic 幫你處理匯率、稅務門檻與結構風險，你只需要專心做決策。
              </p>
            </div>

            <div class="flex justify-center md:justify-end w-full md:w-auto">
              <button
                type="button"
                class="inline-flex items-center justify-center px-7 py-3.5 rounded-full bg-white text-slate-900 text-sm md:text-base font-semibold shadow-md border border-slate-200 hover:shadow-lg hover:-translate-y-0.5 transition"
              >
                Create your Taimic account
              </button>
            </div>
          </div>
        </div>
      </section>

      <section class="py-10 hidden">
        <div class="max-w-[1440px] mx-auto px-6 w-full">
          <div class="panel px-6 md:px-8 lg:px-10 py-8 md:py-10">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
              <div
                class="p-6 border border-gray-200 rounded-xl hover:border-[#0066cc] transition-colors bg-white"
              >
                <div class="flex justify-between items-start mb-4">
                  <h3
                    class="text-xs font-bold text-gray-500 uppercase tracking-[0.18em]"
                    data-i18n="stat.us"
                  >
                    US Net Worth
                  </h3>
                  <span class="text-xl">🇺🇸</span>
                </div>
                <div
                  class="text-3xl font-bold text-[#111827] font-mono tracking-tight val-display"
                  data-usd="482500"
                >
                  ...
                </div>
                <div
                  class="mt-2 text-xs font-medium text-green-600 flex items-center gap-1"
                >
                  <i class="fa-solid fa-arrow-trend-up"></i> +4.2% YTD
                </div>
              </div>

              <div
                class="p-6 border border-gray-200 rounded-xl hover:border-[#0066cc] transition-colors bg-white"
              >
                <div class="flex justify-between items-start mb-4">
                  <h3
                    class="text-xs font-bold text-gray-500 uppercase tracking-[0.18em]"
                    data-i18n="stat.tw"
                  >
                    Taiwan Net Worth
                  </h3>
                  <span class="text-xl">🇹🇼</span>
                </div>
                <div
                  id="val-tw"
                  class="text-3xl font-bold text-[#111827] font-mono tracking-tight val-display"
                  data-usd="315200"
                >
                  ...
                </div>
                <div
                  class="mt-2 text-xs font-medium text-green-600 flex items-center gap-1"
                >
                  <i class="fa-solid fa-arrow-trend-up"></i> +1.8% YTD
                </div>
              </div>

              <div
                class="p-6 bg-[#eff4fb] border border-blue-100 rounded-xl"
              >
                <div class="flex justify-between items-start mb-4">
                  <h3
                    class="text-xs font-bold text-[#0066cc] uppercase tracking-[0.2em]"
                    data-i18n="stat.global"
                  >
                    Global Net Worth
                  </h3>
                  <i class="fa-solid fa-globe text-[#0066cc]"></i>
                </div>
                <div
                  id="val-global"
                  class="text-3xl font-bold text-[#0066cc] font-mono tracking-tight val-display"
                  data-usd="797700"
                >
                  ...
                </div>
                <div
                  class="mt-2 text-xs font-medium text-gray-600 flex items-center gap-1"
                >
                  <i class="fa-solid fa-shield-check text-[#0066cc]"></i>
                  <span data-i18n="stat.safe">Estate tax risk: safe</span>
                </div>
              </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
              <div class="lg:col-span-2">
                <div
                  id="ai-alert"
                  class="hidden mb-8 bg-orange-50 border-l-4 border-orange-500 rounded-lg p-5 flex gap-4 animate-fade-in"
                >
                  <div class="text-orange-500 pt-1">
                    <i class="fa-solid fa-triangle-exclamation text-lg"></i>
                  </div>
                  <div>
                    <h4
                      class="font-bold text-[#111827] text-sm mb-1"
                      data-i18n="alert.title"
                    >
                      AI tax alert: potential FATCA risk detected
                    </h4>
                    <p
                      class="text-sm text-gray-700 leading-relaxed"
                      data-i18n="alert.desc"
                    >
                      A new high cash-value policy in Taiwan may exceed the
                      Form 8938 reporting threshold.
                    </p>
                    <button
                      class="mt-3 text-xs font-bold text-[#0066cc] uppercase tracking-wide hover:underline"
                    >
                      View detailed report &rarr;
                    </button>
                  </div>
                </div>

                <div
                  class="flex justify-between items-end mb-4 pb-2 border-b border-gray-200"
                >
                  <h3
                    class="text-lg font-bold text-[#111827]"
                    data-i18n="table.title"
                  >
                    Holdings
                  </h3>
                  <button
                    class="text-xs text-[#0066cc] font-bold uppercase hover:text-[#004c99] flex items-center gap-1"
                  >
                    <i class="fa-solid fa-file-export"></i> Export
                  </button>
                </div>

                <div class="overflow-x-auto">
                  <table class="w-full text-left text-sm">
                    <thead>
                      <tr
                        class="text-xs text-gray-500 uppercase tracking-[0.16em]"
                      >
                        <th
                          class="pl-2 pb-3 border-b-2 border-gray-100"
                          data-i18n="col.name"
                        >
                          Asset
                        </th>
                        <th
                          class="pb-3 border-b-2 border-gray-100"
                          data-i18n="col.region"
                        >
                          Region
                        </th>
                        <th
                          class="pb-3 border-b-2 border-gray-100"
                          data-i18n="col.type"
                        >
                          Type
                        </th>
                        <th
                          class="pr-2 pb-3 border-b-2 border-gray-100 text-right"
                          data-i18n="col.val"
                        >
                          Value
                        </th>
                      </tr>
                    </thead>
                    <tbody id="asset-list"></tbody>
                  </table>
                </div>
              </div>

              <div class="space-y-8">
               
                
              </div>
            </div>
          </div>
        </div>
      </section>
    </section>

    <section
      id="section-pricing"
      class="hidden bg-[#eef2ff] border-t border-gray-200"
    >
      <div class="max-w-[1100px] mx-auto px-6 pt-14 pb-20">
        <div class="text-center">
          <div class="flex items-center justify-center gap-3 mb-3">
            <svg class="logo-clock-hero" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="clockGradient" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#bfdbfe" />
                  <stop offset="100%" stop-color="#60a5fa" />
                </linearGradient>
              </defs>
              <circle cx="50" cy="50" r="46" class="clock-outer" />
              <circle cx="50" cy="50" r="38" class="clock-inner" />
              <circle cx="50" cy="50" r="30" class="clock-core" />
              <line
                x1="50"
                y1="12"
                x2="50"
                y2="18"
                class="clock-tick-line"
              />
              <line
                x1="88"
                y1="50"
                x2="82"
                y2="50"
                class="clock-tick-line"
              />
              <line
                x1="50"
                y1="82"
                x2="50"
                y2="88"
                class="clock-tick-line"
              />
              <line
                x1="18"
                y1="50"
                x2="12"
                y2="50"
                class="clock-tick-line"
              />
              <line
                x1="50"
                y1="50"
                x2="50"
                y2="30"
                class="hand hand-hour"
              />
              <line
                x1="50"
                y1="50"
                x2="66"
                y2="34"
                class="hand hand-minute"
              />
              <circle cx="50" cy="50" r="3.2" class="center-dot" />
            </svg>

            <h1
              class="text-[34px] md:text-[40px] font-extrabold tracking-tight text-[#0f172a]"
            >
              Start <span class="text-[#0066cc]">Taimic</span> for free.
            </h1>
          </div>

          <p
            class="text-sm md:text-base text-gray-600 max-w-2xl mx-auto"
          >
            Whether you’re just mapping your global balance sheet or preparing
            for FATCA / CRS, pick a plan that grows with your cross-border
            life.
          </p>

          <div class="flex items-center justify-center gap-4 mt-7">
            <span
              id="billing-label-monthly"
              class="text-sm font-medium text-gray-900"
              >Monthly</span
            >
            <button
              type="button"
              onclick="toggleBilling()"
              class="relative w-11 h-6 rounded-full bg-gray-300 flex items-center px-1 transition-colors"
            >
              <div
                id="billing-toggle-knob"
                class="w-4 h-4 bg-white rounded-full shadow transform transition-transform translate-x-0"
              ></div>
            </button>
            <span
              id="billing-label-yearly"
              class="text-sm font-medium text-gray-500"
              >Annually</span
            >
            <span
              class="text-[11px] text-[#2563eb] font-semibold bg-blue-50 border border-blue-100 rounded-full px-2 py-0.5"
            >
              2 months free
            </span>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
          <div
            class="bg-white rounded-3xl border border-gray-200 shadow-sm p-8 flex flex-col relative overflow-hidden group pricing-card"
          >
            <div
              class="absolute inset-0 pointer-events-none bg-gradient-to-b from-blue-50/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"
            ></div>
            <div class="relative z-10">
              <h3 class="text-sm font-semibold text-gray-700 mb-1">
                Starter
              </h3>
              <p class="text-xs text-gray-500 mb-4">
                For trying Taimic with a small cross-border portfolio.
              </p>
              <div class="flex items-baseline gap-1 mb-1">
                <div
                  class="text-3xl font-bold text-gray-900"
                  data-plan-price
                  data-monthly="$0"
                  data-yearly="$0"
                >
                  $0
                </div>
                <span class="text-sm text-gray-500">/ month</span>
              </div>
              <button
                class="mt-4 w-full py-2.5 rounded-xl bg-gray-900 text-white text-sm font-semibold hover:bg-black transition"
              >
                Get started
              </button>
              <ul class="mt-6 space-y-2 text-sm text-gray-600">
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Up to 3 brokerage / bank accounts</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Basic global net-worth dashboard</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Single-currency view (USD or TWD)</span>
                </li>
              </ul>
            </div>
          </div>

          <div
            class="bg-white rounded-3xl border border-gray-200 shadow-sm p-8 flex flex-col relative overflow-hidden group pricing-card"
          >
            <div
              class="absolute inset-0 pointer-events-none bg-gradient-to-b from-blue-50/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"
            ></div>
            <div class="relative z-10">
              <div class="flex items-center justify-between mb-1">
                <h3 class="text-sm font-semibold text-gray-800">Pro</h3>
                <span
                  class="text-[11px] font-semibold text-[#2563eb] bg-blue-50 px-2 py-0.5 rounded-full border border-blue-100"
                >
                  Most popular
                </span>
              </div>
              <p class="text-xs text-gray-500 mb-4">
                For globally mobile families who want full visibility across
                countries and currencies.
              </p>
              <div class="flex items-baseline gap-1 mb-1">
                <div
                  class="text-3xl font-bold text-gray-900"
                  data-plan-price
                  data-monthly="$29"
                  data-yearly="$290"
                >
                  $29
                </div>
                <span class="text-sm text-gray-500">/ month</span>
              </div>
              <p class="text-[11px] text-gray-500 mb-4">
                Billed annually as $290 when yearly is selected.
              </p>
              <button
                class="mt-1 w-full py-2.5 rounded-xl bg-[#2563eb] text-white text-sm font-semibold hover:bg-[#1d4ed8] transition"
              >
                Subscribe
              </button>
              <ul class="mt-6 space-y-2 text-sm text-gray-700">
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Unlimited accounts across multiple countries</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Multi-currency consolidated net-worth &amp; performance</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>FATCA / FBAR / CRS threshold monitoring</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Basic inheritance &amp; “what-if” simulations</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Email support with cross-border specialists</span>
                </li>
              </ul>
            </div>
          </div>

          <div
            class="bg-white rounded-3xl border border-gray-200 shadow-sm p-8 flex flex-col relative overflow-hidden group pricing-card"
          >
            <div
              class="absolute inset-0 pointer-events-none bg-gradient-to-b from-blue-50/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"
            ></div>
            <div class="relative z-10">
              <h3 class="text-sm font-semibold text-gray-700 mb-1">
                Family Office
              </h3>
              <p class="text-xs text-gray-500 mb-4">
                For families working with tax / legal advisors who need deeper
                structure &amp; export.
              </p>
              <div class="flex items-baseline gap-1 mb-1">
                <div
                  class="text-3xl font-bold text-gray-900"
                  data-plan-price
                  data-monthly="$79"
                  data-yearly="$790"
                >
                  $79
                </div>
                <span class="text-sm text-gray-500">/ month</span>
              </div>
              <p class="text-[11px] text-gray-500 mb-4">
                Billed annually as $790 when yearly is selected.
              </p>
              <button
                class="mt-1 w-full py-2.5 rounded-xl bg-gray-900 text-white text-sm font-semibold hover:bg-black transition"
              >
                Talk to us
              </button>
              <ul class="mt-6 space-y-2 text-sm text-gray-600">
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Everything in Pro</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Advanced entity / trust / beneficiary mapping</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Downloadable reports for accountants &amp; lawyers</span>
                </li>
                <li class="flex gap-2">
                  <i
                    class="fa-solid fa-check text-[#16a34a] mt-1 text-xs"
                  ></i>
                  <span>Dedicated onboarding &amp; priority support</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="section-about" class="bg-[#dbeafe] border-t border-gray-200">
      <div class="max-w-[1100px] mx-auto px-6 pt-16 pb-20">
        <header class="mb-10">
          <div
            class="text-xs md:text-sm font-bold tracking-[0.28em] text-gray-400 uppercase mb-1"
          >
            HOME
          </div>

          <div class="flex items-center gap-3">
            <h1
              class="text-[34px] md:text-[42px] font-extrabold tracking-tight text-[#0f172a]"
            >
              About <span class="text-[#0066cc]">Taimic</span>
            </h1>

            <svg class="logo-clock-hero logo-clock-about" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="clockGradient" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#bfdbfe" />
                  <stop offset="100%" stop-color="#60a5fa" />
                </linearGradient>
              </defs>
              <circle cx="50" cy="50" r="46" class="clock-outer" />
              <circle cx="50" cy="50" r="38" class="clock-inner" />
              <circle cx="50" cy="50" r="30" class="clock-core" />
              <line
                x1="50"
                y1="12"
                x2="50"
                y2="18"
                class="clock-tick-line"
              />
              <line
                x1="88"
                y1="50"
                x2="82"
                y2="50"
                class="clock-tick-line"
              />
              <line
                x1="50"
                y1="82"
                x2="50"
                y2="88"
                class="clock-tick-line"
              />
              <line
                x1="18"
                y1="50"
                x2="12"
                y2="50"
                class="clock-tick-line"
              />
              <line
                x1="50"
                y1="50"
                x2="50"
                y2="30"
                class="hand hand-hour"
              />
              <line
                x1="50"
                y1="50"
                x2="66"
                y2="34"
                class="hand hand-minute"
              />
              <circle cx="50" cy="50" r="3.2" class="center-dot" />
            </svg>
          </div>

          <p
            class="mt-4 text-sm md:text-base text-gray-700 max-w-2xl leading-relaxed"
          >
            Taimic is an AI-enabled cross-border wealth and legacy management
            platform built for globally mobile families. We help you bring assets
            held in multiple countries back into a single view, reduce compliance
            risk under complex tax regimes, and think ahead about how your wealth
            will be structured and shared.
          </p>
        </header>

        <div
          class="bg-white/95 rounded-3xl shadow-sm border border-gray-200 p-6 md:p-8 leading-relaxed text-sm md:text-[15px] text-gray-800 space-y-6"
        >
          <div id="about-zh" class="space-y-6">
            <p>
              Taimic 是一個專為跨國移動家庭打造、結合 AI 的跨境資產與傳承管理平台。
            </p>
            <p>
              我們協助在多國生活、工作與投資的家庭，把分散在不同國家的資產拉回同一個畫面，
              降低複雜稅制帶來的合規風險，同時提早思考財富要如何被規劃與分配，
              讓您不需要再每天沉在 Excel、截圖與人工換匯計算裡。
            </p>
            <p>
              對很多跨境家庭來說，真正的問題不是「有沒有在投資」，而是：
            </p>
            <p class="font-semibold text-gray-900">
              「我到底有多少資產、分散在哪裡、風險和稅務長什麼樣子？」
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              我們在解決的問題
            </h2>
            <p>對很多跨境家庭來說，真實的生活其實長這樣：</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                券商帳戶在一個國家，退休金與保單在另一個國家，房產又在第三個地方。
              </li>
              <li>
                現金、定存、基金、ETF 散落在不同銀行與平台，幣別也都不一樣。
              </li>
              <li>
                只要想回答「我到底值多少？」或「會不會踩到 FATCA／FBAR／CRS 的門檻？」就得自己打開
                Excel、下載對帳單、查歷史匯率，慢慢一格一格對。
              </li>
              <li>
                一旦家裡有人發生意外，其他成員往往連有哪些跨國資產都不知道，更別說怎麼申請、怎麼被課稅與怎麼分配。
              </li>
            </ul>
            <p>
              市面上的工具大多只處理其中一小塊：
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>匯款 App 只管「錢怎麼從 A 到 B」。</li>
              <li>記帳 App 只管「你花了多少」。</li>
              <li>有些服務只做單一國家的投資或線上遺囑。</li>
            </ul>
            <p>
              真正把<strong>「跨境資產＋合規風險＋傳承規劃」</strong
              >當成同一個系統在處理的產品，幾乎不存在。
              Taimic 想做的，就是填補這塊被忽略、但對您至關重要的空白。
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              我們怎麼做（產品核心）
            </h2>
            <p>
              Taimic 的核心，是一個結合多國資產整合、合規風險分析以及 AI
              洞察的平台。 我們目前聚焦三個方向：
            </p>

            <h3 class="font-semibold text-gray-900 mt-3">
              1. 跨國資產整合（Consolidated Multi-Country View）
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                整合不同國家的券商帳戶、現金、保單與房產到同一個儀表板 (Dashboard)。
              </li>
              <li>
                以統一的幣別與視角呈現市值、成本、損益、資產配置與集中度。
              </li>
              <li>
                讓使用者不再只看「單一平台損益」，而是真正看懂「整體結構」。
              </li>
            </ul>

            <h3 class="font-semibold text-gray-900 mt-3">
              2. 合規風險與結構分析（Compliance &amp; Risk Analytics）
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>追蹤 FATCA／FBAR／CRS 相關門檻與關鍵餘額。</li>
              <li>
                分析國家別、資產類別、產業與單一標的的曝險程度，幫你看出「資產壓在哪裡」。
              </li>
              <li>
                讓稅務與風險不再是憑感覺的擔憂，而是清晰的數據。
              </li>
            </ul>

            <h3 class="font-semibold text-gray-900 mt-3">
              3. AI 賦能的財富洞察（AI-Driven Insights）
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                利用 AI 針對您的實際持有部位，整理相關的法規更新、稅務重點與情境模擬。
              </li>
              <li>
                從「如果我明天突然不在了，資產會怎麼流動？」到「現在這種資產結構對家人公平嗎？」都可以先在系統裡演練。
              </li>
              <li>
                我們的目標，是讓您在走進會計師或律師事務所之前，就已經搞懂現況、準備好要問的關鍵問題。
              </li>
            </ul>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              Taimic 適合誰？
            </h2>
            <p>
              Taimic 是為那些<strong>「同時活在兩個以上制度裡」</strong
              >的人設計的：
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>長期在兩個以上國家之間生活、工作或退休的家庭。</li>
              <li>
                同時持有多國資產（證券、保單、房產、現金），但覺得一切非常分散的人。
              </li>
              <li>
                知道自己應該關心 FATCA／FBAR／CRS／遺產稅等議題，卻沒有時間、工具或精力每年重算一次的人。
              </li>
              <li>
                想從「只看單一券商損益」進化到「理解整體跨境資產配置與風險結構」的自主人。
              </li>
            </ul>
            <p class="font-semibold text-gray-900">
              如果您心裡曾經浮現過：「我知道該看整體資產跟風險，但我太忙，又沒有好工具。」那麼
              Taimic 就是為您而做的。
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              我們相信的未來
            </h2>
            <p>我們相信，跨境家庭值得比現在更好的選擇：</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>不該只有超高淨值客戶，才拿得到 Family Office 等級的報表。</li>
              <li>
                不該只有機構投資人，才用得起高規格的風險與結構分析工具。
              </li>
              <li>
                也不該必須自己東拼西湊資料、到處詢問，才有辦法搞懂自己的跨國資產會怎麼被課稅、最後會怎麼被處理和分配。
              </li>
            </ul>
            <p>
              所以，Taimic 的長期目標是：
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>讓跨國資產管理變得直覺、透明、可視化。</li>
              <li>讓 AI 成為您的財務輔助大腦，而不是黑箱。</li>
              <li>
                讓更多跨境家庭，在全球市場與多國制度之間，能用更聰明、更冷靜的方式管理與分配自己的資產，而不是只被新聞、情緒或恐懼推著走。
              </li>
            </ul>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              現在的我們與下一步
            </h2>
            <p>
              我們從幾條「跨境複雜度最高」的走廊開始，例如亞洲與北美之間的家庭——那裡同時存在高資產密度、嚴格稅制與真實的資產分配需求。
            </p>
            <p>
              從第一天開始，我們就沒有把產品綁死在特定國家組合，而是設計成一套可擴展的跨境架構：
              不論是亞洲 ↔ 北美、歐洲 ↔ 亞洲，或是其他組合，都可以被納入同一套邏輯之中。
            </p>
            <p>
              接下來，我們會依據實際使用者案例與需求，逐步加入：
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>更細緻的資產分類與視覺化工具</li>
              <li>對特定市場與跨境走廊的深度支援模組</li>
              <li>與專業顧問（會計師／律師）的串接與轉介機制</li>
            </ul>
            <p>
              我們希望成為那個讓您<strong>「先看懂自己狀況、問對問題，再走進會議室」</strong
              >的核心平台。
            </p>
            <p>
              如果您也相信，看懂自己的全球資產，是邁向財務安全與長期資產規劃的第一步，
              歡迎加入 Taimic，拿回您對全球財富的掌控權。
            </p>
          </div>

          <div id="about-en" class="hidden space-y-6">
            <p>
              Taimic is an AI-enabled cross-border wealth and legacy management
              platform built for globally mobile families.
            </p>
            <p>
              We help families who live, work and invest across multiple
              countries bring their scattered assets back into a single view,
              reduce compliance risk under complex tax regimes, and think ahead
              about how their wealth will be structured and shared – without
              spending every day inside Excel, screenshots and manual FX
              calculations.
            </p>
            <p>
              For many cross-border families, the real question isn’t “am I
              investing enough?” but:
            </p>
            <p class="font-semibold text-gray-900">
              “How much do I actually have, where is it scattered, and what do
              my risks and tax exposure really look like?”
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              The problem we are solving
            </h2>
            <p>In reality, life for a cross-border family often looks like this:</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Brokerage accounts in one country, pensions and policies in
                another, property in a third.
              </li>
              <li>
                Cash, time deposits, funds and ETFs spread across banks and
                platforms, all in different currencies.
              </li>
              <li>
                To answer “what am I actually worth?” or “will I trigger FATCA /
                FBAR / CRS thresholds?” you have to open Excel, download
                statements, look up historical FX and reconcile line by line.
              </li>
              <li>
                If something happens to one family member, the others may not
                even know what cross-border assets exist, let alone how they
                will be taxed or distributed.
              </li>
            </ul>
            <p>
              Most tools on the market only solve a small slice of this:
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>Remittance apps only care about “how money moves from A to B”.</li>
              <li>Budgeting apps only care about “how much you spent”.</li>
              <li>
                Some services cover a single-country brokerage view or an online
                will.
              </li>
            </ul>
            <p>
              A product that truly treats
              <strong
                >“cross-border assets + compliance risk + legacy
                planning”</strong
              >
              as one integrated system almost doesn’t exist. Taimic aims to fill
              this overlooked but critical gap.
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              How we do it – product core
            </h2>
            <p>
              At its core, Taimic combines multi-country asset consolidation,
              compliance &amp; risk analytics, and AI-driven insights. We
              currently focus on three areas:
            </p>

            <h3 class="font-semibold text-gray-900 mt-3">
              1. Consolidated multi-country view
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Bring brokerage accounts, cash, insurance and property from
                different jurisdictions into one dashboard.
              </li>
              <li>
                Show market value, cost basis, P&amp;L, allocation and
                concentration using a single base currency.
              </li>
              <li>
                Shift the view from “single platform P&amp;L” to truly
                understanding your “overall structure”.
              </li>
            </ul>

            <h3 class="font-semibold text-gray-900 mt-3">
              2. Compliance &amp; risk analytics
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Track thresholds and key balances related to FATCA, FBAR and
                CRS.
              </li>
              <li>
                Analyze exposure by country, asset class, sector and single name
                to show where risk is concentrated.
              </li>
              <li>
                Turn tax and risk from a vague worry into clear, data-driven
                insight.
              </li>
            </ul>

            <h3 class="font-semibold text-gray-900 mt-3">
              3. AI-driven wealth insights
            </h3>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Use AI to map your actual holdings to relevant rule changes, tax
                issues and scenario simulations.
              </li>
              <li>
                Explore questions from “If I suddenly weren’t here tomorrow, how
                would assets flow?” to “Is this structure fair for my family?”
                before you walk into a professional’s office.
              </li>
              <li>
                Our goal is that you already understand your position and know
                what to ask before meeting your advisors.
              </li>
            </ul>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              Who Taimic is for
            </h2>
            <p>
              Taimic is built for people who effectively live inside
              <strong>more than one system at the same time</strong>:
            </p>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Families living, working or retiring long-term across two or
                more countries.
              </li>
              <li>
                People holding multi-country assets (securities, policies,
                property, cash) but feeling everything is fragmented.
              </li>
              <li>
                Those who know they should care about FATCA / FBAR / CRS / estate
                tax, but lack the time, tools or energy to recalculate everything
                every year.
              </li>
              <li>
                Self-directed investors who want to move from “single broker
                P&amp;L” to “full cross-border structure &amp; risk view”.
              </li>
            </ul>
            <p class="font-semibold text-gray-900">
              If you’ve ever thought, “I know I should look at the whole picture,
              but I’m too busy and have no good tools,” then Taimic is built for
              you.
            </p>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              The future we believe in
            </h2>
            <p>We believe cross-border families deserve better options than what exists today:</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>
                Family Office-level reporting shouldn’t be limited only to ultra
                high-net-worth clients.
              </li>
              <li>
                Institutional-grade risk and structure analytics shouldn’t be
                reserved just for large institutions.
              </li>
              <li>
                You shouldn’t have to stitch together data and ask around
                everywhere just to understand how your cross-border assets will
                be taxed, processed and eventually distributed.
              </li>
            </ul>
            <p>So our long-term goals for Taimic are:</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>Make cross-border asset management intuitive, transparent and visual.</li>
              <li>Let AI act as an assistive financial brain – not a black box.</li>
              <li>
                Help more cross-border families manage and allocate wealth calmly
                and intelligently across markets and regimes, instead of being
                pushed around only by headlines, emotions or fear.
              </li>
            </ul>

            <h2 class="text-base md:text-lg font-semibold text-[#0f172a] mt-4">
              Where we are now &amp; what’s next
            </h2>
            <p>
              We started with some of the highest-complexity corridors, such as
              families moving between Asia and North America – regions that
              combine high asset density, strict tax rules and real
              inter-generational transfer needs.
            </p>
            <p>
              From day one, we have not locked the product to any single country
              pair. Instead, we designed an extensible cross-border framework
              where Asia ↔ North America, Europe ↔ Asia and other combinations
              can all be modeled under the same logic.
            </p>
            <p>Next, based on real user cases and needs, we will gradually add:</p>
            <ul class="list-disc pl-5 space-y-2">
              <li>More granular asset classifications and visualization tools</li>
              <li>
                Deep support modules for specific markets and cross-border
                corridors
              </li>
              <li>
                Integration and referral workflows with professional advisors
                (accountants / lawyers)
              </li>
            </ul>
            <p>
              We aim to be the core platform that lets you
              <strong
                >understand your situation first, ask better questions, and then
                walk into the meeting room.</strong
              >
            </p>
            <p>
              If you also believe that understanding your global assets is the
              first step toward financial security and long-term planning, we’d
              love for you to join Taimic and take back control of your global
              wealth.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="section-reports" class="hidden reports-section">
      <div class="reports-shell w-full">
        <div class="max-w-[1100px] mx-auto px-6 py-16 flex items-center justify-center">
          <div
            class="w-full max-w-md bg-white rounded-3xl border border-blue-100 shadow-xl md:shadow-2xl p-8 md:p-9 animate-fade-in"
          >
            <div
              class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-blue-50 border border-blue-100 mb-5"
            >
              <div
                class="w-6 h-6 rounded-full bg-[#e0edff] flex items-center justify-center text-[#1d4ed8]"
              >
                <i class="fa-solid fa-lock text-xs"></i>
              </div>
              <span
                class="text-[11px] font-semibold tracking-[0.16em] text-slate-600 uppercase"
              >
                Reports • Private area
              </span>
            </div>

            <div
              id="reports-gate-en"
              class="space-y-4 text-slate-900 text-sm md:text-[15px] leading-relaxed"
            >
              <h1
                class="text-[22px] md:text-[24px] font-bold tracking-tight text-slate-900"
              >
                Unlock your asset insights.
              </h1>
              <p>
                Sign in to see your full cross-border reports, tax thresholds and
                AI insights — all based on your real holdings, not just demo
                data.
              </p>

              <ul class="list-disc pl-5 space-y-1.5 text-slate-700">
                <li>Consolidated Taiwan + global positions in one private report room.</li>
                <li>FATCA / FBAR / CRS threshold tracking and risk flags.</li>
                <li>Scenario views for your family, legacy and cross-border structure.</li>
              </ul>

              <div class="pt-1">
                <p class="text-xs text-slate-500">
                  Reports are only available to logged-in Taimic users to protect
                  your privacy.
                </p>
              </div>

              <div class="pt-4 flex flex-col sm:flex-row gap-3">
                <button
                  type="button"
                  onclick="openAuthModal('login')"
                  class="flex-1 inline-flex items-center justify-center gap-2 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm font-semibold py-2.5 shadow-sm transition"
                >
                  <i class="fa-solid fa-right-to-bracket text-xs"></i>
                  <span>Log in to Taimic</span>
                </button>

                <button
                  type="button"
                  onclick="openAuthModal('register')"
                  class="flex-1 inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white hover:bg-slate-50 text-sm font-semibold text-slate-800 py-2.5 transition"
                >
                  <i class="fa-solid fa-user-plus text-xs"></i>
                  <span>Create an account</span>
                </button>
              </div>
            </div>

            <div
              id="reports-gate-zh"
              class="hidden space-y-4 text-slate-900 text-sm md:text-[15px] leading-relaxed"
            >
              <h1
                class="text-[22px] md:text-[24px] font-bold tracking-tight text-slate-900"
              >
                解鎖你的跨境資產視角。
              </h1>
              <p>
                登入後即可查看你的完整報表、跨國門檻追蹤與 AI 洞察 —— 所有內容都建立在你真實持有的資產結構上，而不是示意數字。
              </p>

              <ul class="list-disc pl-5 space-y-1.5 text-slate-700">
                <li>把台灣＋海外資產拉回同一個「私人報表室」。</li>
                <li>追蹤 FATCA／FBAR／CRS 等關鍵門檻與風險標記。</li>
                <li>針對家人與資產傳承做情境試算與結構檢視。</li>
              </ul>

              <div class="pt-1">
                <p class="text-xs text-slate-500">
                  為保障你的隱私，報表僅提供登入用戶查看，不會對外公開。
                </p>
              </div>

              <div class="pt-4 flex flex-col sm:flex-row gap-3">
                <button
                  type="button"
                  onclick="openAuthModal('login')"
                  class="flex-1 inline-flex items-center justify-center gap-2 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm font-semibold py-2.5 shadow-sm transition"
                >
                  <i class="fa-solid fa-right-to-bracket text-xs"></i>
                  <span>登入 Taimic</span>
                </button>

                <button
                  type="button"
                  onclick="openAuthModal('register')"
                  class="flex-1 inline-flex items-center justify-center gap-2 rounded-full border border-slate-200 bg-white hover:bg-slate-50 text-sm font-semibold text-slate-800 py-2.5 transition"
                >
                  <i class="fa-solid fa-user-plus text-xs"></i>
                  <span>建立帳號</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-[#f4f6fb] border-t border-gray-200">
    <div class="max-w-[1440px] mx-auto px-6 pt-10 pb-4">
      <div
        class="flex flex-col lg:flex-row gap-10 lg:gap-20 pb-8 border-b border-gray-200"
      >
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-4">
            <svg class="logo-clock" viewBox="0 0 100 100">
              <circle cx="50" cy="50" r="46" class="clock-outer" />
              <circle cx="50" cy="50" r="38" class="clock-inner" />
              <circle cx="50" cy="50" r="30" class="clock-core" />
            </svg>
            <div>
              <div class="text-[20px] font-bold text-[#0066cc] leading-none">
                TAIMIC
              </div>
              <div
                class="text-[10px] tracking-[0.18em] text-gray-500 uppercase mt-1"
              >
                Global Wealth
              </div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-4">
            Cross-border wealth OS for globally mobile families.
          </p>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-sm">
          <div>
            <div class="footer-col-title">SOLUTIONS</div>
            <div class="footer-link">Cross-border families</div>
            <div class="footer-link">Immigrants &amp; expats</div>
            <div class="footer-link">Family offices</div>
            <div class="footer-link">Advisors</div>
          </div>
          <div>
            <div class="footer-col-title">PLATFORM</div>
            <div class="footer-link">Global dashboard</div>
            <div class="footer-link">Compliance checks</div>
            <div class="footer-link">Scenario planning</div>
            <div class="footer-link">AI insights</div>
          </div>
          <div>
            <div class="footer-col-title">RESOURCES</div>
            <div class="footer-link">Insights</div>
            <div class="footer-link">Product updates</div>
            <div class="footer-link">Partner program</div>
            <div class="footer-link">Status</div>
          </div>
          <div>
            <div class="footer-col-title">LEGAL</div>
            <div class="footer-link">Privacy Policy</div>
            <div class="footer-link">Terms of Service</div>
            <div class="footer-link">Data Processing</div>
            <div class="footer-link">Subprocessors</div>
          </div>
        </div>
      </div>

      <div
        class="flex flex-col md:flex-row items-center justify-between gap-4 pt-4 pb-2 text-xs text-gray-500"
      >
        <div>© 2025 Taimic Inc. All Rights Reserved.</div>
        <div class="flex items-center gap-4 text-gray-400">
          <i class="fa-brands fa-x-twitter"></i>
          <i class="fa-brands fa-discord"></i>
          <i class="fa-brands fa-instagram"></i>
          <i class="fa-brands fa-github"></i>
        </div>
      </div>
    </div>
  </footer>

  <div
    id="modal-overlay"
    class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div
      class="bg-white w-full max-w-md shadow-2xl rounded-xl overflow-hidden relative transform transition-all"
    >
      <div class="bg-[#0066cc] p-4 flex justify-between items-center text-white">
        <h3
          class="font-bold text-sm tracking-wide"
          data-i18n="modal.title"
        >
          Add Taiwan asset (AI OCR)
        </h3>
        <i
          class="fa-solid fa-xmark cursor-pointer hover:opacity-80 text-lg"
          onclick="closeUploadModal()"
        ></i>
      </div>

      <div id="modal-step-1" class="p-8 text-center">
        <div
          class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 text-[#0066cc]"
        >
          <i class="fa-solid fa-cloud-arrow-up text-2xl"></i>
        </div>
        <p
          class="text-sm text-gray-600 mb-6 leading-relaxed"
          data-i18n="modal.desc"
        >
          Upload a policy front page or bank statement, Taimic will extract key
          data with AI.
        </p>
        <button
          onclick="startScan()"
          class="w-full border-2 border-dashed border-gray-300 py-4 rounded-xl hover:border-[#0066cc] hover:bg-blue-50 transition-all text-gray-500 hover:text-[#0066cc] font-bold text-sm"
        >
          <span data-i18n="btn.upload">Click to upload file</span>
        </button>
      </div>

      <div id="modal-step-2" class="hidden relative h-64 bg-[#050816]">
        <div
          class="absolute inset-0 flex flex-col items-center justify-center z-10"
        >
          <p
            class="text-white font-mono text-sm mb-2"
            data-i18n="modal.scanning"
          >
            AI processing...
          </p>
          <div class="w-48 h-1 bg-gray-700 rounded overflow-hidden mb-4">
            <div
              id="scan-bar"
              class="h-full bg-[#3b82f6] w-0 transition-all duration-[3000ms] ease-linear"
            ></div>
          </div>
          <div
            id="scan-log"
            class="text-[10px] text-green-400 font-mono h-12 flex flex-col items-center gap-1"
          ></div>
        </div>
        <div class="scan-overlay absolute inset-0"></div>
      </div>
    </div>
  </div>

  <div
    id="auth-overlay"
    class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div class="bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden">
      <div
        class="bg-[#1d4ed8] px-6 py-4 flex items-center justify-between text-white"
      >
        <h3 id="auth-title" class="font-bold text-base">
          Create a Taimic account
        </h3>
        <button onclick="closeAuthModal()" class="hover:opacity-80">
          <i class="fa-solid fa-xmark text-xl"></i>
        </button>
      </div>
      <div class="px-8 py-8 space-y-6">
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700"
            >Email</label
          >
          <input
            id="auth-email"
            type="email"
            placeholder="you@gmail.com"
            class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb] placeholder-gray-400"
          />
        </div>
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700"
            >Password</label
          >
          <input
            id="auth-password"
            type="password"
            placeholder="At least 6 characters"
            class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]"
          />
        </div>
        <p id="auth-message" class="text-sm h-5 text-center"></p>
        <button
          id="auth-submit"
          class="w-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold text-sm py-3 rounded-full flex items-center justify-center gap-2 transition"
        >
          <i class="fa-solid fa-arrow-right-to-bracket"></i>
          <span id="auth-submit-text">Sign up</span>
        </button>
      </div>
    </div>
  </div>

  <script>
    // 匯率：優先 API，備援常數 31.0（嚴格認定）
    const RATE_FALLBACK = 31.0;
    let RATE = RATE_FALLBACK;

    const FX_API = "https://open.er-api.com/v6/latest/USD";

    const RATE_LABEL_TEXT = {
      en: "Rates updated: Just now",
      zh: "匯率更新於：剛剛",
    };

    const RATE_LABEL_PREFIX = "1 USD ≈ ";

    const I18N = {
      en: {
        "nav.overview": "Overview",
        "nav.pricing": "Pricing",
        "nav.reports": "Reports",
        "nav.about": "About Taimic",
        "page.title": "Cross-border wealth platform",
        "page.desc":
          "Integrated view of Taiwan & US assets with FATCA / CRS compliance checks and AI insights.",
        "btn.add": "Add asset",
        "btn.upload": "Click to upload file",
        "stat.us": "US net worth",
        "stat.tw": "Taiwan net worth",
        "stat.global": "Global net worth",
        "stat.safe": "Estate tax risk: safe",
        "table.title": "Holdings",
        "col.name": "Asset",
        "col.region": "Region",
        "col.type": "Type",
        "col.val": "Value",
        "alert.title": "AI tax alert: potential FATCA risk detected",
        "alert.desc":
          "A new high cash-value policy in Taiwan may exceed the Form 8938 reporting threshold.",
        "chart.title": "Regional allocation",
        "chart.insight": "AI insight",
        "chart.desc":
          "Taiwan assets make up 40% of your net worth. Consider hedging TWD FX risk.",
        "modal.title": "Add Taiwan asset (AI OCR)",
        "modal.desc":
          "Upload a policy front page or bank statement, Taimic will extract key data with AI.",
        "modal.scanning": "AI processing...",
        "user.login": "Login",
        "user.register": "Sign up",
      },
      zh: {
        "nav.overview": "資產總覽",
        "nav.pricing": "價格",
        "nav.reports": "分析報告",
        "nav.about": "關於 Taimic",
        "page.title": "跨國資產整合平台",
        "page.desc":
          "整合台灣與海外資產，搭配 FATCA / CRS 稅務檢測與 AI 分析，讓跨境財務一眼看懂。",
        "btn.add": "新增資產",
        "btn.upload": "點擊上傳檔案",
        "stat.us": "美國總資產",
        "stat.tw": "台灣總資產",
        "stat.global": "全球總淨值",
        "stat.safe": "遺產稅風險：安全",
        "table.title": "資產持有清單",
        "col.name": "資產名稱",
        "col.region": "地區",
        "col.type": "類別",
        "col.val": "現值",
        "alert.title": "AI 稅務警示：偵測到 FATCA 風險",
        "alert.desc":
          "系統掃描到一張新增的台灣高現金價值保單，可能超過 IRS Form 8938 申報門檻。",
        "chart.title": "區域資產配置",
        "chart.insight": "AI 智能分析",
        "chart.desc": "您的台灣資產佔總淨值約 40%，建議評估台幣匯率風險。",
        "modal.title": "新增台灣資產 (AI OCR)",
        "modal.desc":
          "上傳保單首頁或銀行對帳單，AI 將自動提取關鍵數據。",
        "modal.scanning": "AI 分析中...",
        "user.login": "登入",
        "user.register": "註冊",
      },
    };

    const assets = [
      {
        id: 1,
        name: {
          en: "Vanguard Total Stock (VTI)",
          zh: "Vanguard 全球股票 ETF (VTI)",
        },
        type: { en: "ETF", zh: "指數型基金" },
        region: "US",
        usd: 145200,
      },
      {
        id: 2,
        name: { en: "Taipei Xinyi Condo", zh: "台北信義區公寓" },
        type: { en: "Real Estate", zh: "房地產" },
        region: "TW",
        usd: 280000,
      },
      {
        id: 3,
        name: { en: "Fidelity 401(k)", zh: "富達退休金 401(k)" },
        type: { en: "Retirement", zh: "退休金" },
        region: "US",
        usd: 98500,
      },
    ];

    let curr = "TWD";
    let lang = "en";
    let currentSection = "overview";
    let billing = "monthly";
    const API_BASE = "https://cool-cell-b227.amy20060226.workers.dev";
    
    // Hero Screener slide-up 狀態（讓卡片可以滑上來 / 滑回去）
    let heroCardOpen = false;
    let heroCardOuterEl = null;
    let heroOverlayEl = null;

    function openHeroCard() {
      if (!heroCardOuterEl || !heroOverlayEl) return;

      heroCardOuterEl.classList.add("hero-card-open");
      heroOverlayEl.classList.remove("hidden");
      heroOverlayEl.classList.add("hero-overlay-active");
      heroCardOpen = true;
    }

    function closeHeroCard() {
      if (!heroCardOuterEl || !heroOverlayEl) return;

      heroCardOuterEl.classList.remove("hero-card-open");
      heroOverlayEl.classList.add("hidden");
      heroOverlayEl.classList.remove("hero-overlay-active");
      heroCardOpen = false;
    }

    function fmt(usd) {
      const val = curr === "USD" ? usd : usd * RATE;
      return new Intl.NumberFormat(
        curr === "USD" ? "en-US" : "zh-TW",
        {
          style: "currency",
          currency: curr,
          maximumFractionDigits: 0,
        }
      ).format(val);
    }

    function updateRateLabel() {
      const label = document.getElementById("hero-rate-label");
      if (!label) return;
      const prefix = `${RATE_LABEL_PREFIX}${RATE.toFixed(2)} TWD`;
      const suffix = RATE_LABEL_TEXT[lang] || RATE_LABEL_TEXT.en;
      label.textContent = `${prefix} • ${suffix}`;
    }

    async function fetchFXRate() {
      try {
        const res = await fetch(FX_API);
        if (!res.ok) throw new Error("FX API error");
        const data = await res.json();
        const r = data && data.rates && data.rates.TWD;
        if (typeof r === "number" && r > 0) {
          RATE = r;
        } else {
          RATE = RATE_FALLBACK;
        }
      } catch (e) {
        RATE = RATE_FALLBACK;
      } finally {
        // 匯率更新後重新 render & 重算一次
        updateRateLabel();
        render();
        calculateHeroTotal();
      }
    }

    function render() {
      const t = I18N[lang];

      document.querySelectorAll("[data-i18n]").forEach((el) => {
        const key = el.dataset.i18n;
        if (t[key]) el.textContent = t[key];
      });

      document.querySelectorAll(".val-display").forEach((el) => {
        el.textContent = fmt(parseFloat(el.dataset.usd));
      });

      const tbody = document.getElementById("asset-list");
      if (tbody) {
        tbody.innerHTML = "";
        assets.forEach((a) => {
          const n = a.name[lang];
          const tp = a.type[lang];
          const flag = a.region === "US" ? "🇺🇸" : "🇹🇼";
          const badge =
            a.region === "US"
              ? "bg-blue-50 text-blue-700"
              : "bg-green-50 text-green-700";
          const hl = a.new ? "bg-orange-50 animate-fade-in" : "";
          const riskTag = a.risk
            ? `<span class="ml-2 inline-flex items-center px-2 py-0.5 bg-orange-100 text-orange-700 text-[10px] font-bold rounded-full border border-orange-200">FATCA</span>`
            : "";
          tbody.innerHTML += `
            <tr class="group transition-colors hover:bg-gray-50 border-b border-gray-100 last:border-0 ${hl}">
              <td class="py-4 pl-2">
                <div class="font-semibold text-[#111827] group-hover:text-[#0066cc] transition-colors">${n}</div>
              </td>
              <td class="py-4">
                <span class="px-2 py-1 rounded-full text-xs font-bold ${badge}">${flag} ${a.region}</span>${riskTag}
              </td>
              <td class="py-4 text-sm text-gray-600">${tp}</td>
              <td class="py-4 pr-2 text-right font-mono font-bold text-[#111827] tracking-tight">${fmt(
                a.usd
              )}</td>
            </tr>`;
        });
      }

      const btnUsd = document.getElementById("btn-usd");
      const btnTwd = document.getElementById("btn-twd");
      if (btnUsd && btnTwd) {
        if (curr === "USD") {
          btnUsd.className = "px-4 py-2 bg-white text-[#0066cc] font-semibold";
          btnTwd.className = "px-4 py-2 text-gray-500 hover:bg-gray-100";
        } else {
          btnTwd.className = "px-4 py-2 bg-white text-[#0066cc] font-semibold";
          btnUsd.className = "px-4 py-2 text-gray-500 hover:bg-gray-100";
        }
      }

      const aboutZh = document.getElementById("about-zh");
      const aboutEn = document.getElementById("about-en");
      if (aboutZh && aboutEn) {
        if (lang === "zh") {
          aboutZh.classList.remove("hidden");
          aboutEn.classList.add("hidden");
        } else {
          aboutEn.classList.remove("hidden");
          aboutZh.classList.add("hidden");
        }
      }

      const reportsZh = document.getElementById("reports-gate-zh");
      const reportsEn = document.getElementById("reports-gate-en");
      if (reportsZh && reportsEn) {
        if (lang === "zh") {
          reportsZh.classList.remove("hidden");
          reportsEn.classList.add("hidden");
        } else {
          reportsEn.classList.remove("hidden");
          reportsZh.classList.add("hidden");
        }
      }

      updatePricing();
      updateRateLabel();
    }

    function setCurrency(c) {
      curr = c;
      render();
      calculateHeroTotal();
    }

    function changeLang(l) {
      lang = l;
      render();
      langMenu.classList.add("hidden");
      calculateHeroTotal();
    }

    function switchSection(section) {
      const ids = ["overview", "pricing", "about", "reports"];
      ids.forEach((id) => {
        const el = document.getElementById(`section-${id}`);
        if (el) el.classList.toggle("hidden", id !== section);
      });
      document.querySelectorAll("nav .nav-link").forEach((link) => {
        link.classList.toggle("active", link.dataset.section === section);
      });
      currentSection = section;

      if (section === "reports") {
        try {
          const raw = localStorage.getItem("taimic_demo_data");
          const hasDemo = !!raw;
          const headingEn = document.querySelector("#reports-gate-en h1");
          if (headingEn) {
            headingEn.textContent = hasDemo
              ? "Your Report is Ready! Sign in to view details."
              : "Unlock your asset insights.";
          }
        } catch (e) {
          console.error(e);
        }
      }

      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    function updatePricing() {
      document.querySelectorAll("[data-plan-price]").forEach((el) => {
        const m = el.dataset.monthly;
        const y = el.dataset.yearly;
        if (!m || !y) return;
        el.textContent = billing === "monthly" ? m : y;
      });
      const knob = document.getElementById("billing-toggle-knob");
      if (knob) {
        knob.classList.toggle("translate-x-0", billing === "monthly");
        knob.classList.toggle("translate-x-5", billing === "yearly");
      }
      const mLabel = document.getElementById("billing-label-monthly");
      const yLabel = document.getElementById("billing-label-yearly");
      if (mLabel && yLabel) {
        mLabel.classList.toggle("text-gray-900", billing === "monthly");
        mLabel.classList.toggle("text-gray-500", billing !== "monthly");
        yLabel.classList.toggle("text-gray-900", billing === "yearly");
        yLabel.classList.toggle("text-gray-500", billing !== "yearly");
      }
    }

    function toggleBilling() {
      billing = billing === "monthly" ? "yearly" : "monthly";
      updatePricing();
    }

    // Hero 金額顯示縮寫：避免位數太長爆版
    function formatUSDAbbrev(value) {
      const n = Number(value) || 0;
      const abs = Math.abs(n);
      if (abs >= 1e9) {
        const v = n / 1e9;
        const num = v >= 100 ? v.toFixed(0) : v.toFixed(1);
        return `$${num}B`;
      } else if (abs >= 1e6) {
        const v = n / 1e6;
        const num = v >= 100 ? v.toFixed(0) : v.toFixed(1);
        return `$${num}M`;
      } else if (abs >= 1e3) {
        const v = n / 1e3;
        const num = v >= 100 ? v.toFixed(0) : v.toFixed(1);
        return `$${num}K`;
      }
      return new Intl.NumberFormat("en-US", {
        style: "currency",
        currency: "USD",
        maximumFractionDigits: 0,
      }).format(n);
    }

    // 核心：Overview 智能合規風險快篩引擎（2025 最終版）
    function calculateHeroTotal() {
      const twdInput = document.getElementById("hero-twd");
      const usdInput = document.getElementById("hero-usd");
      const resultBox = document.getElementById("hero-result");
      const totalEl = document.getElementById("hero-total");

      const identityEl = document.getElementById("hero-identity");
      const residenceEl = document.getElementById("hero-residence");
      const cashChk = document.getElementById("hero-asset-cash");
      const stocksChk = document.getElementById("hero-asset-stocks");
      const fundsChk = document.getElementById("hero-asset-funds");
      const insuranceChk = document.getElementById("hero-asset-insurance");
      const assetsError = document.getElementById("hero-assets-error");

      if (
        !twdInput ||
        !usdInput ||
        !resultBox ||
        !totalEl ||
        !identityEl ||
        !residenceEl ||
        !cashChk ||
        !stocksChk ||
        !fundsChk ||
        !insuranceChk
      ) {
        return;
      }

      const twdRaw = (twdInput.value || "").replace(/,/g, "");
      const usdRaw = (usdInput.value || "").replace(/,/g, "");

      const twd = parseFloat(twdRaw) || 0;
      const usd = parseFloat(usdRaw) || 0;
      const hasAmount = twd > 0 || usd > 0;

      const assetsSelected =
        cashChk.checked ||
        stocksChk.checked ||
        fundsChk.checked ||
        insuranceChk.checked;

      if (!assetsSelected) {
        if (assetsError) assetsError.classList.remove("hidden");
      } else if (assetsError) {
        assetsError.classList.add("hidden");
      }

      // 無金額或無資產，直接隱藏結果
      const ctaBtn = document.getElementById("hero-cta-btn");
      if (!hasAmount || !assetsSelected) {
        resultBox.classList.add("hidden");
        if (ctaBtn) ctaBtn.classList.add("hidden");
        return;
      }

      const identity = identityEl.value; // "us" or "non-us"
      const residence = residenceEl.value; // "tw" or "us"
      const isUSPerson = identity === "us";

      const hasFunds = !!fundsChk.checked;
      const hasInsurance = !!insuranceChk.checked;
      const hasHighRiskPFIC = hasFunds || hasInsurance;

      const globalUsd = twd / RATE + usd;   // 全球資產總額 (USD)
      const usAssetsUsd = usd;              // US/Overseas 資產 (USD)
      const totalTwd = globalUsd * RATE;    // 全球資產 (TWD)

      // 台灣最低稅負制估算：假設 US Assets ROI = 5%
      const overseasROIusd = usAssetsUsd * 0.05;
      const overseasROItwd = overseasROIusd * RATE;

      // 顯示總額（含縮寫）
      totalEl.textContent = formatUSDAbbrev(globalUsd);
      updateRateLabel();

      // --- US Compliance 判斷 ---
      let usStatus = "safe"; // safe | warning | critical
      let hasUsRisk = false;

      // 規則集 (2025)：
      // 情境 A：US Person (全球資產)
      let hitFBAR = false;
      let hitFATCA = false;
      let hitPFIC = false;
      let hitEstateNonUS = false;

      if (isUSPerson) {
        // FBAR: 全球資產 > 10,000 USD
        hitFBAR = globalUsd > 10000;

        // FATCA: 居住地 = 台灣 & 全球資產 > 200,000 USD
        hitFATCA = residence === "tw" && globalUsd > 200000;

        // PFIC: 勾選基金 or 保險
        hitPFIC = hasHighRiskPFIC;

        if (hitPFIC || hitFATCA) {
          usStatus = "critical";
          hasUsRisk = true;
        } else if (hitFBAR) {
          usStatus = "warning";
          hasUsRisk = true;
        } else {
          usStatus = "safe";
          hasUsRisk = false;
        }
      } else {
        // 情境 B：Non-US Person，只看 US Assets
        hitEstateNonUS = usAssetsUsd > 60000;
        if (hitEstateNonUS) {
          usStatus = "critical";
          hasUsRisk = true;
        } else {
          usStatus = "safe";
          hasUsRisk = false;
        }
      }

      // --- Taiwan 稅務檢查 (情境 C：所有人適用) ---
      const hitAMT = overseasROItwd > 1000000;        // 最低稅負制：海外所得推估 > NT 1,000,000
      const hitTWEstate = totalTwd > 13330000;        // 台灣遺產稅門檻：全球資產 > 1333 萬
      let twStatus = (hitAMT || hitTWEstate) ? "review" : "optimized";
      let hasTwRisk = hitAMT || hitTWEstate;

      // --- 更新 US / TW 儀表板 UI ---
      const usCard = document.getElementById("hero-us-status");
      const usTag = document.getElementById("hero-us-tag");
      const usBody = document.getElementById("hero-us-body");
      const twCard = document.getElementById("hero-tw-status");
      const twTag = document.getElementById("hero-tw-tag");
      const twBody = document.getElementById("hero-tw-body");

      // 開啟結果容器
      resultBox.classList.remove("hidden");

      // US 卡片樣式
      if (usCard) {
        let cls =
          "rounded-2xl border px-4 py-3 flex flex-col gap-2 ";
        if (usStatus === "critical") {
          cls += "border-red-200 bg-red-50";
        } else if (usStatus === "warning") {
          cls += "border-amber-200 bg-amber-50";
        } else {
          cls += "border-emerald-200 bg-emerald-50";
        }
        usCard.className = cls;
      }
      if (usTag) {
        usTag.className =
          "text-[10px] px-2 py-0.5 rounded-full font-semibold tracking-wide";
        if (usStatus === "critical") {
          usTag.classList.add("bg-red-100", "text-red-700");
          usTag.textContent = "🚨 Critical";
        } else if (usStatus === "warning") {
          usTag.classList.add("bg-amber-100", "text-amber-700");
          usTag.textContent = "⚠️ Warning";
        } else {
          usTag.classList.add("bg-emerald-100", "text-emerald-700");
          usTag.textContent = "✅ Safe";
        }
      }

      if (usBody) {
        // US Panel 內容
        if (isUSPerson) {
          if (usStatus === "safe") {
            // US Person 完全安全：尚未觸發 FBAR / FATCA / PFIC
            usBody.innerHTML = `
              <p class="text-xs font-semibold text-emerald-900">
                ✅ Safe • Compliant: No US Reporting Required
              </p>
              <p class="text-[11px] text-emerald-800 mt-1">
                合規：目前無須向美國申報（尚未觸發 FBAR、FATCA 或 PFIC 相關門檻）。
              </p>
              <p class="mt-1 text-[11px] text-emerald-700">
                本結果為智能快篩，實際申報義務與細節請與合格稅務顧問確認。
              </p>
            `;
          } else if (usStatus === "warning") {
            // 只有 FBAR 被觸發
            usBody.innerHTML = `
              <p class="text-xs font-semibold text-amber-900">
                ⚠️ Warning — FBAR Threshold Reached
              </p>
              <p class="text-[11px] mt-1 text-slate-800">
                Filing Required: FinCEN Form 114 (FBAR)
              </p>
              <p class="text-[11px] text-slate-800">
                需申報：肥咖條款 FBAR (Form 114)
              </p>
              <p class="mt-2 text-[11px] font-medium text-slate-900">
                Est. Penalty Risk: <span class="font-bold">$10,000+ USD / Year</span>
              </p>
              <p class="mt-1 text-[11px] text-slate-500">
                Form details: <span class="font-semibold text-slate-700">[🔒 Login to view]</span>
              </p>
            `;
          } else {
            // critical：可能有 FATCA / PFIC / 也可能同時含 FBAR
            let lines = `
              <p class="text-xs font-semibold text-red-900">
                🚨 Critical — US Compliance Risk Detected
              </p>
            `;

            if (hitFATCA) {
              lines += `
                <p class="text-[11px] mt-1 text-slate-800">
                  Critical Alert: Form 8938 Filing Required
                </p>
                <p class="text-[11px] text-slate-800">
                  高風險警告：需申報 FATCA (Form 8938)
                </p>
              `;
            }

            if (hitPFIC) {
              lines += `
                <p class="text-[11px] mt-1 text-slate-800">
                  Complex Tax Risk: PFIC / Excise Tax Detected
                </p>
                <p class="text-[11px] text-slate-800">
                  複雜稅務風險：檢測到 PFIC / 海外保單稅務問題
                </p>
              `;
            }

            if (hitFBAR) {
              lines += `
                <p class="text-[11px] mt-1 text-slate-800">
                  Filing Required: FinCEN Form 114 (FBAR)
                </p>
                <p class="text-[11px] text-slate-800">
                  需申報：肥咖條款 FBAR (Form 114)
                </p>
              `;
            }

            lines += `
              <p class="mt-2 text-[11px] font-medium text-slate-900">
                Est. Penalty Risk: <span class="font-bold">$10,000+ USD / Year</span>
              </p>
              <p class="mt-1 text-[11px] text-slate-500">
                Key Forms / 關鍵表單：<span class="font-semibold text-slate-700">[🔒 Login to view]</span>
              </p>
            `;

            usBody.innerHTML = lines;
          }
        } else {
          // Non-US Person 的 US Compliance
          if (usStatus === "critical" && hitEstateNonUS) {
            usBody.innerHTML = `
              <p class="text-xs font-semibold text-red-900">
                🚨 Critical — US Estate Tax Exposure
              </p>
              <p class="text-[11px] mt-1 text-slate-800">
                Critical: Exceeds $60k Estate Tax Exemption (40% Tax Risk)
              </p>
              <p class="text-[11px] text-slate-800">
                嚴重警告：超過非美籍免稅額（面臨約 40% 美國遺產稅風險）。
              </p>
              <p class="mt-2 text-[11px] font-medium text-slate-900">
                Est. Penalty Risk: <span class="font-bold">$10,000+ USD / Year</span>
              </p>
              <p class="mt-1 text-[11px] text-slate-500">
                IRS exposure details: <span class="font-semibold text-slate-700">[🔒 Login to view]</span>
              </p>
            `;
          } else {
            usBody.innerHTML = `
              <p class="text-xs font-semibold text-emerald-900">
                ✅ Safe • Compliant: No US Reporting Required
              </p>
              <p class="text-[11px] text-emerald-800 mt-1">
                合規：目前無須向美國申報（非美籍且美國境內資產未超過 $60,000 USD 遺產稅免稅額）。
              </p>
              <p class="mt-1 text-[11px] text-emerald-700">
                本結果為初步快篩，實際稅務影響仍建議與專業顧問確認。
              </p>
            `;
          }
        }
      }

      // TW 卡片樣式
      if (twCard) {
        let cls = "rounded-2xl border px-4 py-3 flex flex-col gap-2 ";
        if (twStatus === "review") {
          cls += "border-sky-200 bg-sky-50";
        } else {
          cls += "border-emerald-200 bg-emerald-50";
        }
        twCard.className = cls;
      }
      if (twTag) {
        twTag.className =
          "text-[10px] px-2 py-0.5 rounded-full font-semibold tracking-wide";
        if (twStatus === "review") {
          twTag.classList.add("bg-sky-100", "text-sky-800");
          twTag.textContent = "ℹ️ Review Needed";
        } else {
          twTag.classList.add("bg-emerald-100", "text-emerald-700");
          twTag.textContent = "✅ Optimized";
        }
      }

      if (twBody) {
        if (twStatus === "review") {
          let lines = `
            <p class="text-xs font-semibold text-sky-900">
              ℹ️ Review Needed — Taiwan Tax Exposure
            </p>
          `;

          if (hitAMT) {
            lines += `
              <p class="text-[11px] mt-1 text-slate-800">
                Attention: Overseas Income may require AMT Filing
              </p>
              <p class="text-[11px] text-slate-800">
                留意：海外所得可能達最低稅負制申報門檻（推估 US Assets × 5% 已超過 NT$ 1,000,000）。
              </p>
            `;
          }

          if (hitTWEstate) {
            lines += `
              <p class="text-[11px] mt-1 text-slate-800">
                Planning Recommended: TW Estate Tax Exposure
              </p>
              <p class="text-[11px] text-slate-800">
                建議規劃：全球資產總額已達台灣遺產稅課稅門檻（約 NT$ 13,330,000 以上）。
              </p>
            `;
          }

          lines += `
            <p class="mt-2 text-[11px] font-medium text-slate-900">
              Potential Tax Exposure: <span class="font-bold">20% AMT / Estate Tax</span>
            </p>
            <p class="mt-1 text-[11px] text-slate-500">
              Rule details: <span class="font-semibold text-slate-700">[🔒 Login to view]</span>
            </p>
          `;

          twBody.innerHTML = lines;
        } else {
          twBody.innerHTML = `
            <p class="text-xs font-semibold text-emerald-900">
              ✅ Optimized — No Immediate TW Tax Signal
            </p>
            <p class="text-[11px] text-emerald-800 mt-1">
              目前估算下，尚未明顯落入台灣最低稅負制或遺產稅的高壓區間，資產結構相對健康。
            </p>
            <p class="mt-1 text-[11px] text-emerald-700">
              若未來海外資產或全球總額進一步放大，建議提前與顧問討論 CFC、AMT 與傳承規劃。
            </p>
          `;
        }
      }

      // Step 2 CTA：只要 US 或 TW 任一側有風險 / 暗示，就打開
      const hasAnyRisk = hasUsRisk || hasTwRisk;
      if (ctaBtn) {
        ctaBtn.classList.toggle("hidden", !hasAnyRisk);
      }
    }

    function saveAndRedirect() {
      const twdInput = document.getElementById("hero-twd");
      const usdInput = document.getElementById("hero-usd");

      if (!twdInput || !usdInput) {
        switchSection("reports");
        return;
      }

      const twd = parseFloat((twdInput.value || "").replace(/,/g, "")) || 0;
      const usd = parseFloat((usdInput.value || "").replace(/,/g, "")) || 0;
      const totalUsd = twd / RATE + usd;

      try {
        const payload = { twd, usd, totalUsd };
        localStorage.setItem("taimic_demo_data", JSON.stringify(payload));
      } catch (e) {
        console.error(e);
      }

      switchSection("reports");
    }

    function openUploadModal() {
      modalOverlay.classList.remove("hidden");
      document.getElementById("modal-step-1").classList.remove("hidden");
      document.getElementById("modal-step-2").classList.add("hidden");
    }
    function closeUploadModal() {
      modalOverlay.classList.add("hidden");
    }

    function startScan() {
      document.getElementById("modal-step-1").classList.add("hidden");
      document.getElementById("modal-step-2").classList.remove("hidden");
      const bar = document.getElementById("scan-bar");
      bar.style.width = "0";
      setTimeout(() => (bar.style.width = "100%"), 100);

      const log = document.getElementById("scan-log");
      log.innerHTML = "";
      setTimeout(
        () => (log.innerHTML = "&gt; Detecting Language: zh-TW"),
        800
      );
      setTimeout(
        () => (log.innerHTML += '<br>&gt; Parsing: "富邦人壽 (Fubon Life)"'),
        1600
      );
      setTimeout(
        () => (log.innerHTML += "<br>&gt; Match IRS Code: 8938"),
        2400
      );

      setTimeout(() => {
        assets.unshift({
          id: 99,
          name: {
            en: "Fubon Life (Whole Life)",
            zh: "富邦人壽 (終身壽險)",
          },
          type: { en: "Insurance", zh: "儲蓄險" },
          region: "TW",
          usd: 52000,
          new: true,
          risk: true,
        });

        const tEl = document.getElementById("val-tw");
        if (tEl) tEl.dataset.usd = parseFloat(tEl.dataset.usd) + 52000;
        const gEl = document.getElementById("val-global");
        if (gEl) gEl.dataset.usd = parseFloat(gEl.dataset.usd) + 52000;
        geoChart.data.datasets[0].data[1] += 52000;
        geoChart.update();

        const aiAlert = document.getElementById("ai-alert");
        if (aiAlert) aiAlert.classList.remove("hidden");
        render();
        closeUploadModal();
        window.scrollTo({ top: 0, behavior: "smooth" });
      }, 3000);
    }

    let authMode = "register";

    function openAuthModal(mode) {
      authMode = mode;
      const title = document.getElementById("auth-title");
      const btnText = document.getElementById("auth-submit-text");
      const msg = document.getElementById("auth-message");
      msg.textContent = "";
      msg.className = "text-sm h-5 text-center";

      if (mode === "login") {
        title.textContent = "Login to Taimic";
        btnText.textContent = "Login";
      } else {
        title.textContent = "Create a Taimic account";
        btnText.textContent = "Sign up";
      }

      document.getElementById("auth-email").value = "";
      document.getElementById("auth-password").value = "";

      authOverlay.classList.remove("hidden");
    }

    function closeAuthModal() {
      authOverlay.classList.add("hidden");
    }

    async function callAuthAPI(path, payload) {
      const res = await fetch(`${API_BASE}${path}`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });
      return await res.json();
    }

    async function handleAuthSubmit() {
      const email = document.getElementById("auth-email").value.trim();
      const password = document.getElementById("auth-password").value;
      const msg = document.getElementById("auth-message");
      msg.textContent = "";
      msg.className = "text-sm h-5 text-center";

      if (!email || !password) {
        msg.textContent =
          lang === "zh"
            ? "請輸入 email 與密碼。"
            : "Please enter email and password.";
        msg.classList.add("text-red-500");
        return;
      }

      try {
        const path = authMode === "register" ? "/api/register" : "/api/login";
        const data = await callAuthAPI(path, { email, password });

        if (data.ok) {
          msg.textContent =
            authMode === "register"
              ? lang === "zh"
                ? "註冊成功，請重新登入。"
                : "Sign up successful, please log in."
              : lang === "zh"
              ? `登入成功，歡迎 ${data.user?.email || email}`
              : `Welcome back, ${data.user?.email || email}`;
          msg.classList.add("text-green-600");

          if (authMode === "login") {
            localStorage.setItem(
              "taimic-user-email",
              data.user?.email || email
            );
            setTimeout(closeAuthModal, 1200);
          }
        } else {
          msg.textContent =
            data.message ||
            (lang === "zh"
              ? "操作失敗，請稍後再試。"
              : "Something went wrong, please try again.");
          msg.classList.add("text-red-500");
        }
      } catch (e) {
        console.error(e);
        msg.textContent =
          lang === "zh"
            ? "伺服器錯誤，請稍後再試。"
            : "Server error, please try again.";
        msg.classList.add("text-red-500");
      }
    }

    let geoChart;
    let langMenu, userMenu, modalOverlay, authOverlay, mobileMenu;

    window.onload = function () {
      const ctx = document.getElementById("geoChart").getContext("2d");
      geoChart = new Chart(ctx, {
        type: "doughnut",
        data: {
          labels: ["US", "TW"],
          datasets: [
            {
              data: [482500, 315200],
              backgroundColor: ["#2563eb", "#111827"],
              borderWidth: 0,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: "72%",
          plugins: {
            legend: { display: false },
          },
        },
      });
          window.onload = function () {
      const ctx = document.getElementById("geoChart").getContext("2d");
      geoChart = new Chart(ctx, {
        ...
      });

      langMenu = ...
      ...
      fetchFXRate();
    };

      langMenu = document.getElementById("lang-menu");
      userMenu = document.getElementById("user-menu");
      mobileMenu = document.getElementById("mobile-menu");
      modalOverlay = document.getElementById("modal-overlay");
      authOverlay = document.getElementById("auth-overlay");

      render();
      
     // Hero Screener slide-up 初始化
heroCardOuterEl = document.getElementById("compliance-card");
heroOverlayEl = document.getElementById("hero-overlay");
const heroRunScanBtn = document.getElementById("hero-run-scan-btn");

if (heroRunScanBtn && heroCardOuterEl && heroOverlayEl) {
  heroRunScanBtn.addEventListener("click", function () {
    // 不要任何 scroll，不要 setTimeout，直接讓卡片往上浮
    openHeroCard();
  });

  // 點背景把卡片收回去
  heroOverlayEl.addEventListener("click", function () {
    if (heroCardOpen) {
      closeHeroCard();
    }
  });
}

      const langToggle = document.getElementById("lang-toggle");
      const userToggle = document.getElementById("user-toggle");
      const mobileBtn = document.getElementById("mobile-menu-btn");

      function closeAllMenus() {
        langMenu.classList.add("hidden");
        userMenu.classList.add("hidden");
        if (mobileMenu) mobileMenu.classList.add("hidden");
      }

      langToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        const open = langMenu.classList.contains("hidden");
        closeAllMenus();
        if (open) langMenu.classList.remove("hidden");
      });
      langMenu.addEventListener("click", (e) => e.stopPropagation());

      userToggle.addEventListener("click", (e) => {
        e.stopPropagation();
        const open = userMenu.classList.contains("hidden");
        closeAllMenus();
        if (open) userMenu.classList.remove("hidden");
      });
      userMenu.addEventListener("click", (e) => e.stopPropagation());

      mobileBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        const open = mobileMenu.classList.contains("hidden");
        closeAllMenus();
        if (open) mobileMenu.classList.remove("hidden");
      });

      document.querySelectorAll(".mobile-nav-link").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const section = link.dataset.section;
          if (section) switchSection(section);
          mobileMenu.classList.add("hidden");
        });
      });

      document.addEventListener("click", closeAllMenus);

      const authSubmitBtn = document.getElementById("auth-submit");
      if (authSubmitBtn) {
        authSubmitBtn.addEventListener("click", handleAuthSubmit);
      }

      document.querySelectorAll("nav .nav-link").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const section = link.dataset.section;
          if (section) switchSection(section);
        });
      });

      switchSection("overview");
      // 取得即時匯率（失敗時使用 31.0）
      fetchFXRate();
    };
  </script>
</body>
</html> 
