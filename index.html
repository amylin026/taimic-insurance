<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TAIMIC | Global Wealth Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', 'Noto Sans TC', sans-serif;
      background-color: #f5f5f5;
      color: #333333;
      -webkit-font-smoothing: antialiased;
    }

    :root {
      --brand-blue: #0066cc;
      --brand-dark: #004c99;
      --text-main: #222222;
    }

    /* --- Logo Clock --- */
    .logo-clock { width: 44px; height: 44px; }

    .clock-outer {
      fill: none;
      stroke: #dbeafe;
      stroke-width: 2.5;
    }

    .clock-inner {
      fill: #eff6ff;
      stroke: #e5edff;
      stroke-width: 1.5;
    }

    .clock-core {
      fill: url(#clockGradient);
      opacity: 0.98;
    }

    .clock-tick-line {
      stroke: #cbd5f5;
      stroke-width: 1.4;
      stroke-linecap: round;
    }

    .hand {
      stroke-width: 2.6;
      stroke-linecap: round;
      transform-origin: 50% 50%;
    }

    .hand-hour {
      stroke: #1f2933;
      animation: rotate 1800s linear infinite;
    }

    .hand-minute {
      stroke: #3b82f6;
      animation: rotate 300s linear infinite;
    }

    .center-dot {
      fill: #ffffff;
      stroke: #3b82f6;
      stroke-width: 2;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    /* --- Nav --- */
    .nav-link {
      font-size: 14px;
      font-weight: 500;
      color: #555;
      padding: 0 18px;
      height: 64px;
      display: flex;
      align-items: center;
      border-bottom: 3px solid transparent;
      transition: all .18s;
      text-decoration: none;
    }
    .nav-link:hover {
      color: var(--brand-blue);
    }
    .nav-link.active {
      color: #000;
      font-weight: 700;
      border-bottom-color: var(--brand-blue);
    }

    /* --- Dropdown --- */
    .dropdown-container {
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
    }
    .dropdown-menu {
      position: absolute;
      top: 70px;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.12);
      min-width: 180px;
      z-index: 50;
      border-radius: 12px;
      padding: 6px 0;
      overflow: hidden;
    }
    .dropdown-item {
      padding: 10px 18px;
      font-size: 14px;
      color: #4b5563;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background .15s, color .15s;
    }
    .dropdown-item:hover {
      background-color: #f3f4ff;
      color: var(--brand-blue);
    }
    .dropdown-item.active {
      font-weight: 700;
      color: var(--brand-blue);
      background-color: #eef2ff;
    }

    .btn-corp {
      background-color: var(--brand-blue);
      color: white;
      font-size: 14px;
      font-weight: 600;
      padding: 10px 24px;
      border-radius: 9999px;
      transition: background .2s, transform .1s;
    }
    .btn-corp:hover {
      background-color: var(--brand-dark);
      transform: translateY(-1px);
    }

    .scan-overlay {
      background: linear-gradient(to bottom, transparent, rgba(0, 102, 204, 0.15), transparent);
      animation: scan 2s linear infinite;
    }
    @keyframes scan {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100%); }
    }

    .animate-fade-in {
      animation: fadeIn .4s ease-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* --- Card --- */
    .panel {
      background: white;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 6px 18px rgba(15, 23, 42, 0.04);
    }

    /* --- Footer --- */
    .footer-col-title {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: #6b7280;
      margin-bottom: 10px;
    }
    .footer-link {
      font-size: 14px;
      color: #4b5563;
      padding: 4px 0;
      cursor: pointer;
    }
    .footer-link:hover {
      color: var(--brand-blue);
    }
  </style>
</head>

<body class="flex flex-col min-h-screen bg-[#f3f5f9]">

  <!-- ============= HEADER ============= -->
  <header class="bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm h-[72px]">
    <div class="max-w-[1440px] mx-auto px-6 h-full flex justify-between items-center">

      <!-- Logo -->
      <div class="flex items-center gap-4 cursor-pointer">
        <svg class="logo-clock" viewBox="0 0 100 100">
          <defs>
            <linearGradient id="clockGradient" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#bfdbfe" />
              <stop offset="100%" stop-color="#60a5fa" />
            </linearGradient>
          </defs>
          <circle cx="50" cy="50" r="46" class="clock-outer" />
          <circle cx="50" cy="50" r="38" class="clock-inner" />
          <circle cx="50" cy="50" r="30" class="clock-core" />
          <line x1="50" y1="12" x2="50" y2="18" class="clock-tick-line" />
          <line x1="88" y1="50" x2="82" y2="50" class="clock-tick-line" />
          <line x1="50" y1="82" x2="50" y2="88" class="clock-tick-line" />
          <line x1="18" y1="50" x2="12" y2="50" class="clock-tick-line" />
          <line x1="50" y1="50" x2="50" y2="30" class="hand hand-hour" />
          <line x1="50" y1="50" x2="66" y2="34" class="hand hand-minute" />
          <circle cx="50" cy="50" r="3.2" class="center-dot" />
        </svg>
        <div class="flex flex-col justify-center">
          <span class="text-[22px] font-[700] tracking-tight text-[#0066cc] leading-none">TAIMIC</span>
          <span class="text-[10px] font-[600] tracking-[0.2em] text-gray-500 mt-1 uppercase">Global Wealth</span>
        </div>
      </div>

      <!-- Nav -->
      <nav class="hidden lg:flex h-full items-center space-x-2">
        <a href="#" id="nav-overview" class="nav-link active" data-i18n="nav.overview">Overview</a>
        <a href="#" id="nav-tax" class="nav-link" data-i18n="nav.tax">Pricing</a>
        <a href="#" id="nav-reports" class="nav-link" data-i18n="nav.reports">Reports</a>
        <a href="#" id="nav-about" class="nav-link" data-i18n="nav.about">About Taimic</a>
      </nav>

      <!-- Right tools -->
      <div class="flex items-center gap-6 h-full">

        <!-- Currency -->
        <div class="hidden sm:flex items-center text-xs font-medium text-gray-600 border border-gray-200 rounded-full overflow-hidden bg-gray-50 shadow-sm">
          <button id="btn-usd" onclick="setCurrency('USD')" class="px-4 py-2 transition-colors">
            USD
          </button>
          <button id="btn-twd" onclick="setCurrency('TWD')" class="px-4 py-2 transition-colors">
            TWD
          </button>
        </div>

        <!-- Language -->
        <div class="dropdown-container cursor-pointer h-full">
          <button id="lang-toggle" type="button" class="flex items-center gap-2 text-gray-600 hover:text-[#0066cc] transition-colors">
            <div class="w-9 h-9 rounded-full flex items-center justify-center bg-gray-50 border border-gray-200">
              <i class="fa-solid fa-globe text-sm"></i>
            </div>
            <i class="fa-solid fa-caret-down text-xs"></i>
          </button>
          <div id="lang-menu" class="dropdown-menu hidden">
            <div id="opt-en" class="dropdown-item active" onclick="changeLang('en')">English</div>
            <div id="opt-zh" class="dropdown-item" onclick="changeLang('zh')">ÁπÅÈ´î‰∏≠Êñá</div>
          </div>
        </div>

        <!-- User -->
        <div class="dropdown-container cursor-pointer h-full border-l border-gray-200 pl-4">
          <button id="user-toggle" type="button" class="w-10 h-10 bg-[#f3f4f6] text-gray-600 rounded-full flex items-center justify-center hover:bg-[#0066cc] hover:text-white transition-colors">
            <i class="fa-solid fa-user text-base"></i>
          </button>
          <div id="user-menu" class="dropdown-menu hidden">
            <div class="dropdown-item" onclick="openAuthModal('login')">
              <i class="fa-solid fa-right-to-bracket"></i>
              <span data-i18n="user.login">Login</span>
            </div>
            <div class="dropdown-item" onclick="openAuthModal('register')">
              <i class="fa-solid fa-user-plus"></i>
              <span data-i18n="user.register">Register</span>
            </div>
            <div class="border-t border-gray-100 my-1"></div>
            <div class="dropdown-item">
              <i class="fa-solid fa-circle-question"></i>
              <span>Help</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </header>

  <!-- ============= HERO / SUMMARY (DASHBOARD) ============= -->
  <section class="border-b border-gray-200 bg-[#e5ebf5]" id="dashboard-hero">
    <div class="max-w-[1440px] mx-auto px-6 py-8 md:py-10">
      <div class="panel px-8 py-8 md:px-10 md:py-9 flex flex-col md:flex-row md:items-center md:justify-between gap-8">
        <div>
          <div class="text-xs font-bold text-gray-400 uppercase tracking-[0.2em] mb-2">
            Global Asset Management / Dashboard
          </div>
          <h1 class="text-[28px] md:text-[32px] font-[700] text-[#111827] tracking-tight mb-3" data-i18n="page.title">
            Cross-Border Wealth Platform
          </h1>
          <p class="text-gray-600 text-sm md:text-[15px] max-w-2xl leading-relaxed" data-i18n="page.desc">
            Integrated view of multi-country assets with FATCA / FBAR / CRS monitoring and real-time net-worth analytics.
          </p>
        </div>

        <div class="flex flex-col items-start md:items-end gap-3">
          <button onclick="openUploadModal()" class="btn-corp flex items-center gap-2 shadow-sm">
            <i class="fa-solid fa-plus"></i>
            <span data-i18n="btn.add">Add Asset</span>
          </button>
          <div class="text-[11px] text-gray-500 flex items-center gap-2">
            <i class="fa-solid fa-shield-halved text-[#0066cc]"></i>
            <span>FATCA / CRS real-time risk scan</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============= MAIN DASHBOARD ============= -->
  <main id="dashboard-main" class="flex-grow py-10">
    <div class="max-w-[1440px] mx-auto px-6 w-full">
      <div class="panel px-6 md:px-8 lg:px-10 py-8 md:py-10">

        <!-- Stats -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
          <div class="p-6 border border-gray-200 rounded-xl hover:border-[#0066cc] transition-colors bg-white">
            <div class="flex justify-between items-start mb-4">
              <h3 class="text-xs font-bold text-gray-500 uppercase tracking-[0.18em]" data-i18n="stat.us">US Net Worth</h3>
              <span class="text-xl">üá∫üá∏</span>
            </div>
            <div class="text-3xl font-bold text-[#111827] font-mono tracking-tight val-display" data-usd="482500">...</div>
            <div class="mt-2 text-xs font-medium text-green-600 flex items-center gap-1">
              <i class="fa-solid fa-arrow-trend-up"></i> +4.2% YTD
            </div>
          </div>

          <div class="p-6 border border-gray-200 rounded-xl hover:border-[#0066cc] transition-colors bg-white">
            <div class="flex justify-between items-start mb-4">
              <h3 class="text-xs font-bold text-gray-500 uppercase tracking-[0.18em]" data-i18n="stat.tw">Taiwan Net Worth</h3>
              <span class="text-xl">üáπüáº</span>
            </div>
            <div id="val-tw" class="text-3xl font-bold text-[#111827] font-mono tracking-tight val-display" data-usd="315200">...</div>
            <div class="mt-2 text-xs font-medium text-green-600 flex items-center gap-1">
              <i class="fa-solid fa-arrow-trend-up"></i> +1.8% YTD
            </div>
          </div>

          <div class="p-6 bg-[#eff4fb] border border-blue-100 rounded-xl">
            <div class="flex justify-between items-start mb-4">
              <h3 class="text-xs font-bold text-[#0066cc] uppercase tracking-[0.2em]" data-i18n="stat.global">Global Net Worth</h3>
              <i class="fa-solid fa-globe text-[#0066cc]"></i>
            </div>
            <div id="val-global" class="text-3xl font-bold text-[#0066cc] font-mono tracking-tight val-display" data-usd="797700">...</div>
            <div class="mt-2 text-xs font-medium text-gray-600 flex items-center gap-1">
              <i class="fa-solid fa-shield-check text-[#0066cc]"></i>
              <span data-i18n="stat.safe">Estate tax risk: safe</span>
            </div>
          </div>
        </div>

        <!-- Table + Chart -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">

          <!-- Table -->
          <div class="lg:col-span-2">

            <!-- AI Alert -->
            <div id="ai-alert" class="hidden mb-8 bg-orange-50 border-l-4 border-orange-500 rounded-lg p-5 flex gap-4 animate-fade-in">
              <div class="text-orange-500 pt-1">
                <i class="fa-solid fa-triangle-exclamation text-lg"></i>
              </div>
              <div>
                <h4 class="font-bold text-[#111827] text-sm mb-1" data-i18n="alert.title">
                  AI Tax Alert: potential reporting risk
                </h4>
                <p class="text-sm text-gray-700 leading-relaxed" data-i18n="alert.desc">
                  System detected a new Taiwan high-cash-value policy. This may be reportable under IRS Form 8938.
                </p>
                <button class="mt-3 text-xs font-bold text-[#0066cc] uppercase tracking-wide hover:underline">
                  View detailed report &rarr;
                </button>
              </div>
            </div>

            <div class="flex justify-between items-end mb-4 pb-2 border-b border-gray-200">
              <h3 class="text-lg font-bold text-[#111827]" data-i18n="table.title">Asset Holdings</h3>
              <button class="text-xs text-[#0066cc] font-bold uppercase hover:text-[#004c99] flex items-center gap-1">
                <i class="fa-solid fa-file-export"></i> Export
              </button>
            </div>

            <div class="overflow-x-auto">
              <table class="w-full text-left text-sm">
                <thead>
                  <tr class="text-xs text-gray-500 uppercase tracking-[0.16em]">
                    <th class="pl-2 pb-3 border-b-2 border-gray-100" data-i18n="col.name">Asset</th>
                    <th class="pb-3 border-b-2 border-gray-100" data-i18n="col.region">Region</th>
                    <th class="pb-3 border-b-2 border-gray-100" data-i18n="col.type">Type</th>
                    <th class="pr-2 pb-3 border-b-2 border-gray-100 text-right" data-i18n="col.val">Value</th>
                  </tr>
                </thead>
                <tbody id="asset-list"></tbody>
              </table>
            </div>
          </div>

          <!-- Chart -->
          <div class="space-y-8">
            <div class="border border-gray-200 rounded-3xl p-8 bg-white shadow-sm">
              <h3 class="text-xs font-bold text-gray-500 uppercase mb-6 tracking-[0.18em]" data-i18n="chart.title">
                Regional Allocation
              </h3>

              <div class="relative w-full max-w-[320px] mx-auto aspect-square">
                <canvas id="geoChart"></canvas>
                <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                  <div class="relative text-center">
                    <div class="text-lg font-bold text-[#0f172a] leading-none">
                      100%
                    </div>
                    <div
                      class="absolute left-1/2 -translate-x-1/2 -top-4
                             text-[10px] text-gray-400 font-bold uppercase tracking-[0.18em]">
                      TOTAL
                    </div>
                  </div>
                </div>
              </div>

              <div class="bg-[#e6f0fa] p-4 rounded-2xl border border-blue-100 mt-6">
                <div class="text-[10px] font-bold text-[#0066cc] mb-1 uppercase flex items-center gap-1">
                  <i class="fa-solid fa-robot"></i>
                  <span data-i18n="chart.insight">AI Insight</span>
                </div>
                <p class="text-xs text-gray-700 leading-relaxed" data-i18n="chart.desc">
                  Taiwan assets are 40% of total. Consider hedging TWD FX exposure.
                </p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </main>

  <!-- ============= ABOUT TAIMIC PAGE ============= -->
  <section id="about-section" class="hidden bg-[#f3f5f9]">
    <div class="bg-[#e5edf9] border-b border-[#d3e0f5]">
      <div class="max-w-[1200px] mx-auto px-6 py-10 md:py-14">
        <h1 class="text-[32px] md:text-[38px] font-[800] text-[#111827] tracking-tight mb-4"
            data-i18n="about.title">
          About Taimic
        </h1>
        <p class="max-w-4xl text-[15px] md:text-[16px] leading-relaxed text-[#1f2933]"
           data-i18n="about.lead">
          Taimic is an AI-enabled cross-border wealth and legacy management platform built for globally
          mobile families. We bring assets held in multiple countries back into a single view, reduce
          compliance risk under complex tax regimes, and help you think ahead about how your wealth will
          be structured and shared ‚Äì without living inside Excel and manual FX calculations every day.
        </p>
      </div>
    </div>

    <div class="max-w-[1200px] mx-auto px-6 py-10 md:py-14 space-y-10 text-[15px] leading-relaxed text-[#111827]">
      <section>
        <h2 class="text-xl font-semibold mb-3">What problem we are solving</h2>
        <p class="mb-3">
          In reality, life for a cross-border family often looks like this:
        </p>
        <ul class="list-disc pl-6 space-y-2">
          <li>Brokerage accounts in one country, pensions and insurance in another, property in a third.</li>
          <li>Cash, deposits, funds and ETFs scattered across banks and platforms with different currencies.</li>
          <li>
            To answer ‚Äúwhat am I actually worth?‚Äù or ‚Äúwill I trigger FATCA / FBAR / CRS thresholds?‚Äù
            you have to download statements, check FX history and reconcile everything in Excel.
          </li>
          <li>
            If something happens to one family member, the others may not even know what assets exist,
            let alone how they will be taxed and distributed.
          </li>
        </ul>
        <p class="mt-4">
          Most tools in the market only solve a small slice of this:
        </p>
        <ul class="list-disc pl-6 space-y-2">
          <li>Remittance apps focus on moving money from A to B.</li>
          <li>Personal finance apps focus on spending and budgeting.</li>
          <li>Some services handle single-country investing or online wills only.</li>
        </ul>
        <p class="mt-4">
          Very few products treat cross-border assets, compliance risk and legacy planning as one connected system.
          Taimic exists to fill that missing middle.
        </p>
      </section>

      <section>
        <h2 class="text-xl font-semibold mb-3">How Taimic works</h2>
        <p class="mb-3">
          At its core, Taimic combines multi-country asset consolidation, compliance &amp; risk analytics and
          AI-driven insights.
        </p>
        <h3 class="font-semibold mt-4 mb-2">1. Consolidated multi-country view</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>Bring brokerage accounts, cash, insurance and property from different countries into one dashboard.</li>
          <li>Show market value, cost, P&amp;L and allocation in a unified base currency.</li>
          <li>Help users see the overall structure, not just one broker at a time.</li>
        </ul>

        <h3 class="font-semibold mt-5 mb-2">2. Compliance &amp; risk analytics</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>Track FATCA / FBAR / CRS thresholds and relevant balance limits.</li>
          <li>Analyze exposures by country, asset class, sector and single-name concentration.</li>
          <li>Turn vague tax anxiety into concrete numbers and clear structure.</li>
        </ul>

        <h3 class="font-semibold mt-5 mb-2">3. AI-driven insights</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>Use AI to surface relevant regulatory updates, tax considerations and scenario simulations.</li>
          <li>From ‚Äúwhat happens if I‚Äôm not here tomorrow?‚Äù to ‚Äúis this structure fair to my family?‚Äù</li>
          <li>Prepare you to walk into a meeting with accountants or lawyers already understanding your own picture.</li>
        </ul>
      </section>

      <section>
        <h2 class="text-xl font-semibold mb-3">Who Taimic is for</h2>
        <p class="mb-3">
          Taimic is built for people who effectively live inside more than one system at the same time:
        </p>
        <ul class="list-disc pl-6 space-y-1">
          <li>Families living, working or retiring across two or more countries.</li>
          <li>People holding securities, insurance, property and cash in multiple jurisdictions.</li>
          <li>Those who know they should care about FATCA / FBAR / CRS and inheritance tax, but lack the time or tools.</li>
          <li>Investors who want to graduate from single-broker P&amp;L to understanding full cross-border structure.</li>
        </ul>
        <p class="mt-4">
          If you have ever thought, ‚ÄúI know I should see the full picture and risk, but I‚Äôm too busy and the tools are bad,‚Äù
          Taimic is built for you.
        </p>
      </section>

      <section>
        <h2 class="text-xl font-semibold mb-3">The future we believe in</h2>
        <p class="mb-3">
          We believe cross-border families deserve better than today‚Äôs patchwork of spreadsheets and screenshots:
        </p>
        <ul class="list-disc pl-6 space-y-1">
          <li>Not only ultra-high-net-worth clients should receive family-office grade reporting.</li>
          <li>Not only institutions should have access to real portfolio analytics and risk tools.</li>
          <li>No one should have to stitch data from everywhere just to understand how their assets will be taxed and distributed.</li>
        </ul>
        <p class="mt-4">
          Taimic‚Äôs long-term goal is to make cross-border wealth management intuitive, transparent and visual; to let AI act as
          a financial co-pilot instead of a black box; and to help globally mobile families manage and allocate wealth calmly,
          instead of reacting only to headlines and fear.
        </p>
      </section>

      <section>
        <h2 class="text-xl font-semibold mb-3">Where we are now</h2>
        <p class="mb-3">
          We are starting with corridors where complexity is the highest ‚Äì for example between Asia and North America ‚Äì where
          high asset density, strict tax regimes and real legacy needs meet.
        </p>
        <p class="mb-3">
          From day one, we designed Taimic as an extensible cross-border architecture, not a single country pair. Whether
          the corridor is Asia‚ÄìNorth America, Europe‚ÄìAsia or others, the same logic can apply.
        </p>
        <p class="mb-3">
          Next, we will add more granular classifications and visual tools, deeper modules for specific markets and corridors,
          and integrations with professional advisors where appropriate.
        </p>
        <p class="mt-4">
          If you believe that understanding your global assets is the first step toward long-term security and planning,
          we‚Äôd love for you to grow with Taimic.
        </p>
      </section>
    </div>
  </section>

  <!-- ============= FOOTER ============= -->
  <footer class="bg-[#f4f6fb] border-t border-gray-200 mt-16">
    <div class="max-w-[1440px] mx-auto px-6 pt-10 pb-4">

      <!-- Top rows -->
      <div class="flex flex-col lg:flex-row gap-10 lg:gap-20 pb-8 border-b border-gray-200">
        <!-- brand -->
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-4">
            <svg class="logo-clock" viewBox="0 0 100 100">
              <circle cx="50" cy="50" r="46" class="clock-outer" />
              <circle cx="50" cy="50" r="38" class="clock-inner" />
              <circle cx="50" cy="50" r="30" class="clock-core" />
            </svg>
            <div>
              <div class="text-[20px] font-bold text-[#0066cc] leading-none">TAIMIC</div>
              <div class="text-[10px] tracking-[0.18em] text-gray-500 uppercase mt-1">Global Wealth</div>
            </div>
          </div>
          <p class="text-sm text-gray-600 mb-4">
            Cross-border wealth &amp; compliance platform for globally mobile families.
          </p>
        </div>

        <!-- Columns -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-sm">
          <div>
            <div class="footer-col-title">SOLUTIONS</div>
            <div class="footer-link">Cross-border families</div>
            <div class="footer-link">Global professionals</div>
            <div class="footer-link">Entrepreneurs</div>
            <div class="footer-link">Retirement planning</div>
          </div>
          <div>
            <div class="footer-col-title">PLATFORM</div>
            <div class="footer-link">Global Dashboard</div>
            <div class="footer-link">Compliance</div>
            <div class="footer-link">Analytics</div>
            <div class="footer-link">Alerts</div>
          </div>
          <div>
            <div class="footer-col-title">RESOURCES</div>
            <div class="footer-link">Insights</div>
            <div class="footer-link">Product Updates</div>
            <div class="footer-link">Partner Program</div>
            <div class="footer-link">Status</div>
          </div>
          <div>
            <div class="footer-col-title">LEGAL</div>
            <div class="footer-link">Privacy Policy</div>
            <div class="footer-link">Terms of Service</div>
            <div class="footer-link">Data Processing</div>
            <div class="footer-link">Subprocessors</div>
          </div>
        </div>
      </div>

      <!-- Bottom row -->
      <div class="flex flex-col md:flex-row items-center justify-between gap-4 pt-4 pb-2 text-xs text-gray-500">
        <div>¬© 2025 Taimic Inc. All Rights Reserved.</div>
        <div class="flex items-center gap-4 text-gray-400">
          <i class="fa-brands fa-x-twitter"></i>
          <i class="fa-brands fa-discord"></i>
          <i class="fa-brands fa-instagram"></i>
          <i class="fa-brands fa-github"></i>
        </div>
      </div>
    </div>
  </footer>

  <!-- ============= UPLOAD MODAL (AI OCR Demo) ============= -->
  <div id="modal-overlay" class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white w-full max-w-md shadow-2xl rounded-xl overflow-hidden relative transform transition-all">
      <div class="bg-[#0066cc] p-4 flex justify-between items-center text-white">
        <h3 class="font-bold text-sm tracking-wide" data-i18n="modal.title">Add Taiwan Asset (AI OCR)</h3>
        <i class="fa-solid fa-xmark cursor-pointer hover:opacity-80 text-lg" onclick="closeUploadModal()"></i>
      </div>

      <!-- step 1 -->
      <div id="modal-step-1" class="p-8 text-center">
        <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 text-[#0066cc]">
          <i class="fa-solid fa-cloud-arrow-up text-2xl"></i>
        </div>
        <p class="text-sm text-gray-600 mb-6 leading-relaxed" data-i18n="modal.desc">
          Upload a policy front page or bank statement. AI will extract key data automatically.
        </p>
        <button onclick="startScan()" class="w-full border-2 border-dashed border-gray-300 py-4 rounded-xl hover:border-[#0066cc] hover:bg-blue-50 transition-all text-gray-500 hover:text-[#0066cc] font-bold text-sm">
          <span data-i18n="btn.upload">Click to upload</span>
        </button>
      </div>

      <!-- step 2 -->
      <div id="modal-step-2" class="hidden relative h-64 bg-[#050816]">
        <div class="absolute inset-0 flex flex-col items-center justify-center z-10">
          <p class="text-white font-mono text-sm mb-2" data-i18n="modal.scanning">AI processing...</p>
          <div class="w-48 h-1 bg-gray-700 rounded overflow-hidden mb-4">
            <div id="scan-bar" class="h-full bg-[#3b82f6] w-0 transition-all duration-[3000ms] ease-linear"></div>
          </div>
          <div id="scan-log" class="text-[10px] text-green-400 font-mono h-12 flex flex-col items-center gap-1"></div>
        </div>
        <div class="scan-overlay absolute inset-0"></div>
      </div>
    </div>
  </div>

  <!-- ============= AUTH MODAL (ÁôªÂÖ• / Ë®ªÂÜä) ============= -->
  <div id="auth-overlay" class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="bg-white w-full max-w-lg rounded-xl shadow-2xl overflow-hidden">
      <div class="bg-[#1d4ed8] px-6 py-4 flex items-center justify-between text-white">
        <h3 id="auth-title" class="font-bold text-base">Create a Taimic account</h3>
        <button onclick="closeAuthModal()" class="hover:opacity-80">
          <i class="fa-solid fa-xmark text-xl"></i>
        </button>
      </div>
      <div class="px-8 py-8 space-y-6">
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Email</label>
          <input id="auth-email" type="email" placeholder="you@gmail.com"
                 class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb] placeholder-gray-400" />
        </div>
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Password</label>
          <input id="auth-password" type="password" placeholder="At least 6 characters"
                 class="w-full border border-gray-300 rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]" />
        </div>
        <p id="auth-message" class="text-sm h-5 text-center"></p>
        <button id="auth-submit" class="w-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white font-semibold text-sm py-3 rounded-full flex items-center justify-center gap-2 transition">
          <i class="fa-solid fa-arrow-right-to-bracket"></i>
          <span id="auth-submit-text">Sign up</span>
        </button>
      </div>
    </div>
  </div>

  <!-- ============= SCRIPT ============= -->
  <script>
    const RATE = 32.5;
    let curr = 'TWD';
    let lang = 'en';   // È†êË®≠Ëã±Êñá
    const API_BASE = "https://cool-cell-b227.amy20060226.workers.dev";

    const assets = [
      { id: 1, name: {en:'Vanguard Total Stock (VTI)', zh:'Vanguard ÂÖ®ÁêÉËÇ°Á•® ETF (VTI)'}, type: {en:'ETF', zh:'ÊåáÊï∏ÂûãÂü∫Èáë'}, region:'US', usd: 145200 },
      { id: 2, name: {en:'Taipei Xinyi Condo',      zh:'Âè∞Âåó‰ø°Áæ©ÂçÄÂÖ¨ÂØì'},  type: {en:'Real Estate', zh:'ÊàøÂú∞Áî¢'},        region:'TW', usd: 280000 },
      { id: 3, name: {en:'Fidelity 401(k)',         zh:'ÂØåÈÅîÈÄÄ‰ºëÈáë 401(k)'}, type: {en:'Retirement', zh:'ÈÄÄ‰ºëÈáë'},       region:'US', usd: 98500 },
    ];

    const I18N = {
      en: {
        'nav.overview':'Overview',
        'nav.tax':'Pricing',
        'nav.reports':'Reports',
        'nav.about':'About Taimic',

        'page.title':'Cross-Border Wealth Platform',
        'page.desc':'Integrated view of multi-country assets with FATCA / FBAR / CRS monitoring and real-time net-worth analytics.',

        'btn.add':'Add Asset',
        'btn.upload':'Click to upload file',

        'stat.us':'US Net Worth',
        'stat.tw':'Taiwan Net Worth',
        'stat.global':'Global Net Worth',
        'stat.safe':'Estate tax risk: safe',

        'table.title':'Asset Holdings',
        'col.name':'Asset Name',
        'col.region':'Region',
        'col.type':'Category',
        'col.val':'Value',

        'alert.title':'AI Tax Alert: FATCA risk detected',
        'alert.desc':'We detected a new Taiwan high-cash-value insurance policy. It may exceed the $50,000 reporting threshold for IRS Form 8938.',

        'chart.title':'Regional Allocation',
        'chart.insight':'AI Insight',
        'chart.desc':'Your Taiwan assets make up 40% of your net worth. Consider hedging TWD currency risk.',

        'modal.title':'Add Taiwan Asset (AI OCR)',
        'modal.desc':'Upload a policy front page or bank statement. AI will automatically extract key data.',
        'modal.scanning':'AI processing...',

        'user.login':'Login',
        'user.register':'Register',

        'about.title':'About Taimic',
        'about.lead':'Taimic is an AI-enabled cross-border wealth and legacy management platform built for globally mobile families. We bring assets held in multiple countries back into a single view, reduce compliance risk under complex tax regimes, and help you think ahead about how your wealth will be structured and shared ‚Äì without living inside Excel and manual FX calculations every day.'
      },
      zh: {
        'nav.overview':'Ë≥áÁî¢Á∏ΩË¶Ω',
        'nav.tax':'ÂÉπÊ†º',
        'nav.reports':'ÂàÜÊûêÂ†±Âëä',
        'nav.about':'ÈóúÊñº Taimic',

        'page.title':'Ë∑®ÂúãË≥áÁî¢Êï¥ÂêàÂπ≥Âè∞',
        'page.desc':'Êï¥ÂêàÂ§öÂúãË≥áÁî¢ÔºåÊê≠ÈÖç FATCAÔºèFBARÔºèCRS È¢®Èö™ÂÅµÊ∏¨ËàáÂç≥ÊôÇÊ∑®ÂÄºÂàÜÊûêÔºåËÆìË∑®Â¢ÉË≤°Âãô‰∏ÄÁúºÁúãÊáÇ„ÄÇ',

        'btn.add':'Êñ∞Â¢ûË≥áÁî¢',
        'btn.upload':'ÈªûÊìä‰∏äÂÇ≥Ê™îÊ°à',

        'stat.us':'ÁæéÂúãÁ∏ΩË≥áÁî¢',
        'stat.tw':'Âè∞ÁÅ£Á∏ΩË≥áÁî¢',
        'stat.global':'ÂÖ®ÁêÉÁ∏ΩÊ∑®ÂÄº',
        'stat.safe':'ÈÅ∫Áî¢Á®ÖÈ¢®Èö™ÔºöÂÆâÂÖ®',

        'table.title':'Ë≥áÁî¢ÊåÅÊúâÊ∏ÖÂñÆ',
        'col.name':'Ë≥áÁî¢ÂêçÁ®±',
        'col.region':'Âú∞ÂçÄ',
        'col.type':'È°ûÂà•',
        'col.val':'ÁèæÂÄº',

        'alert.title':'AI Á®ÖÂãôË≠¶Á§∫ÔºöÂÅµÊ∏¨Âà∞ FATCA È¢®Èö™',
        'alert.desc':'Á≥ªÁµ±ÊéÉÊèèÂà∞‰∏ÄÂºµÊñ∞Â¢ûÁöÑÂè∞ÁÅ£È´òÁèæÈáëÂÉπÂÄº‰øùÂñÆÔºåÈáëÈ°çÂèØËÉΩÂ∑≤Ë∂ÖÈÅé IRS Form 8938 ÁöÑÁî≥Â†±ÈñÄÊ™ª„ÄÇ',

        'chart.title':'ÂçÄÂüüË≥áÁî¢ÈÖçÁΩÆ',
        'chart.insight':'AI Êô∫ËÉΩÂàÜÊûê',
        'chart.desc':'ÊÇ®ÁöÑÂè∞ÁÅ£Ë≥áÁî¢‰ΩîÁ∏ΩÊ∑®ÂÄºÁ¥Ñ 40%ÔºåÂª∫Ë≠∞Ë©ï‰º∞Âè∞Âπ£ÂåØÁéáÈ¢®Èö™ÈÅøÈö™Á≠ñÁï•„ÄÇ',

        'modal.title':'Êñ∞Â¢ûÂè∞ÁÅ£Ë≥áÁî¢ (AI OCR)',
        'modal.desc':'‰∏äÂÇ≥‰øùÂñÆÈ¶ñÈ†ÅÊàñÈäÄË°åÂ∞çÂ∏≥ÂñÆÔºåAI Â∞áËá™ÂãïÊèêÂèñÈóúÈçµÊï∏Êìö„ÄÇ',
        'modal.scanning':'AI ÂàÜÊûê‰∏≠...',

        'user.login':'ÁôªÂÖ•',
        'user.register':'Ë®ªÂÜä',

        'about.title':'ÈóúÊñº Taimic',
        'about.lead':'Taimic ÊòØ‰∏ÄÂÄãÁµêÂêà AI ÁöÑË∑®Â¢ÉË≥áÁî¢ËàáÂÇ≥ÊâøÁÆ°ÁêÜÂπ≥Âè∞ÔºåÂ∞àÁÇ∫Âú®Â§öÂúãÁîüÊ¥ªËàáÊäïË≥áÁöÑÂÆ∂Â∫≠Ë®≠Ë®à„ÄÇÊàëÂÄëÂçîÂä©Â∞áÂàÜÊï£Âú®Â§öÂúãÁöÑË≥áÁî¢ÊãâÂõûÂêå‰∏ÄÂÄãÁï´Èù¢ÔºåÈôç‰ΩéË§áÈõúÁ®ÖÂà∂Â∏∂‰æÜÁöÑÂêàË¶èÈ¢®Èö™Ôºå‰∏¶ÊèêÂâçÊÄùËÄÉË≤°ÂØåÊáâÂ¶Ç‰ΩïË¢´Ë¶èÂäÉËàáÂàÜÈÖçÔºåËÄå‰∏çÂøÖÂ§©Â§©Âõ∞Âú® Excel Ëàá‰∫∫Â∑•ÊèõÂåØË®àÁÆóË£°„ÄÇ'
      }
    };

    function fmt(usd) {
      const val = curr === 'USD' ? usd : usd * RATE;
      return new Intl.NumberFormat(curr === 'USD' ? 'en-US' : 'zh-TW', {
        style: 'currency', currency: curr, maximumFractionDigits: 0
      }).format(val);
    }

    function render() {
      const t = I18N[lang];

      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (t[key]) el.textContent = t[key];
      });

      document.querySelectorAll('.val-display').forEach(el => {
        el.textContent = fmt(parseFloat(el.dataset.usd));
      });

      const tbody = document.getElementById('asset-list');
      tbody.innerHTML = '';
      assets.forEach(a => {
        const n = a.name[lang];
        const tp = a.type[lang];
        const flag = a.region === 'US' ? 'üá∫üá∏' : 'üáπüáº';
        const badge = a.region === 'US'
          ? 'bg-blue-50 text-blue-700'
          : 'bg-green-50 text-green-700';
        const hl = a.new ? 'bg-orange-50 animate-fade-in' : '';
        const riskTag = a.risk
          ? `<span class="ml-2 inline-flex items-center px-2 py-0.5 bg-orange-100 text-orange-700 text-[10px] font-bold rounded-full border border-orange-200">FATCA</span>`
          : '';
        tbody.innerHTML += `
          <tr class="group transition-colors hover:bg-gray-50 border-b border-gray-100 last:border-0 ${hl}">
            <td class="py-4 pl-2">
              <div class="font-semibold text-[#111827] group-hover:text-[#0066cc] transition-colors">${n}</div>
            </td>
            <td class="py-4">
              <span class="px-2 py-1 rounded-full text-xs font-bold ${badge}">${flag} ${a.region}</span>${riskTag}
            </td>
            <td class="py-4 text-sm text-gray-600">${tp}</td>
            <td class="py-4 pr-2 text-right font-mono font-bold text-[#111827] tracking-tight">${fmt(a.usd)}</td>
          </tr>`;
      });

      const btnUsd = document.getElementById('btn-usd');
      const btnTwd = document.getElementById('btn-twd');
      if (curr === 'USD') {
        btnUsd.className = 'px-4 py-2 bg-white text-[#0066cc] font-semibold';
        btnTwd.className = 'px-4 py-2 text-gray-500 hover:bg-gray-100';
      } else {
        btnTwd.className = 'px-4 py-2 bg-white text-[#0066cc] font-semibold';
        btnUsd.className = 'px-4 py-2 text-gray-500 hover:bg-gray-100';
      }

      document.getElementById('opt-zh').classList.toggle('active', lang === 'zh');
      document.getElementById('opt-en').classList.toggle('active', lang === 'en');
    }

    function setCurrency(c) {
      curr = c;
      render();
    }

    function changeLang(l) {
      lang = l;
      render();
      langMenu.classList.add('hidden');
    }

    function openUploadModal() {
      modalOverlay.classList.remove('hidden');
      document.getElementById('modal-step-1').classList.remove('hidden');
      document.getElementById('modal-step-2').classList.add('hidden');
    }
    function closeUploadModal() {
      modalOverlay.classList.add('hidden');
    }

    function startScan() {
      document.getElementById('modal-step-1').classList.add('hidden');
      document.getElementById('modal-step-2').classList.remove('hidden');
      const bar = document.getElementById('scan-bar');
      bar.style.width = '0';
      setTimeout(() => bar.style.width = '100%', 100);

      const log = document.getElementById('scan-log');
      log.innerHTML = '';
      setTimeout(() => log.innerHTML = '&gt; Detecting Language: zh-TW', 800);
      setTimeout(() => log.innerHTML += '<br>&gt; Parsing: "ÂØåÈÇ¶‰∫∫Â£Ω (Fubon Life)"', 1600);
      setTimeout(() => log.innerHTML += '<br>&gt; Match IRS Code: 8938', 2400);

      setTimeout(() => {
        assets.unshift({
          id: 99,
          name: {en:'Fubon Life (Whole Life)', zh:'ÂØåÈÇ¶‰∫∫Â£Ω (ÁµÇË∫´Â£ΩÈö™)'},
          type: {en:'Insurance', zh:'ÂÑ≤ËìÑÈö™'},
          region: 'TW',
          usd: 52000,
          new: true,
          risk: true
        });

        const tEl = document.getElementById('val-tw');
        tEl.dataset.usd = parseFloat(tEl.dataset.usd) + 52000;
        const gEl = document.getElementById('val-global');
        gEl.dataset.usd = parseFloat(gEl.dataset.usd) + 52000;
        geoChart.data.datasets[0].data[1] += 52000;
        geoChart.update();

        document.getElementById('ai-alert').classList.remove('hidden');
        render();
        closeUploadModal();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }, 3000);
    }

    // ===== Auth Modal =====
    let authMode = 'register';

    function openAuthModal(mode) {
      authMode = mode;
      const title = document.getElementById('auth-title');
      const btnText = document.getElementById('auth-submit-text');
      const msg = document.getElementById('auth-message');
      msg.textContent = '';
      msg.className = 'text-sm h-5 text-center';

      if (mode === 'login') {
        title.textContent = 'ÁôªÂÖ• TAIMIC Â∏≥Ëôü';
        btnText.textContent = 'ÁôªÂÖ•';
      } else {
        title.textContent = 'Ë®ªÂÜä TAIMIC Â∏≥Ëôü';
        btnText.textContent = 'Ë®ªÂÜä';
      }

      document.getElementById('auth-email').value = '';
      document.getElementById('auth-password').value = '';

      authOverlay.classList.remove('hidden');
    }

    function closeAuthModal() {
      authOverlay.classList.add('hidden');
    }

    async function callAuthAPI(path, payload) {
      const res = await fetch(`${API_BASE}${path}`, {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      return await res.json();
    }

    async function handleAuthSubmit() {
      const email = document.getElementById('auth-email').value.trim();
      const password = document.getElementById('auth-password').value;
      const msg = document.getElementById('auth-message');
      msg.textContent = '';
      msg.className = 'text-sm h-5 text-center';

      if (!email || !password) {
        msg.textContent = 'Ë´ãËº∏ÂÖ• email ËàáÂØÜÁ¢º„ÄÇ';
        msg.classList.add('text-red-500');
        return;
      }

      try {
        const path = authMode === 'register' ? '/api/register' : '/api/login';
        const data = await callAuthAPI(path, { email, password });

        console.log('auth response', data);

        if (data.ok) {
          msg.textContent = authMode === 'register'
            ? 'Ë®ªÂÜäÊàêÂäüÔºåË´ãÈáçÊñ∞ÁôªÂÖ•„ÄÇ'
            : `ÁôªÂÖ•ÊàêÂäüÔºåÊ≠°Ëøé ${data.user?.email || email}`;
          msg.classList.add('text-green-600');

          if (authMode === 'login') {
            localStorage.setItem('taimic-user-email', data.user?.email || email);
            setTimeout(closeAuthModal, 1200);
          }
        } else {
          msg.textContent = data.message || 'Êìç‰ΩúÂ§±ÊïóÔºåË´ãÁ®çÂæåÂÜçË©¶„ÄÇ';
          msg.classList.add('text-red-500');
        }
      } catch (e) {
        console.error(e);
        msg.textContent = '‰º∫ÊúçÂô®ÈåØË™§ÔºåË´ãÁ®çÂæåÂÜçË©¶„ÄÇ';
        msg.classList.add('text-red-500');
      }
    }

    // ===== Global refs & init =====
    let geoChart;
    let langMenu, userMenu, modalOverlay, authOverlay;
    let dashboardMain, aboutSection;

    window.onload = function () {
      const ctx = document.getElementById('geoChart').getContext('2d');
      geoChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['US', 'TW'],
          datasets: [{
            data: [482500, 315200],
            backgroundColor: ['#2563eb', '#111827'],
            borderWidth: 0
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '72%',
          plugins: {
            legend: { display: false }
          }
        }
      });

      langMenu = document.getElementById('lang-menu');
      userMenu = document.getElementById('user-menu');
      modalOverlay = document.getElementById('modal-overlay');
      authOverlay = document.getElementById('auth-overlay');
      dashboardMain = document.getElementById('dashboard-main');
      aboutSection = document.getElementById('about-section');

      render();

      const langToggle = document.getElementById('lang-toggle');
      const userToggle = document.getElementById('user-toggle');

      function closeAllMenus() {
        langMenu.classList.add('hidden');
        userMenu.classList.add('hidden');
      }

      langToggle.addEventListener('click', e => {
        e.stopPropagation();
        const open = langMenu.classList.contains('hidden');
        closeAllMenus();
        if (open) langMenu.classList.remove('hidden');
      });
      langMenu.addEventListener('click', e => e.stopPropagation());

      userToggle.addEventListener('click', e => {
        e.stopPropagation();
        const open = userMenu.classList.contains('hidden');
        closeAllMenus();
        if (open) userMenu.classList.remove('hidden');
      });
      userMenu.addEventListener('click', e => e.stopPropagation());

      document.addEventListener('click', closeAllMenus);

      document.getElementById('auth-submit').addEventListener('click', handleAuthSubmit);

      // Nav ÂàáÊèõ Dashboard / About
      const navLinks = document.querySelectorAll('nav .nav-link');
      function setActiveNav(id) {
        navLinks.forEach(link => {
          link.classList.toggle('active', link.id === id);
        });
      }

      ['nav-overview','nav-tax','nav-reports'].forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        el.addEventListener('click', e => {
          e.preventDefault();
          dashboardMain.classList.remove('hidden');
          document.getElementById('dashboard-hero').classList.remove('hidden');
          aboutSection.classList.add('hidden');
          window.scrollTo({ top: 0, behavior: 'smooth' });
          setActiveNav(id);
        });
      });

      const aboutNav = document.getElementById('nav-about');
      aboutNav.addEventListener('click', e => {
        e.preventDefault();
        dashboardMain.classList.add('hidden');
        document.getElementById('dashboard-hero').classList.add('hidden');
        aboutSection.classList.remove('hidden');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        setActiveNav('nav-about');
      });
    };
  </script>
</body>
</html>
