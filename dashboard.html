<!DOCTYPE html>
<html lang="en">
<head>
  <title>Taimic – Reports Dashboard</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind + Chart.js -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Icons & fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <!-- Lucide (for sidebar icons) -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <!-- 設計系統 -->
  <link rel="stylesheet" href="main.css" />
</head>
<body class="min-h-screen bg-slate-100 text-slate-900">

  <!-- =================================================== -->
  <!-- LOGGED-IN DASHBOARD SHELL                           -->
  <!-- =================================================== -->
  <div id="dashboard-shell" class="min-h-screen flex bg-slate-100">

    <!-- ================= Glass Sidebar ================= -->
    <aside class="hidden md:flex w-[260px] flex-col bg-slate-50/80 backdrop-blur-2xl border-r border-slate-200/60">
      <!-- Logo -->
      <div class="px-5 pt-6 pb-4 flex items-center gap-3">
        <svg class="logo-clock w-9 h-9" viewBox="0 0 100 100">
          <defs>
            <linearGradient id="clockGradientDash" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#bfdbfe" />
              <stop offset="100%" stop-color="#60a5fa" />
            </linearGradient>
          </defs>
          <circle cx="50" cy="50" r="46" class="clock-outer" />
          <circle cx="50" cy="50" r="38" class="clock-inner" />
          <circle cx="50" cy="50" r="30" class="clock-core" />
          <line x1="50" y1="12" x2="50" y2="18" class="clock-tick-line" />
          <line x1="88" y1="50" x2="82" y2="50" class="clock-tick-line" />
          <line x1="50" y1="82" x2="50" y2="88" class="clock-tick-line" />
          <line x1="18" y1="50" x2="12" y2="50" class="clock-tick-line" />
          <line x1="50" y1="50" x2="50" y2="30" class="hand hand-hour" />
          <line x1="50" y1="50" x2="66" y2="34" class="hand hand-minute" />
          <circle cx="50" cy="50" r="3.2" class="center-dot" />
        </svg>
        <div class="flex flex-col">
          <span class="text-[18px] font-[700] tracking-tight text-[#0066cc] leading-none">TAIMIC</span>
          <span class="text-[10px] font-[600] tracking-[0.18em] text-gray-500 mt-1 uppercase">Global Wealth</span>
        </div>
      </div>

      <div class="px-5 pt-2 pb-1">
        <p class="text-[11px] font-semibold tracking-[0.16em] text-slate-400 uppercase">
          Wealth
        </p>
      </div>
      <nav class="px-3 space-y-1 text-sm">
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl bg-slate-200/60 text-slate-900 font-semibold">
          <i data-lucide="pie-chart" class="w-4 h-4"></i>
          <span>Overview</span>
        </button>
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-slate-200/40 transition">
          <i data-lucide="layers" class="w-4 h-4"></i>
          <span>Assets</span>
          <span class="ml-auto text-[10px] rounded-full bg-slate-200/70 px-2 py-0.5">Soon</span>
        </button>
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-slate-200/40 transition">
          <i data-lucide="line-chart" class="w-4 h-4"></i>
          <span>Performance</span>
        </button>
      </nav>

      <div class="px-5 pt-5 pb-1 mt-3">
        <p class="text-[11px] font-semibold tracking-[0.16em] text-slate-400 uppercase">
          Compliance
        </p>
      </div>
      <nav class="px-3 space-y-1 text-sm">
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-slate-200/40 transition">
          <i data-lucide="shield-check" class="w-4 h-4"></i>
          <span>Tax Status</span>
        </button>
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-slate-200/40 transition">
          <i data-lucide="file-badge" class="w-4 h-4"></i>
          <span>FBAR / FATCA</span>
        </button>
        <button type="button" class="w-full flex items-center gap-2 px-3 py-2 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-slate-200/40 transition">
          <i data-lucide="files" class="w-4 h-4"></i>
          <span>Documents</span>
        </button>
      </nav>

      <div class="mt-auto px-5 py-4 border-t border-slate-200/60 text-[11px] text-slate-500">
        <p class="font-medium">TAIMIC demo</p>
        <p>Cross-border family OS</p>
      </div>
    </aside>

    <!-- ================= Right side: Header + Content ================= -->
    <div class="flex-1 flex flex-col min-h-0">
      <!-- Glass Top Bar -->
      <header class="sticky top-0 z-30 border-b border-slate-200/70 bg-white/70 backdrop-blur-md">
        <div class="max-w-[1200px] mx-auto px-5 py-3 flex items-center justify-between gap-3">
          <div class="flex items-center gap-3">
            <div class="hidden sm:flex items-center gap-2 text-[11px] text-slate-500 border border-slate-200/80 rounded-full px-3 py-1 bg-white/60">
              <i class="fa-regular fa-calendar-check text-[11px]"></i>
              <span>Snapshot as of</span>
              <span class="font-semibold text-slate-800">2025-12-01</span>
            </div>
            <div class="text-sm sm:text-base">
              <p class="text-[11px] uppercase tracking-[0.16em] text-slate-400 mb-0.5">Dashboard</p>
              <p class="font-semibold text-slate-900">
                Welcome, <span id="dash-user-name">Alex</span>
              </p>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <button class="relative w-9 h-9 rounded-full bg-white/70 border border-slate-200/80 flex items-center justify-center backdrop-blur-md hover:bg-slate-100 transition">
              <i class="fa-regular fa-bell text-slate-500 text-sm"></i>
              <span class="absolute -top-0.5 -right-0.5 w-2 h-2 rounded-full bg-emerald-400 ring-2 ring-white"></span>
            </button>

            <!-- 使用者泡泡：跟 main.js 相容 -->
            <div class="relative">
              <button
                id="dash-user-toggle"
                type="button"
                class="w-9 h-9 rounded-full bg-[#0f172a] text-white flex items-center justify-center text-sm font-semibold hover:bg-black transition-colors"
              >
                <span id="dash-user-initial">T</span>
              </button>
              <div
                id="dash-user-menu"
                class="hidden absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-lg border border-slate-100 text-sm overflow-hidden z-50"
              >
                <div class="px-4 py-3 border-b border-slate-100">
                  <p class="text-[10px] text-slate-500 uppercase tracking-[0.16em]">
                    Signed in as
                  </p>
                  <p id="dash-user-email" class="text-xs font-semibold text-slate-800 truncate">
                    you@gmail.com
                  </p>
                </div>
                <button
                  type="button"
                  onclick="handleLogout()"
                  class="w-full text-left px-4 py-2.5 flex items-center gap-2 text-slate-700 hover:bg-slate-50"
                >
                  <i class="fa-solid fa-arrow-right-from-bracket text-xs"></i>
                  <span>Logout</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- ================= Main Content ================= -->
      <main class="flex-1 overflow-y-auto">
        <div class="max-w-[1200px] mx-auto px-5 py-7 space-y-7">

          <!-- Intro copy -->
          <section>
            <p class="text-[11px] font-semibold tracking-[0.2em] text-slate-500 uppercase">
              Cross-border family report
            </p>
            <h1 class="text-2xl md:text-[26px] font-bold tracking-tight text-slate-900">
              Global net worth &amp; compliance overview
            </h1>
            <p class="mt-1 text-xs md:text-sm text-slate-600 max-w-xl">
              Taiwan, US and offshore positions, consolidated into one glass-clear view,
              with tax thresholds and AI notes highlighted for this year.
            </p>
          </section>

          <!-- =================================================== -->
          <!-- Row 1: High-Level Metrics ("Apple Wallet" style)    -->
          <!-- =================================================== -->
          <section class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5">
            <!-- Card 1: Net Worth + sparkline -->
            <div class="bg-white/80 backdrop-blur-xl border border-slate-200/80 rounded-2xl shadow-sm p-4 flex flex-col justify-between">
              <div class="flex items-start justify-between gap-2">
                <div>
                  <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                    Global net worth
                  </p>
                  <div
                    id="dash-networth-value"
                    class="mt-1 text-[22px] md:text-[24px] font-bold text-slate-900 font-mono tracking-tight"
                  >
                    $0
                  </div>
                  <p id="dash-networth-currency-label" class="text-[11px] text-slate-500 mt-1">
                    Base: USD
                  </p>
                </div>
                <div
                  id="dash-networth-change-pill"
                  class="inline-flex items-center px-2.5 py-1 rounded-full text-[11px] font-medium bg-emerald-50 text-emerald-700"
                >
                  <i
                    id="dash-networth-change-icon"
                    class="mr-1 text-[10px] fa-solid fa-arrow-trend-up"
                  ></i>
                  <span id="dash-networth-change-value">+0 (Today)</span>
                </div>
              </div>
              <div class="mt-4">
                <canvas id="netWorthSparkline" class="h-10 w-full"></canvas>
              </div>
            </div>

            <!-- Card 2: Safe vs Risk -->
            <div class="bg-white/80 backdrop-blur-xl border border-slate-200/80 rounded-2xl shadow-sm p-4 flex flex-col justify-between">
              <div class="flex items-start justify-between gap-2">
                <div>
                  <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                    Safe vs risk
                  </p>
                  <p class="mt-1 text-sm font-semibold text-slate-900">
                    Cash vs investments
                  </p>
                </div>
              </div>
              <div class="mt-4 space-y-2">
                <div class="flex justify-between text-[11px] text-slate-500">
                  <span>Safe (Cash &amp; deposits)</span>
                  <span>35%</span>
                </div>
                <div class="w-full h-2.5 rounded-full bg-slate-100 overflow-hidden">
                  <div class="h-full w-[35%] bg-emerald-400/90"></div>
                </div>
                <div class="flex justify-between text-[11px] text-slate-500 mt-3">
                  <span>Risk (Market &amp; alternatives)</span>
                  <span>65%</span>
                </div>
                <div class="w-full h-2.5 rounded-full bg-slate-100 overflow-hidden">
                  <div class="h-full w-[65%] bg-sky-500/90"></div>
                </div>
              </div>
            </div>

            <!-- Card 3: Compliance Score donut -->
            <div class="bg-white/80 backdrop-blur-xl border border-slate-200/80 rounded-2xl shadow-sm p-4 flex flex-col">
              <div class="flex items-start justify-between gap-2">
                <div>
                  <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                    Compliance score
                  </p>
                  <p class="mt-1 text-sm font-semibold text-slate-900">
                    Cross-border coverage
                  </p>
                </div>
              </div>
              <div class="mt-3 flex items-center justify-center">
                <div class="relative w-28 h-28">
                  <canvas id="complianceScoreChart"></canvas>
                  <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <div class="text-center">
                      <div class="text-xl font-bold text-slate-900">90%</div>
                      <div class="text-[10px] text-slate-500">Compliant</div>
                    </div>
                  </div>
                </div>
              </div>
              <p class="mt-3 text-[11px] text-slate-500 text-center">
                FBAR, FATCA and CRS checks are within expected ranges for this year.
              </p>
            </div>
          </section>

          <!-- =================================================== -->
          <!-- Row 2: Left = Wealth / Right = Compliance           -->
          <!-- =================================================== -->
          <section class="grid grid-cols-1 lg:grid-cols-2 gap-5 lg:gap-6">
            <!-- Left: Asset allocation donut -->
            <div class="bg-white/80 backdrop-blur-xl border border-slate-200/80 rounded-2xl shadow-sm p-5 flex flex-col">
              <div class="flex items-start justify-between mb-3">
                <div>
                  <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                    Asset allocation
                  </p>
                  <h2 class="text-sm font-semibold text-slate-900">
                    Cross-border balance sheet
                  </h2>
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-[1.1fr,1fr] gap-4 md:gap-6 items-center">
                <div class="relative max-w-[260px] mx-auto aspect-square">
                  <!-- Chart.js 使用原本的 allocationChart id，方便沿用 main.js -->
                  <canvas id="allocationChart"></canvas>
                  <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                    <div class="text-center">
                      <div class="text-xs uppercase tracking-[0.16em] text-slate-400 mb-1">
                        TOTAL
                      </div>
                      <div class="text-lg font-bold text-slate-900 font-mono">
                        100%
                      </div>
                    </div>
                  </div>
                </div>

                <div class="space-y-3 text-xs text-slate-700">
                  <!-- TW / US / offshore 數字：沿用原本 id 給 main.js 更新 -->
                  <div class="flex items-center justify-between">
                    <div>
                      <p class="font-semibold text-slate-900">Taiwan slice</p>
                      <p id="dash-region-tw-value" class="font-mono text-sm text-slate-900">$0</p>
                      <p id="dash-region-tw-percent" class="text-[10px] text-slate-500">0% of total</p>
                    </div>
                    <div class="text-right">
                      <p class="font-semibold text-slate-900">FX impact (demo)</p>
                      <p id="fx-impact-value" class="font-mono text-sm text-slate-900">+0</p>
                      <p class="text-[10px] text-slate-500">TWD vs USD moves</p>
                    </div>
                  </div>

                  <div class="flex items-center justify-between">
                    <div>
                      <p class="font-semibold text-slate-900">US &amp; offshore</p>
                      <p id="dash-region-us-value" class="font-mono text-sm text-slate-900">$0</p>
                      <p id="dash-region-us-percent" class="text-[10px] text-slate-500">0% of total</p>
                    </div>
                  </div>

                  <div class="border-t border-slate-100 pt-3 space-y-2">
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <span class="inline-flex w-2.5 h-2.5 rounded-full bg-[#0f5ad8]"></span>
                        <p class="font-semibold text-slate-900 text-xs">Market assets</p>
                      </div>
                      <p id="alloc-market-percent" class="font-semibold text-slate-900 text-xs">0%</p>
                    </div>
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <span class="inline-flex w-2.5 h-2.5 rounded-full bg-indigo-300"></span>
                        <p class="font-semibold text-slate-900 text-xs">Real estate</p>
                      </div>
                      <p id="alloc-realestate-percent" class="font-semibold text-slate-900 text-xs">0%</p>
                    </div>
                    <div class="flex items-center justify-between">
                      <div class="flex items-center gap-2">
                        <span class="inline-flex w-2.5 h-2.5 rounded-full bg-sky-300"></span>
                        <p class="font-semibold text-slate-900 text-xs">Defensive / cash</p>
                      </div>
                      <p id="alloc-defensive-percent" class="font-semibold text-slate-900 text-xs">0%</p>
                    </div>
                    <p
                      id="alloc-summary-text"
                      class="mt-1 p-3 rounded-xl bg-slate-50 border border-slate-200/70 text-[11px] text-slate-600"
                    >
                      Your largest sleeve is Market at 0%. Review if this aligns with your risk tolerance and cash needs.
                    </p>
                  </div>
                </div>
              </div>

              <!-- 這兩個只是給 main.js 填值用，可隱藏 -->
              <div class="sr-only">
                <span id="dash-tooltip-tw">TW demo</span>
                <span id="dash-tooltip-us">US demo</span>
              </div>
            </div>

            <!-- Right: Compliance Risk Monitor -->
            <div class="bg-white/80 backdrop-blur-xl border border-slate-200/80 rounded-2xl shadow-sm p-5 flex flex-col">
              <div class="flex items-start justify-between mb-3">
                <div>
                  <p class="text-[11px] font-semibold tracking-[0.18em] text-slate-500 uppercase">
                    Risk &amp; compliance monitor
                  </p>
                  <h2 class="text-sm font-semibold text-slate-900">
                    Cross-border obligations
                  </h2>
                </div>
              </div>

              <div class="space-y-3 text-xs">
                <!-- FBAR -->
                <div class="flex items-start gap-3 rounded-xl bg-emerald-50/80 border border-emerald-100 px-3 py-2">
                  <div class="mt-1">
                    <span class="inline-flex w-2.5 h-2.5 rounded-full bg-emerald-500 shadow-[0_0_0_4px_rgba(16,185,129,0.25)]"></span>
                  </div>
                  <div class="flex-1">
                    <p class="font-semibold text-slate-900 flex items-center gap-2">
                      FBAR filing
                      <span class="inline-flex items-center rounded-full bg-emerald-600/10 text-emerald-700 px-2 py-0.5 text-[10px] font-semibold">
                        Completed
                      </span>
                    </p>
                    <p class="text-[11px] text-slate-700">
                      Foreign account balances have been aggregated for FinCEN Form 114 this year.
                    </p>
                  </div>
                </div>

                <!-- FATCA -->
                <div class="flex items-start gap-3 rounded-xl bg-amber-50/80 border border-amber-100 px-3 py-2">
                  <div class="mt-1">
                    <span class="inline-flex w-2.5 h-2.5 rounded-full bg-amber-400 shadow-[0_0_0_4px_rgba(251,191,36,0.25)]"></span>
                  </div>
                  <div class="flex-1">
                    <p class="font-semibold text-slate-900 flex items-center gap-2">
                      FATCA threshold
                      <span class="inline-flex items-center rounded-full bg-amber-500/10 text-amber-700 px-2 py-0.5 text-[10px] font-semibold">
                        Near limit
                      </span>
                    </p>
                    <p class="text-[11px] text-slate-700 mb-2">
                      Current estimated foreign financial assets are approaching the Form 8938 reporting band.
                    </p>
                    <div class="flex items-center justify-between text-[11px] text-slate-500 mb-1">
                      <span>$48,000 / $50,000</span>
                      <span>96%</span>
                    </div>
                    <div class="w-full h-2 rounded-full bg-slate-100 overflow-hidden">
                      <div class="h-full w-[96%] bg-gradient-to-r from-amber-400 to-amber-500"></div>
                    </div>
                  </div>
                </div>

                <!-- CRS -->
                <div class="flex items-start gap-3 rounded-xl bg-slate-50 border border-slate-200 px-3 py-2">
                  <div class="mt-1">
                    <span class="inline-flex w-2.5 h-2.5 rounded-full bg-sky-500 shadow-[0_0_0_4px_rgba(59,130,246,0.25)]"></span>
                  </div>
                  <div class="flex-1">
                    <p class="font-semibold text-slate-900 flex items-center gap-2">
                      CRS status
                      <span class="inline-flex items-center rounded-full bg-sky-500/10 text-sky-700 px-2 py-0.5 text-[10px] font-semibold">
                        Active
                      </span>
                    </p>
                    <p class="text-[11px] text-slate-700">
                      Automatic exchange of information is enabled for participating jurisdictions.
                    </p>
                  </div>
                </div>
              </div>

              <p class="mt-4 pt-3 border-t border-slate-100 text-[11px] text-slate-500">
                These signals are for screening and planning only. Export this section and share it
                with your cross-border tax advisor for formal advice.
              </p>
            </div>
          </section>
        </div>
      </main>

      <!-- Footer -->
      <footer class="border-t border-slate-200 bg-slate-100/90">
        <div class="max-w-[1200px] mx-auto px-5 pt-4 pb-3">
          <div class="flex flex-col md:flex-row items-center justify-between gap-3 text-xs text-slate-500">
            <div>© 2025 Taimic Inc. All Rights Reserved.</div>
            <div class="flex items-center gap-4 text-slate-400">
              <i class="fa-brands fa-x-twitter"></i>
              <i class="fa-brands fa-discord"></i>
              <i class="fa-brands fa-instagram"></i>
              <i class="fa-brands fa-github"></i>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>

  <!-- overlay：先留空給之後 upload modal 用 -->
  <div
    id="modal-overlay"
    class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  ></div>

  <!-- Auth overlay：登入 / 註冊共用（和 index.html 共用 main.js） -->
  <div
    id="auth-overlay"
    class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div class="w-full max-w-sm bg-white rounded-2xl shadow-2xl p-6 relative">
      <button
        type="button"
        onclick="closeAuthModal()"
        class="absolute right-3 top-3 text-slate-400 hover:text-slate-600 text-sm"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>

      <div class="flex justify-center mb-4">
        <div class="inline-flex bg-slate-100 rounded-full p-1">
          <button
            type="button"
            id="auth-tab-login"
            onclick="openAuthModal('login')"
            class="flex-1 px-4 py-1.5 text-xs font-semibold rounded-full bg-white text-slate-900 shadow-sm"
          >
            Log in
          </button>
          <button
            type="button"
            id="auth-tab-register"
            onclick="openAuthModal('register')"
            class="flex-1 px-4 py-1.5 text-xs font-semibold rounded-full text-slate-500 hover:text-slate-900 hover:bg-slate-100"
          >
            Sign up
          </button>
        </div>
      </div>

      <h2
        id="auth-title"
        class="text-lg font-semibold text-slate-900 mb-1 text-center"
      >
        Login to Taimic
      </h2>

      <div id="auth-message" class="text-sm h-5 text-center"></div>

      <label class="block text-xs font-medium text-slate-700 mt-2 mb-1">
        Email
      </label>
      <input
        id="auth-email"
        type="email"
        class="w-full border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]"
        placeholder="you@gmail.com"
      />

      <label class="block text-xs font-medium text-slate-700 mt-3 mb-1">
        Password
      </label>
      <input
        id="auth-password"
        type="password"
        class="w-full border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]"
        placeholder="••••••••"
      />

      <button
        id="auth-submit"
        type="button"
        class="mt-5 w-full inline-flex items-center justify-center gap-2 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm font-semibold py-2.5 shadow-sm transition"
      >
        <span id="auth-submit-text">Login</span>
        <i class="fa-solid fa-arrow-right-long text-xs"></i>
      </button>
    </div>
  </div>

  <!-- 共用 JS（會幫你算 net worth / TW / US 等數字）-->
  <script src="main.js"></script>

  <!-- 專屬這個 dashboard 的小圖表：sparkline + compliance donut -->
  <script>
    window.addEventListener("load", function () {
      // Lucide icons
      if (window.lucide) {
        lucide.createIcons();
      }

      // Net worth sparkline (demo data)
      const sparkCtx = document.getElementById("netWorthSparkline");
      if (sparkCtx && window.Chart) {
        new Chart(sparkCtx, {
          type: "line",
          data: {
            labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
            datasets: [
              {
                data: [910, 915, 920, 918, 930, 936, 942],
                borderWidth: 2,
                tension: 0.35,
                borderColor: "#22c55e",
                pointRadius: 0,
                fill: true,
                backgroundColor: "rgba(34,197,94,0.10)",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false }, tooltip: { enabled: false } },
            scales: {
              x: { display: false },
              y: { display: false },
            },
          },
        });
      }

      // Compliance score donut
      const compCtx = document.getElementById("complianceScoreChart");
      if (compCtx && window.Chart) {
        new Chart(compCtx, {
          type: "doughnut",
          data: {
            labels: ["Compliant", "Gap"],
            datasets: [
              {
                data: [90, 10],
                backgroundColor: ["#22c55e", "#e5e7eb"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: "75%",
            plugins: { legend: { display: false }, tooltip: { enabled: false } },
          },
        });
      }
    });
  </script>
</body>
</html>
