<!DOCTYPE html>
<html lang="en">
<head>
  <title>Taimic ‚Äì Reports Dashboard</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="main.css" />

  <style>
    .liquid {
      /* ‚úÖ Fix: keep blur (stable). url(#filter) inside backdrop-filter is not reliably supported */
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      background: rgba(255, 255, 255, 0.10);
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.45),
        inset 0 -1px 0 rgba(255, 255, 255, 0.18),
        6px 6px 16px rgba(15, 23, 42, 0.18),
        0 12px 30px rgba(37, 99, 235, 0.20);
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.45);
    }

    /* SidebarÔºö‰∏äÂçäÈÉ®ÊòØÊñáÂ≠óÂûãÈÄ£Áµê */
    .side-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
      padding: 0.25rem 0.1rem;
      font-size: 0.82rem;
      color: #64748b;
      background: transparent;
      border: none;
      box-shadow: none;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      cursor: pointer;
      transition: color 0.15s ease, transform 0.12s ease;
    }

    .side-item:hover {
      color: #0f172a;
      transform: translateX(2px);
    }

    .side-item-active {
      font-weight: 600;
      color: #0f172a;
      position: relative;
    }

    /* ÁëûÂ£´È¢®ÔºöÂ∑¶ÂÅ¥ 3px ÂìÅÁâåËâ≤Áõ¥Á∑öÁï∂ active Ê®ôË®ò */
    .side-item-active::before {
      content: '';
      position: absolute;
      left: -0.75rem;
      top: 0.2rem;
      bottom: 0.2rem;
      width: 3px;
      border-radius: 9999px;
      background-color: #002fa7; /* International Klein Blue */
    }

    /* Â≠êÈÅ∏ÂñÆÔºàÁ∏Æ‰∏ÄÊ†º„ÄÅÂ≠óÂÜçÂ∞è‰∏ÄÈªûÔºâ */
    .side-subitem {
      padding-left: 1.25rem;
      font-size: 0.78rem;
    }

    .side-bottom-link {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem 0.1rem;
      font-size: 0.82rem;
      color: #64748b;
      background: transparent;
      border: none;
      cursor: pointer;
      transition: color 0.15s ease, transform 0.12s ease;
    }

    .side-bottom-link i {
      font-size: 0.8rem;
    }

    .side-bottom-link:hover {
      color: #0f172a;
      transform: translateX(2px);
    }

    /* ‰∏âÊ¢ùÁ∑öÁöÑÊ®£ÂºèÔºàÁñäËµ∑‰æÜÔºâ */
    .menu-toggle .bar {
      display: block;
      width: 18px;
      height: 2px;
      border-radius: 9999px;
      background-color: #64748b;
    }

    /* Á¨¨‰∫åÊ¢ù„ÄÅÁ¨¨‰∏âÊ¢ùÂæÄ‰∏ãÊéí‰∏ÄÈªû */
    .menu-toggle .bar + .bar {
      margin-top: 3px;
    }

    .menu-toggle:hover .bar {
      background-color: #0f172a;
    }

    /* md ‰ª•‰∏äÊâçÊúÉÁúüÊ≠£Êää sidebar Êî∂ÊéâÔºàÊ°åÊ©ü‰∏âÊ¢ùÁ∑öÁî®Ôºâ */
    @media (min-width: 768px) {
      #sidebar.sidebar-collapsed {
        display: none !important;
      }
    }

    #ai-notes-list {
      max-height: 260px;
      overflow-y: auto;
    }

    /* ============= Family members page Â∞àÁî®Ê®£Âºè ============= */
    .family-page {
      background-color: #F9FAFB;
    }

    .family-heading {
      font-family: 'Merriweather', ui-serif, Georgia, 'Times New Roman', serif;
      letter-spacing: 0.02em;
    }

    .family-card {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 20px 40px rgba(15, 23, 42, 0.05);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .family-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.08);
    }

    .family-avatar {
      border-radius: 9999px;
      background: #002147;
      color: #f9fafb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .family-role-tag {
      font-size: 0.62rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #6b7280;
    }

    .family-status-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.2rem 0.7rem;
      border-radius: 9999px;
      font-size: 0.65rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      border-width: 1px;
      border-style: solid;
    }

    .family-status-dot {
      width: 0.5rem;
      height: 0.5rem;
      border-radius: 9999px;
    }

    .family-status-full {
      background-color: #ecfdf3;
      border-color: rgba(34, 197, 94, 0.3);
      color: #15803d;
    }

    .family-status-full .family-status-dot {
      background-color: #22c55e;
    }

    .family-status-shared {
      background-color: #eff6ff;
      border-color: rgba(37, 99, 235, 0.3);
      color: #1d4ed8;
    }

    .family-status-shared .family-status-dot {
      background-color: #2563eb;
    }

    .family-status-limited {
      background-color: #f9fafb;
      border-color: #e5e7eb;
      color: #4b5563;
    }

    .family-status-limited .family-status-dot {
      background-color: #9ca3af;
    }

    .family-meta-label {
      font-size: 0.65rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #9ca3af;
    }

    .family-meta-value {
      font-size: 0.75rem;
      color: #4b5563;
    }

    .family-divider {
      height: 1px;
      background: linear-gradient(to right, rgba(148, 163, 184, 0.28), rgba(148, 163, 184, 0.06));
    }

    /* ==========================================================
       ‚úÖ Insurance Â≠óÈ´îÁµ±‰∏ÄÔºàÁÖß us-accounts ÁöÑÊ®ôÈ°å/Â§ßÊï∏Â≠ó serifÔºâ
       ‰∏çÊîπ‰Ω†ÁöÑ partial Ê™îÔºåËºâÂÖ•ÂæåËá™ÂãïÂ•óÁî®
       ========================================================== */
    #page-us-insurance h1,
    #page-tw-insurance h1 {
      font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif !important;
    }

    /* Insurance È†ÅÈù¢ÊâÄÊúâ mono/tabular ÁöÑÊï∏Â≠ó ‚Üí ÊîπÊàê serifÔºàÈÅøÂÖç‰Ω†‰∏çË¶ÅÁöÑÈÇ£Á®ÆÊï∏Â≠óÂ≠óÈ´îÔºâ */
    #page-us-insurance .font-mono,
    #page-tw-insurance .font-mono,
    #page-us-insurance .tabular-nums,
    #page-tw-insurance .tabular-nums {
      font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif !important;
    }
  </style>
</head>

<body class="min-h-screen bg-[#F5F7FA] text-[#002147] overflow-x-hidden">

  <svg width="0" height="0" style="position:absolute;left:-9999px;top:-9999px;">
    <defs>
      <filter id="liquid_glass_filter">
        <feTurbulence type="fractalNoise" baseFrequency="0.003" numOctaves="2" result="noise" />
        <feGaussianBlur in="noise" stdDeviation="1.2" result="map" />
        <feDisplacementMap in="SourceGraphic" in2="map" scale="110" xChannelSelector="R" yChannelSelector="G" />
      </filter>
    </defs>
  </svg>

  <div id="dashboard-shell" class="min-h-screen flex flex-col bg-[#F5F7FA] pt-[72px]">
    <header class="bg-white border-b border-gray-200 fixed top-0 w-full z-40 shadow-sm h-[72px]">
      <div class="max-w-[1440px] mx-auto px-6 h-full flex justify-between items-center relative">
        <div class="flex items-center gap-3">
          <button
            id="sidebar-toggle-desktop"
            type="button"
            class="menu-toggle hidden md:flex flex-col items-center justify-center px-1 py-1"
          >
            <span class="sr-only">Toggle sidebar</span>
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>

          <div class="flex items-center gap-3 cursor-pointer" onclick="window.location.href='index.html'">
            <svg class="logo-clock w-10 h-10" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="clockGradient" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#bfdbfe" />
                  <stop offset="100%" stop-color="#60a5fa" />
                </linearGradient>
              </defs>
              <circle cx="50" cy="50" r="46" class="clock-outer" />
              <circle cx="50" cy="50" r="38" class="clock-inner" />
              <circle cx="50" cy="50" r="30" class="clock-core" />
              <line x1="50" y1="12" x2="50" y2="18" class="clock-tick-line" />
              <line x1="88" y1="50" x2="82" y2="50" class="clock-tick-line" />
              <line x1="50" y1="82" x2="50" y2="88" class="clock-tick-line" />
              <line x1="18" y1="50" x2="12" y2="50" class="clock-tick-line" />
              <line x1="50" y1="50" x2="50" y2="30" class="hand hand-hour" />
              <line x1="50" y1="50" x2="66" y2="34" class="hand hand-minute" />
              <circle cx="50" cy="50" r="3.2" class="center-dot" />
            </svg>
            <div class="flex flex-col justify-center">
              <span class="text-[22px] font-[700] tracking-tight text-[#0066cc] leading-none">TAIMIC</span>
              <span class="text-[10px] font-[600] tracking-[0.2em] text-gray-500 mt-1 uppercase">Global Wealth</span>
            </div>
          </div>
        </div>

        <div class="flex items-center gap-3">
          <div class="hidden md:inline-flex items-center gap-3 rounded-full border border-[#E5E7EB] bg-[#F3F4F6] px-3 py-1.5">
            <div class="text-xs">
              <span class="mr-1">üá∫üá∏/üáπüáº</span>
              <span class="font-mono tabular-nums font-semibold text-[#002147]">
                32.50
              </span>
            </div>
            <div class="flex items-center gap-1 text-[11px]">
              <span class="text-[#9CA3AF]">FX Today</span>
              <span class="font-mono tabular-nums text-[#CC5500]">
                ‚àí0.21%
              </span>
            </div>
          </div>

          <button
            type="button"
            class="hidden md:inline-flex items-center gap-2 rounded-full bg-[#002147] text-white text-xs font-semibold px-4 py-2 shadow-sm hover:bg-[#001a70] transition"
          >
            <i class="fa-solid fa-file-export text-[11px]"></i>
            <span>Export full report (PDF)</span>
          </button>

          <div class="relative">
            <button
              id="dash-user-toggle"
              type="button"
              class="w-9 h-9 rounded-full bg-[#002147] text-white flex items-center justify-center text-sm font-semibold hover:bg-[#001a70] transition-colors"
            >
              <span id="dash-user-initial">A</span>
            </button>
            <div
              id="dash-user-menu"
              class="hidden absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-lg border border-slate-100 text-sm overflow-hidden z-50"
            >
              <div class="px-4 py-3 border-b border-slate-100">
                <p class="text-[10px] text-slate-500 uppercase tracking-[0.16em]">
                  Signed in as
                </p>
                <p id="dash-user-email" class="text-xs font-semibold text-slate-800 truncate">
                  you@gmail.com
                </p>
              </div>
              <button
                type="button"
                onclick="handleLogout && handleLogout()"
                class="w-full text-left px-4 py-2.5 flex items-center gap-2 text-slate-700 hover:bg-slate-50"
              >
                <i class="fa-solid fa-arrow-right-from-bracket text-xs"></i>
                <span>Logout</span>
              </button>
            </div>
          </div>

          <button
            id="sidebar-toggle-mobile"
            type="button"
            class="menu-toggle flex md:hidden flex-col items-center justify-center p-2 relative z-50"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>
        </div>
      </div>
    </header>

    <div
      id="mobile-menu"
      class="md:hidden fixed top-[72px] left-0 right-0 bottom-0 z-30 bg-black/30 backdrop-blur-sm hidden"
    >
      <div
        id="mobile-menu-panel"
        class="absolute right-0 top-0 bottom-0 w-64 bg-white border-l border-slate-200 px-5 py-6 overflow-y-auto transform translate-x-full transition-transform duration-200"
      >
        <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase mb-4">
          Navigation
        </p>

        <button class="side-item" type="button" onclick="mobileNavigate('overview')">
          Overview
        </button>

        <button class="side-item mt-2" type="button" onclick="mobileNavigate('family')">
          Family members
        </button>

        <p class="mt-5 text-[10px] tracking-[0.2em] text-slate-400 uppercase">
          US assets
        </p>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-accounts')">
          Accounts
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-stocks')">
          Stocks
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-funds')">
          Funds
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-bonds')">
          <span>Bonds</span>
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-liabilities')">
          Liabilities
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-house')">
          House
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-crypto')">
          Crypto
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('us-insurance')">
          <span>Insurance</span>
        </button>

        <p class="mt-5 text-[10px] tracking-[0.2em] text-slate-400 uppercase">
          Taiwan assets
        </p>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-accounts')">
          Accounts
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-stocks')">
          Stocks
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-funds')">
          Funds
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-bonds')">
          <span>Bonds</span>
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-liabilities')">
          Liabilities
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-house')">
          House
        </button>
        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-crypto')">
          Crypto
        </button>

        <button class="side-item side-subitem" type="button" onclick="mobileNavigate('tw-insurance')">
          <span>Insurance</span>
        </button>

        <p class="mt-5 text-[10px] tracking-[0.2em] text-slate-400 uppercase">
          Other
        </p>
        <button class="side-item" type="button" onclick="mobileNavigate('help')">
          Help center
        </button>
        <button class="side-item" type="button" onclick="mobileNavigate('settings')">
          Settings
        </button>
      </div>
    </div>

    <div class="flex flex-1 relative">

      <aside
        id="sidebar"
        class="hidden md:flex flex-col w-64 px-5 py-6 border-r border-slate-200/70 bg-white/60 backdrop-blur-xl"
      >
        <nav class="space-y-1">
          <button
            class="side-item side-item-active"
            type="button"
            data-page="overview"
            onclick="switchDashboardPage('overview')"
          >
            <span>Overview</span>
          </button>

          <button
            class="side-item"
            type="button"
            data-page="family"
            onclick="switchDashboardPage('family')"
          >
            <span>Family members</span>
          </button>

          <button
            class="side-item"
            type="button"
            onclick="toggleSideSection('us')"
          >
            <span class="flex items-center gap-1">
              <span id="side-us-chevron" class="inline-block text-xs transition-transform">&gt;</span>
              <span>US assets</span>
            </span>
          </button>
          <div id="side-us-children" class="ml-4 mt-1 space-y-1 hidden">
            <button class="side-item side-subitem" type="button" data-page="us-accounts" onclick="switchDashboardPage('us-accounts')">
              <span>Accounts</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="us-stocks" onclick="switchDashboardPage('us-stocks')">
              <span>Stocks</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="us-funds" onclick="switchDashboardPage('us-funds')">
              <span>Funds</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="us-bonds" onclick="switchDashboardPage('us-bonds')">
              <span>Bonds</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="us-liabilities" onclick="switchDashboardPage('us-liabilities')">
              <span>Liabilities</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="us-house" onclick="switchDashboardPage('us-house')">
              <span>House</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="us-crypto" onclick="switchDashboardPage('us-crypto')">
              <span>Crypto</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="us-insurance" onclick="switchDashboardPage('us-insurance')">
              <span>Insurance</span>
            </button>
          </div>

          <button class="side-item" type="button" onclick="toggleSideSection('tw')">
            <span class="flex items-center gap-1">
              <span id="side-tw-chevron" class="inline-block text-xs transition-transform">&gt;</span>
              <span>Taiwan assets</span>
            </span>
          </button>
          <div id="side-tw-children" class="ml-4 mt-1 space-y-1 hidden">
            <button class="side-item side-subitem" type="button" data-page="tw-accounts" onclick="switchDashboardPage('tw-accounts')">
              <span>Accounts</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="tw-stocks" onclick="switchDashboardPage('tw-stocks')">
              <span>Stocks</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="tw-funds" onclick="switchDashboardPage('tw-funds')">
              <span>Funds</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="tw-bonds" onclick="switchDashboardPage('tw-bonds')">
              <span>Bonds</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="tw-liabilities" onclick="switchDashboardPage('tw-liabilities')">
              <span>Liabilities</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="tw-house" onclick="switchDashboardPage('tw-house')">
              <span>House</span>
            </button>
            <button class="side-item side-subitem" type="button" data-page="tw-crypto" onclick="switchDashboardPage('tw-crypto')">
              <span>Crypto</span>
            </button>

            <button class="side-item side-subitem" type="button" data-page="tw-insurance" onclick="switchDashboardPage('tw-insurance')">
              <span>Insurance</span>
            </button>
          </div>

          <div class="pt-4 mt-2 border-t border-slate-200/70 space-y-1">
            <button class="side-bottom-link" type="button" data-page="help" onclick="switchDashboardPage('help')">
              <i class="fa-regular fa-circle-question"></i>
              <span>Help center</span>
            </button>
            <button class="side-bottom-link" type="button" data-page="settings" onclick="switchDashboardPage('settings')">
              <i class="fa-solid fa-gear"></i>
              <span>Settings</span>
            </button>
          </div>
        </nav>
      </aside>

      <main class="flex-1">
        <div id="page-overview" class="dash-page" data-include="pages/overview.html"></div>

        <div id="page-us-accounts" class="dash-page hidden" data-include="pages/us-accounts.html"></div>

        <div id="page-us-stocks" class="dash-page hidden" data-include="pages/us-stocks.html"></div>

        <!-- ‚úÖ UPDATED: US FUNDS (Typography + title) -->
        <div id="page-us-funds" class="dash-page hidden max-w-[1200px] mx-auto px-6 py-8 lg:py-10">
          <div class="flex flex-col gap-1">
            <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
              US assets
            </p>

            <!-- ‚úÖ Title: match us-accounts style + add "US" -->
            <h1 class="text-[26px] md:text-[30px] font-semibold tracking-tight text-[#002147] font-serif leading-tight">
              US funds
            </h1>

            <p class="text-sm text-slate-600 max-w-2xl">
              <span class="font-semibold text-[#002147]">The Efficiency Engine</span> ‚Äî low-cost index ETFs, tax efficiency, and dividend yield.
            </p>
          </div>

          <!-- Summary Header (Cost & Yield) -->
          <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- 1) Total Fund Value -->
            <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm">
              <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                Total fund value
              </p>
              <div class="mt-2 flex items-end justify-between gap-3">
                <!-- ‚úÖ Number: serif like us-accounts -->
                <div class="text-2xl md:text-3xl font-semibold font-serif tracking-tight text-[#002147]">
                  $850,000.00
                </div>
                <span class="inline-flex items-center rounded-full bg-slate-50 text-slate-600 border border-slate-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  Core index
                </span>
              </div>
              <p class="mt-2 text-sm text-slate-600">
                Built for long-term compounding with minimal drag.
              </p>
            </div>

            <!-- 2) Weighted Expense Ratio -->
            <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm">
              <div class="flex items-center justify-between gap-3">
                <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                  Weighted expense ratio
                </p>
                <span class="inline-flex items-center rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  Pride metric
                </span>
              </div>

              <div class="mt-2 flex items-end justify-between gap-3">
                <!-- ‚úÖ Number: serif -->
                <div class="text-2xl md:text-3xl font-semibold font-serif tracking-tight text-emerald-700">
                  0.04%
                </div>
                <div class="text-[11px] text-slate-500">
                  Lower is better
                </div>
              </div>

              <!-- Visual bar comparison -->
              <div class="mt-4 space-y-3">
                <div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>Avg Mutual Fund</span>
                    <span class="font-mono tabular-nums">0.80%</span>
                  </div>
                  <div class="mt-1 h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-full bg-slate-400/70 rounded-full"></div>
                  </div>
                </div>

                <div>
                  <div class="flex items-center justify-between text-[11px] text-slate-500">
                    <span>Your Portfolio</span>
                    <span class="font-mono tabular-nums text-emerald-700 font-semibold">0.04%</span>
                  </div>
                  <div class="mt-1 h-2 rounded-full bg-slate-200 overflow-hidden">
                    <div class="h-full w-[5%] bg-emerald-500 rounded-full"></div>
                  </div>
                </div>
              </div>

              <p class="mt-3 text-sm text-slate-600">
                About <span class="font-mono tabular-nums font-semibold text-[#002147]">~95%</span> cheaper than a typical mutual fund fee.
              </p>
            </div>

            <!-- 3) Dividend Yield (TTM) -->
            <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm">
              <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                Dividend yield (TTM)
              </p>
              <div class="mt-2 flex items-end justify-between gap-3">
                <!-- ‚úÖ Number: serif -->
                <div class="text-2xl md:text-3xl font-semibold font-serif tracking-tight text-[#002147]">
                  1.85%
                </div>
                <span class="inline-flex items-center gap-2 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                  Qualified dividends
                </span>
              </div>
              <p class="mt-2 text-sm text-slate-600">
                Focus on after-tax income quality (not just headline yield).
              </p>
            </div>
          </div>

          <!-- Funds Table (The "Boglehead" View) -->
          <div class="mt-6 bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden">
            <div class="px-5 py-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
              <div>
                <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                  The Boglehead view
                </p>
                <h2
                  class="text-lg font-semibold text-[#002147]"
                  style="font-family: 'Playfair Display', serif;"
                >
                  Funds table
                </h2>
              </div>

              <div class="flex flex-wrap items-center gap-2">
                <span class="inline-flex items-center rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  Low fees
                </span>
                <span class="inline-flex items-center rounded-full bg-slate-50 text-slate-600 border border-slate-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  Tax efficiency
                </span>
              </div>
            </div>

            <div class="overflow-x-auto">
              <table class="min-w-[980px] w-full">
                <thead class="bg-slate-50">
                  <tr class="text-left text-[11px] uppercase tracking-[0.2em] text-slate-500">
                    <th class="px-5 py-3 font-semibold">Fund name</th>
                    <th class="px-5 py-3 font-semibold">Category</th>
                    <th class="px-5 py-3 font-semibold">Expense ratio</th>
                    <th class="px-5 py-3 font-semibold">Tax status</th>
                    <th class="px-5 py-3 font-semibold text-right">Market value</th>
                  </tr>
                </thead>

                <tbody class="divide-y divide-slate-100">
                  <tr class="hover:bg-slate-50/70 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-[#002fa7] font-bold">VOO</span>
                        <span class="text-sm text-slate-700">Vanguard S&amp;P 500 ETF</span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center rounded-full bg-slate-100 text-slate-600 px-2.5 py-1 text-[11px] font-semibold">
                        Large Cap Blend
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-emerald-700">0.03%</span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center gap-2 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                        <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                        Tax efficient
                      </span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$320,000.00</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-slate-50/70 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-[#002fa7] font-bold">VTI</span>
                        <span class="text-sm text-slate-700">Vanguard Total Stock Market ETF</span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center rounded-full bg-slate-100 text-slate-600 px-2.5 py-1 text-[11px] font-semibold">
                        US Total Market
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-emerald-700">0.03%</span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center gap-2 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                        <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                        Tax efficient
                      </span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$210,000.00</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-slate-50/70 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-[#002fa7] font-bold">VXUS</span>
                        <span class="text-sm text-slate-700">Vanguard Total International Stock ETF</span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center rounded-full bg-slate-100 text-slate-600 px-2.5 py-1 text-[11px] font-semibold">
                        International
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-emerald-700">0.07%</span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center gap-2 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                        <span class="w-1.5 h-1.5 rounded-full bg-emerald-500"></span>
                        Tax efficient
                      </span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$140,000.00</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-slate-50/70 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-[#002fa7] font-bold">BND</span>
                        <span class="text-sm text-slate-700">Vanguard Total Bond Market ETF</span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center rounded-full bg-slate-100 text-slate-600 px-2.5 py-1 text-[11px] font-semibold">
                        US Aggregate Bond
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-emerald-700">0.03%</span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center gap-2 rounded-full bg-slate-50 text-slate-600 border border-slate-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                        <span class="w-1.5 h-1.5 rounded-full bg-slate-400"></span>
                        Taxable event
                      </span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$110,000.00</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-slate-50/70 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-[#002fa7] font-bold">SCHD</span>
                        <span class="text-sm text-slate-700">Schwab U.S. Dividend Equity ETF</span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center rounded-full bg-slate-100 text-slate-600 px-2.5 py-1 text-[11px] font-semibold">
                        Dividend Equity
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-emerald-700">0.06%</span>
                    </td>
                    <td class="px-5 py-4">
                      <span class="inline-flex items-center gap-2 rounded-full bg-slate-50 text-slate-600 border border-slate-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                        <span class="w-1.5 h-1.5 rounded-full bg-slate-400"></span>
                        Taxable event
                      </span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$70,000.00</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="px-5 py-4 bg-white">
              <p class="text-xs text-slate-500">
                Demo numbers. ‚ÄúTax status‚Äù is a simplified signal: ETFs are generally more tax-efficient than mutual funds, while high distributions (e.g., bond interest / high dividend) can still create taxable income.
              </p>
            </div>
          </div>
        </div>

        <!-- ‚úÖ NOW PARTIAL: US BONDS -->
        <div id="page-us-bonds" class="dash-page hidden" data-include="pages/us-bonds.html"></div>

        <div id="page-us-liabilities" class="dash-page hidden" data-include="pages/us-liabilities.html"></div>

        <div id="page-us-house" class="dash-page hidden" data-include="pages/us-house.html"></div>

        <div id="page-us-crypto" class="dash-page hidden" data-include="pages/us-crypto.html"></div>

        <!-- ‚úÖ NOW PARTIAL: US INSURANCE -->
        <div id="page-us-insurance" class="dash-page hidden" data-include="pages/us-insurance.html"></div>

        <div id="page-tw-accounts" class="dash-page hidden" data-include="pages/tw-accounts.html"></div>

        <div id="page-tw-stocks" class="dash-page hidden" data-include="pages/tw-stocks.html"></div>

        <!-- ‚úÖ UPDATED: TAIWAN FUNDS (Typography) -->
        <div id="page-tw-funds" class="dash-page hidden max-w-[1200px] mx-auto px-6 py-8 lg:py-10">
          <div class="flex flex-col gap-1">
            <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
              Taiwan assets
            </p>

            <!-- ‚úÖ Title: match us-accounts serif -->
            <h1 class="text-[26px] md:text-[30px] font-semibold tracking-tight text-[#002147] font-serif leading-tight">
              Funds
            </h1>

            <p class="text-sm text-slate-600 max-w-2xl">
              <span class="font-semibold text-[#002147]">The Risk Scanner</span> ‚Äî active funds, high fees, and the <span class="font-semibold text-amber-700">PFIC</span> tax trap.
            </p>
          </div>

          <!-- Summary Header (PFIC Warning System) -->
          <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <!-- 1) Total Value (USD Equiv) -->
            <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm">
              <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                Total value (USD equiv)
              </p>
              <div class="mt-2 flex items-end justify-between gap-3">
                <!-- ‚úÖ Number: serif -->
                <div class="text-2xl md:text-3xl font-semibold font-serif tracking-tight text-[#002147]">
                  $120,000.00
                </div>
                <span class="inline-flex items-center rounded-full bg-slate-50 text-slate-600 border border-slate-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  FX converted
                </span>
              </div>
              <p class="mt-2 text-sm text-slate-600">
                Converted for consolidated reporting (demo values).
              </p>
            </div>

            <!-- 2) PFIC Exposure (Killer Feature) -->
            <div class="bg-amber-50 border border-amber-200 rounded-2xl p-5 shadow-sm">
              <div class="flex items-center justify-between gap-3">
                <p class="text-[11px] tracking-[0.24em] text-amber-700 uppercase">
                  PFIC exposure
                </p>
                <span class="inline-flex items-center gap-2 rounded-full bg-amber-300 text-amber-950 border border-amber-400/70 px-3 py-1 text-[11px] font-extrabold tracking-[0.18em] uppercase shadow-sm">
                  <i class="fa-solid fa-triangle-exclamation text-[12px]"></i>
                  Alert
                </span>
              </div>

              <div class="mt-3 flex items-start gap-3">
                <div class="w-11 h-11 rounded-2xl bg-amber-200 text-amber-950 flex items-center justify-center shadow-sm">
                  <i class="fa-solid fa-siren-on text-lg"></i>
                </div>
                <div class="flex-1">
                  <div
                    class="text-2xl md:text-3xl font-semibold text-rose-700 leading-none"
                    style="font-family: 'Playfair Display', serif;"
                  >
                    Critical Risk
                  </div>
                  <div class="mt-1 text-xs text-amber-900 font-semibold tracking-[0.16em] uppercase">
                    Form 8621 required
                  </div>
                </div>
              </div>

              <p class="mt-3 text-sm text-amber-900/80">
                Foreign mutual funds/ETFs can trigger punitive US tax treatment for US persons.
              </p>
            </div>

            <!-- 3) Est. Hidden Fees -->
            <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm">
              <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                Est. hidden fees
              </p>
              <div class="mt-2 flex items-end justify-between gap-3">
                <!-- ‚úÖ Number: serif -->
                <div class="text-2xl md:text-3xl font-semibold font-serif tracking-tight text-orange-700">
                  ~$2,400 / yr
                </div>
                <span class="inline-flex items-center rounded-full bg-orange-50 text-orange-700 border border-orange-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  Mgmt fee drag
                </span>
              </div>
              <p class="mt-2 text-sm text-slate-600">
                Illustrative: based on ~2% expense ratio on current value.
              </p>
            </div>
          </div>

          <!-- Funds Table (The "Compliance" View) -->
          <div class="mt-6 bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden">
            <div class="px-5 py-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
              <div>
                <p class="text-[11px] tracking-[0.24em] text-slate-400 uppercase">
                  The compliance view
                </p>
                <h2
                  class="text-lg font-semibold text-[#002147]"
                  style="font-family: 'Playfair Display', serif;"
                >
                  Funds table
                </h2>
              </div>

              <div class="flex flex-wrap items-center gap-2">
                <span class="inline-flex items-center rounded-full bg-amber-50 text-amber-800 border border-amber-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  PFIC flagged
                </span>
                <span class="inline-flex items-center rounded-full bg-rose-50 text-rose-700 border border-rose-200 px-3 py-1 text-[11px] font-semibold tracking-[0.14em] uppercase">
                  High fee warning
                </span>
              </div>
            </div>

            <div class="overflow-x-auto">
              <table class="min-w-[1040px] w-full">
                <thead class="bg-slate-50">
                  <tr class="text-left text-[11px] uppercase tracking-[0.2em] text-slate-500">
                    <th class="px-5 py-3 font-semibold">Fund name</th>
                    <th class="px-5 py-3 font-semibold">US tax classification</th>
                    <th class="px-5 py-3 font-semibold">Dist. yield</th>
                    <th class="px-5 py-3 font-semibold">Expense ratio</th>
                    <th class="px-5 py-3 font-semibold text-right">Value</th>
                  </tr>
                </thead>

                <tbody class="divide-y divide-slate-100">
                  <tr class="hover:bg-amber-50/40 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-sm text-slate-800 font-semibold">
                          Allianz Global AI Fund <span class="text-slate-500 font-normal">(ÂÆâËÅØAI‰∫∫Â∑•Êô∫ÊÖßÂü∫Èáë)</span>
                        </span>
                        <span class="text-xs text-slate-500 font-mono tabular-nums">
                          ISIN: LU0000000001
                        </span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <!-- Most prominent element -->
                      <span
                        class="inline-flex items-center gap-2 rounded-full bg-amber-300 text-amber-950 px-4 py-1.5 text-[11px] font-extrabold tracking-[0.20em] uppercase shadow-sm ring-2 ring-amber-400/70"
                        title="Punitive tax rates apply. Consider selling."
                      >
                        ‚ö†Ô∏è PFIC
                        <i class="fa-solid fa-triangle-exclamation text-[12px]"></i>
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">8.5%</div>
                      <div class="text-xs text-rose-700 font-semibold">
                        Fully Taxable as Ordinary Income
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-orange-700">1.80%</span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$45,000.00</div>
                      <div class="text-xs text-slate-500 font-mono tabular-nums">NT$1,430,000</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-amber-50/40 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-sm text-slate-800 font-semibold">
                          Fidelity Global Technology Fund <span class="text-slate-500 font-normal">(ÂØåÈÅîÂÖ®ÁêÉÁßëÊäÄÂü∫Èáë)</span>
                        </span>
                        <span class="text-xs text-slate-500 font-mono tabular-nums">
                          ISIN: LU0000000002
                        </span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span
                        class="inline-flex items-center gap-2 rounded-full bg-amber-300 text-amber-950 px-4 py-1.5 text-[11px] font-extrabold tracking-[0.20em] uppercase shadow-sm ring-2 ring-amber-400/70"
                        title="Punitive tax rates apply. Consider selling."
                      >
                        ‚ö†Ô∏è PFIC
                        <i class="fa-solid fa-triangle-exclamation text-[12px]"></i>
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">6.2%</div>
                      <div class="text-xs text-rose-700 font-semibold">
                        Fully Taxable as Ordinary Income
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-orange-700">1.65%</span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$38,000.00</div>
                      <div class="text-xs text-slate-500 font-mono tabular-nums">NT$1,210,000</div>
                    </td>
                  </tr>

                  <tr class="hover:bg-amber-50/40 transition-colors">
                    <td class="px-5 py-4">
                      <div class="flex flex-col">
                        <span class="text-sm text-slate-800 font-semibold">
                          JPM Global High Dividend Fund <span class="text-slate-500 font-normal">(È´òËÇ°ÊÅØÈÖçÊÅØÂûãÂü∫Èáë)</span>
                        </span>
                        <span class="text-xs text-slate-500 font-mono tabular-nums">
                          ISIN: LU0000000003
                        </span>
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span
                        class="inline-flex items-center gap-2 rounded-full bg-amber-300 text-amber-950 px-4 py-1.5 text-[11px] font-extrabold tracking-[0.20em] uppercase shadow-sm ring-2 ring-amber-400/70"
                        title="Punitive tax rates apply. Consider selling."
                      >
                        ‚ö†Ô∏è PFIC
                        <i class="fa-solid fa-triangle-exclamation text-[12px]"></i>
                      </span>
                    </td>
                    <td class="px-5 py-4">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">10.1%</div>
                      <div class="text-xs text-rose-700 font-semibold">
                        Fully Taxable as Ordinary Income
                      </div>
                    </td>
                    <td class="px-5 py-4">
                      <span class="font-mono tabular-nums font-semibold text-orange-700">2.05%</span>
                    </td>
                    <td class="px-5 py-4 text-right">
                      <div class="font-mono tabular-nums font-semibold text-[#002147]">$37,000.00</div>
                      <div class="text-xs text-slate-500 font-mono tabular-nums">NT$1,180,000</div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="px-5 py-4 bg-white">
              <p class="text-xs text-slate-500">
                Demo numbers. The PFIC badge is intentionally prominent ‚Äî for US persons, PFIC reporting and taxation can materially change after-tax outcomes.
              </p>
            </div>
          </div>

          <!-- Optional compliance callout (still within page; light-mode Swiss bank tone) -->
          <div class="mt-6 rounded-2xl border border-amber-200 bg-amber-50 p-5">
            <div class="flex items-start gap-3">
              <div class="w-11 h-11 rounded-2xl bg-amber-200 text-amber-950 flex items-center justify-center shadow-sm">
                <i class="fa-solid fa-shield-halved text-lg"></i>
              </div>
              <div>
                <h3 class="text-sm font-semibold text-[#002147]" style="font-family: 'Playfair Display', serif;">
                  PFIC warning system
                </h3>
                <p class="mt-1 text-sm text-amber-900/80">
                  When a fund is classified as PFIC, additional reporting (e.g., Form 8621) and potentially punitive tax outcomes may apply for US persons.
                  Use this page as a ‚Äúrisk scanner‚Äù and review options with a qualified tax professional.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- ‚úÖ NOW PARTIAL: TAIWAN BONDS -->
        <div id="page-tw-bonds" class="dash-page hidden" data-include="pages/tw-bonds.html"></div>

        <div
          id="page-family"
          class="dash-page hidden family-page"
          data-include="pages/family.html"
        ></div>

        <div id="page-tw-liabilities" class="dash-page hidden" data-include="pages/tw-liabilities.html"></div>

        <div id="page-tw-house" class="dash-page hidden" data-include="pages/tw-house.html"></div>

        <div id="page-tw-crypto" class="dash-page hidden" data-include="pages/tw-crypto.html"></div>

        <!-- ‚úÖ NOW PARTIAL: TAIWAN INSURANCE -->
        <div id="page-tw-insurance" class="dash-page hidden" data-include="pages/tw-insurance.html"></div>

        <div id="page-help" class="dash-page hidden max-w-[1200px] mx-auto px-6 py-8 lg:py-10">
          <h1 class="text-xl md:text-2xl font-semibold tracking-tight text-[#002147] mb-4">
            Help center
          </h1>
          <p class="text-sm text-[#4B5563] mb-2">
            This is a placeholder for help center content. Add FAQs and guides here.
          </p>
        </div>

        <div id="page-settings" class="dash-page hidden max-w-[1200px] mx-auto px-6 py-8 lg:py-10">
          <h1 class="text-xl md:text-2xl font-semibold tracking-tight text-[#002147] mb-4">
            Settings
          </h1>
          <p class="text-sm text-[#4B5563] mb-2">
            This is a placeholder for user &amp; report settings.
          </p>
        </div>
      </main>
    </div>

    <footer class="bg-[#f4f6fb] border-t border-gray-200">
      <div class="max-w-[1440px] mx-auto px-6 py-4">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-gray-500">
          <div class="text-center md:text-left">¬© 2025 Taimic Inc. All Rights Reserved.</div>
          <div class="flex items-center gap-4 text-gray-400">
            <i class="fa-brands fa-x-twitter hover:text-gray-600 transition-colors cursor-pointer"></i>
            <i class="fa-brands fa-discord hover:text-gray-600 transition-colors cursor-pointer"></i>
            <i class="fa-brands fa-instagram hover:text-gray-600 transition-colors cursor-pointer"></i>
            <i class="fa-brands fa-github hover:text-gray-600 transition-colors cursor-pointer"></i>
          </div>
        </div>
      </div>
    </footer>

  </div>

  <div id="modal-overlay" class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"></div>

  <div
    id="auth-overlay"
    class="hidden fixed inset-0 bg-[#111827]/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"
  >
    <div class="w-full max-w-sm bg-white rounded-2xl shadow-2xl p-6 relative">
      <button
        type="button"
        onclick="closeAuthModal && closeAuthModal()"
        class="absolute right-3 top-3 text-slate-400 hover:text-slate-600 text-sm"
      >
        <i class="fa-solid fa-xmark"></i>
      </button>

      <div class="flex justify-center mb-4">
        <div class="inline-flex bg-slate-100 rounded-full p-1">
          <button
            type="button"
            id="auth-tab-login"
            onclick="openAuthModal && openAuthModal('login')"
            class="flex-1 px-4 py-1.5 text-xs font-semibold rounded-full bg-white text-slate-900 shadow-sm"
          >
            Log in
          </button>
          <button
            type="button"
            id="auth-tab-register"
            onclick="openAuthModal && openAuthModal('register')"
            class="flex-1 px-4 py-1.5 text-xs font-semibold rounded-full text-slate-500 hover:text-slate-900 hover:bg-slate-100"
          >
            Sign up
          </button>
        </div>
      </div>

      <h2 id="auth-title" class="text-lg font-semibold text-slate-900 mb-1 text-center">
        Login to Taimic
      </h2>

      <div id="auth-message" class="text-sm h-5 text-center"></div>

      <label class="block text-xs font-medium text-slate-700 mt-2 mb-1">
        Email
      </label>
      <input
        id="auth-email"
        type="email"
        class="w-full border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]"
        placeholder="you@gmail.com"
      />

      <label class="block text-xs font-medium text-slate-700 mt-3 mb-1">
        Password
      </label>
      <input
        id="auth-password"
        type="password"
        class="w-full border border-slate-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#2563eb] focus:border-[#2563eb]"
        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
      />

      <button
        id="auth-submit"
        type="button"
        class="mt-5 w-full inline-flex items-center justify-center gap-2 rounded-full bg-[#2563eb] hover:bg-[#1d4ed8] text-white text-sm font-semibold py-2.5 shadow-sm transition"
      >
        <span id="auth-submit-text">Login</span>
        <i class="fa-solid fa-arrow-right-long text-xs"></i>
      </button>
    </div>
  </div>

  <script src="main.js"></script>
  <script src="include-partials.js"></script>

  <script>
    (function () {
      // ÊâãÊ©üÂè≥ÂÅ¥ÊäΩÂ±ú
      function setupMobileMenu() {
        const toggle = document.getElementById('sidebar-toggle-mobile');
        const overlay = document.getElementById('mobile-menu');
        const panel = document.getElementById('mobile-menu-panel');

        if (!toggle || !overlay || !panel) {
          console.warn('Mobile menu elements missing', { toggle, overlay, panel });
          return;
        }

        let prevBodyOverflow = '';

        function lockScroll() {
          prevBodyOverflow = document.body.style.overflow;
          document.body.style.overflow = 'hidden';
        }

        function unlockScroll() {
          document.body.style.overflow = prevBodyOverflow || '';
        }

        function openMenu() {
          overlay.classList.remove('hidden');
          lockScroll();
          panel.offsetHeight; // reflow
          panel.classList.remove('translate-x-full');
        }

        function closeMenu() {
          panel.classList.add('translate-x-full');

          const transitionHandler = () => {
            if (panel.classList.contains('translate-x-full')) {
              overlay.classList.add('hidden');
              unlockScroll();
            }
          };

          panel.addEventListener('transitionend', transitionHandler, { once: true });
        }

        toggle.addEventListener('click', (e) => {
          e.stopPropagation();
          if (overlay.classList.contains('hidden')) openMenu();
          else closeMenu();
        });

        overlay.addEventListener('click', (event) => {
          if (event.target === overlay) closeMenu();
        });

        window.__closeMobileMenu = closeMenu;
      }

      // ÊâãÊ©üÂ∞éËà™
      window.mobileNavigate = function (pageKey) {
        switchDashboardPage(pageKey);
        if (window.__closeMobileMenu) window.__closeMobileMenu();
        else {
          const overlay = document.getElementById('mobile-menu');
          if (overlay) overlay.classList.add('hidden');
        }
      };

      // Ê°åÊ©ü sidebar Êî∂Âêà
      function setupDesktopSidebarToggle() {
        const btn = document.getElementById('sidebar-toggle-desktop');
        const sidebar = document.getElementById('sidebar');
        if (!btn || !sidebar) return;
        btn.addEventListener('click', () => {
          sidebar.classList.toggle('sidebar-collapsed');
        });
      }

      // Â∑¶ÂÅ¥ US / TW Â∞èÁÆ≠È†≠Â±ïÈñã/Êî∂Âêà
      window.toggleSideSection = function (key) {
        const body = document.getElementById('side-' + key + '-children');
        const chevron = document.getElementById('side-' + key + '-chevron');
        if (!body || !chevron) return;
        body.classList.toggle('hidden');
        chevron.classList.toggle('rotate-90');
      };

      function ensureSideSectionOpen(key) {
        const body = document.getElementById('side-' + key + '-children');
        const chevron = document.getElementById('side-' + key + '-chevron');
        if (!body || !chevron) return;
        body.classList.remove('hidden');
        chevron.classList.add('rotate-90');
      }

      // ‚úÖ ÂàáÈ†Å‰øùÈö™ÔºöÂ¶ÇÊûú include-partials.js Ê≤íËºâ hidden pagesÔºåÈÄôË£°ÊúÉÊåâÈúÄËºâÂÖ•
      function loadPartialIfNeeded(container) {
        if (!container) return;
        const url = container.getAttribute('data-include');
        if (!url) return;

        // Â¶ÇÊûúÂ∑≤Á∂ìÊúâÂÖßÂÆπ‰∫ÜÔºåÂ∞±Áï∂‰Ωú loadedÔºàÈÅøÂÖçÈáçË§á fetchÔºâ
        if (container.dataset.loaded === '1') return;
        if ((container.innerHTML || '').trim().length > 0) {
          container.dataset.loaded = '1';
          return;
        }

        fetch(url)
          .then((r) => {
            if (!r.ok) throw new Error('Failed to load: ' + url + ' (' + r.status + ')');
            return r.text();
          })
          .then((html) => {
            container.innerHTML = html;
            container.dataset.loaded = '1';
          })
          .catch((err) => {
            console.error(err);
            container.innerHTML = `
              <div class="max-w-[1200px] mx-auto px-6 py-8 lg:py-10">
                <p class="text-[11px] font-semibold tracking-[0.24em] text-[#9CA3AF] uppercase">
                  Load error
                </p>
                <h1 class="text-[22px] md:text-[26px] font-semibold tracking-tight text-[#002147]">
                  Failed to load partial
                </h1>
                <p class="mt-2 text-sm text-[#4B5563]">
                  Could not load <span class="font-mono">${url}</span>. Check file path / deployment.
                </p>
              </div>
            `;
            container.dataset.loaded = '1';
          });
      }

      // ÂàáÊèõ dashboard ÂêÑÈ†Å
      window.switchDashboardPage = function (pageKey) {
        let target = document.getElementById('page-' + pageKey);

        if (!target) {
          console.warn('[Dashboard] Page not found:', pageKey, '‚Üí fallback to overview');
          pageKey = 'overview';
          target = document.getElementById('page-overview');
        }

        if (pageKey.startsWith('us-')) ensureSideSectionOpen('us');
        if (pageKey.startsWith('tw-')) ensureSideSectionOpen('tw');

        const pages = document.querySelectorAll('.dash-page');
        pages.forEach((page) => page.classList.add('hidden'));

        // ‚úÖ ÂÖàÁ¢∫‰øù partial ÁúüÁöÑË¢´ËºâÈÄ≤‰æÜ
        loadPartialIfNeeded(target);

        target.classList.remove('hidden');
        window.scrollTo({ top: 0, behavior: 'auto' });

        // Êõ¥Êñ∞ sidebar active Ê®£Âºè
        const navButtons = document.querySelectorAll('[data-page]');
        navButtons.forEach((btn) => btn.classList.remove('side-item-active'));
        const activeButtons = document.querySelectorAll('[data-page="' + pageKey + '"]');
        activeButtons.forEach((btn) => btn.classList.add('side-item-active'));
      };

      // Avatar menu
      function setupUserMenu() {
        const btn = document.getElementById('dash-user-toggle');
        const menu = document.getElementById('dash-user-menu');
        if (!btn || !menu) return;

        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          menu.classList.toggle('hidden');
        });

        document.addEventListener('click', (e) => {
          if (menu.classList.contains('hidden')) return;
          if (!btn.contains(e.target) && !menu.contains(e.target)) {
            menu.classList.add('hidden');
          }
        });
      }

      function initDashboard() {
        setupMobileMenu();
        setupDesktopSidebarToggle();
        setupUserMenu();
        switchDashboardPage('overview');
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initDashboard);
      } else {
        initDashboard();
      }
    })();
  </script>
</body>
</html>
